{"version":3,"file":"ballerine-sdk.umd.js","sources":["../../../node_modules/.pnpm/svelte@3.59.2/node_modules/svelte/internal/index.mjs","../../../node_modules/.pnpm/svelte@3.59.2/node_modules/svelte/easing/index.mjs","../../../node_modules/.pnpm/svelte@3.59.2/node_modules/svelte/transition/index.mjs","../../../node_modules/.pnpm/svelte@3.59.2/node_modules/svelte/animate/index.mjs","../../../node_modules/.pnpm/svelte@3.59.2/node_modules/svelte/store/index.mjs","../../../node_modules/.pnpm/@zerodevx+svelte-toast@0.8.2/node_modules/@zerodevx/svelte-toast/src/stores.js","../../../node_modules/.pnpm/svelte@3.59.2/node_modules/svelte/motion/index.mjs","../../../node_modules/.pnpm/@zerodevx+svelte-toast@0.8.2/node_modules/@zerodevx/svelte-toast/src/ToastItem.svelte","../../../node_modules/.pnpm/@zerodevx+svelte-toast@0.8.2/node_modules/@zerodevx/svelte-toast/src/SvelteToast.svelte","../src/lib/utils/check-connection.ts","../src/lib/contexts/configuration/types.ts","../src/lib/configuration/configuration.ts","../src/lib/contexts/configuration/store.ts","../src/lib/utils/object-utils.ts","../src/lib/utils/string-utils/resolve-string-template.ts","../src/lib/contexts/configuration/getters.ts","../../../node_modules/.pnpm/deepmerge@4.3.1/node_modules/deepmerge/dist/cjs.js","../src/lib/utils/css-utils.ts","../../../node_modules/.pnpm/jslib-html5-camera-photo@3.3.4/node_modules/jslib-html5-camera-photo/build/index.js","../src/lib/contexts/app-state/stores.ts","../src/lib/contexts/app-state/types.ts","../src/lib/contexts/app-state/utils.ts","../src/lib/ui-packs/default/theme.ts","../src/lib/ui-packs/store.ts","../src/lib/services/merge-service/utils.ts","../src/lib/services/theme-manager/utils.ts","../src/lib/ui-packs/utils.ts","../src/lib/ui-packs/future/theme.ts","../src/lib/ui-packs/index.ts","../src/lib/atoms/Button/Button.svelte","../src/lib/atoms/NextStepButton/Loader/Loader.svelte","../src/lib/atoms/NextStepButton/NextStepButton.svelte","../src/lib/atoms/Title/Title.svelte","../src/lib/atoms/Image/Image.svelte","../src/lib/atoms/Paragraph/Paragraph.svelte","../src/lib/atoms/Container/Container.svelte","../src/lib/atoms/IconButton/IconButton.svelte","../src/lib/atoms/ButtonWithIcon/ButtonWithIcon.svelte","../src/lib/atoms/Loader/Loader.svelte","../src/lib/atoms/Photo/Photo.svelte","../src/lib/atoms/CameraButton/CameraButton.svelte","../src/lib/atoms/VideoContainer/VideoContainer.svelte","../src/lib/atoms/ListItem/ListItem.svelte","../src/lib/atoms/FlyingText/FlyingText.svelte","../src/lib/atoms/Overlay/utils.ts","../src/lib/atoms/Overlay/Overlay.svelte","../src/lib/atoms/IconCloseButton/IconCloseButton.svelte","../src/lib/contexts/flows/hooks.ts","../src/lib/molecules/List/utils.ts","../src/lib/molecules/List/List.svelte","../src/lib/utils/event-service/types.ts","../src/lib/services/flow-event-bus/enums.ts","../src/lib/services/flow-event-bus/flow-event-bus.ts","../src/lib/utils/event-service/constants.ts","../src/lib/utils/event-service/utils.ts","../src/lib/pages/Welcome.svelte","../src/lib/atoms/Icons/Card.svelte","../src/lib/atoms/Icons/Passport.svelte","../src/lib/atoms/Icons/License.svelte","../src/lib/atoms/Icons/PassportTwo.svelte","../src/lib/atoms/Icons/Voter.svelte","../src/lib/atoms/Icons/Icon.svelte","../../../node_modules/.pnpm/compressorjs@1.2.1/node_modules/compressorjs/dist/compressor.esm.js","../src/lib/utils/photo-utils.ts","../src/lib/hooks/createToggle/createToggle.ts","../src/lib/molecules/DocumentOption/DocumentOption.svelte","../src/lib/services/camera-manager/utils.ts","../src/lib/organisms/DocumentOptions/DocumentOptions.svelte","../src/lib/pages/DocumentSelection.svelte","../src/lib/pages/DocumentStart.svelte","../src/lib/pages/DocumentPhoto.svelte","../src/lib/molecules/NavigationButtons/NavigationButtons.svelte","../src/lib/pages/CheckDocument.svelte","../src/lib/pages/DocumentPhotoBackStart.svelte","../src/lib/pages/DocumentPhotoBack.svelte","../src/lib/pages/CheckDocumentPhotoBack.svelte","../src/lib/services/analytics.ts","../src/lib/pages/Final.svelte","../src/lib/pages/SelfieStart.svelte","../src/lib/utils/is-mobile.ts","../src/lib/pages/Selfie.svelte","../src/lib/pages/CheckSelfie.svelte","../src/lib/services/http/index.ts","../src/lib/pages/Loading.svelte","../src/lib/atoms/ErrorText/ErrorText.svelte","../src/lib/pages/Resubmission.svelte","../src/lib/pages/Decline.svelte","../src/lib/pages/ErrorPage.svelte","../src/lib/contexts/navigation/constants.ts","../src/lib/contexts/navigation/hooks.ts","../src/lib/services/preload-service/utils.ts","../src/lib/utils/configuration-manager.ts","../src/lib/contexts/translation/hooks.ts","../src/lib/contexts/translation/T.svelte","../src/Routes.svelte","../src/App.svelte","../src/ConfigurationProvider.svelte","../src/lib/utils/get-config-from-query-params.ts","../src/main.ts"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\nfunction is_promise(value) {\n    return !!value && (typeof value === 'object' || typeof value === 'function') && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\nfunction split_css_unit(value) {\n    const split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n    return split ? [parseFloat(split[1]), split[2] || 'px'] : [value, 'px'];\n}\nconst contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\n/**\n * Resize observer singleton.\n * One listener per element only!\n * https://groups.google.com/a/chromium.org/g/blink-dev/c/z6ienONUb5A/m/F5-VcUZtBAAJ\n */\nclass ResizeObserverSingleton {\n    constructor(options) {\n        this.options = options;\n        this._listeners = 'WeakMap' in globals ? new WeakMap() : undefined;\n    }\n    observe(element, listener) {\n        this._listeners.set(element, listener);\n        this._getObserver().observe(element, this.options);\n        return () => {\n            this._listeners.delete(element);\n            this._observer.unobserve(element); // this line can probably be removed\n        };\n    }\n    _getObserver() {\n        var _a;\n        return (_a = this._observer) !== null && _a !== void 0 ? _a : (this._observer = new ResizeObserver((entries) => {\n            var _a;\n            for (const entry of entries) {\n                ResizeObserverSingleton.entries.set(entry.target, entry);\n                (_a = this._listeners.get(entry.target)) === null || _a === void 0 ? void 0 : _a(entry);\n            }\n        }));\n    }\n}\n// Needs to be written like this to pass the tree-shake-test\nResizeObserverSingleton.entries = 'WeakMap' in globals ? new WeakMap() : undefined;\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element.sheet;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n    return style.sheet;\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentNode !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    if (node.parentNode) {\n        node.parentNode.removeChild(node);\n    }\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction comment(content) {\n    return document.createComment(content);\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_immediate_propagation(fn) {\n    return function (event) {\n        event.stopImmediatePropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\n/**\n * List of attributes that should always be set through the attr method,\n * because updating them through the property setter doesn't work reliably.\n * In the example of `width`/`height`, the problem is that the setter only\n * accepts numeric values, but the attribute can also be set to a string like `50%`.\n * If this list becomes too big, rethink this approach.\n */\nconst always_set_through_set_attribute = ['width', 'height'];\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set && always_set_through_set_attribute.indexOf(key) === -1) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data_map(node, data_map) {\n    Object.keys(data_map).forEach((key) => {\n        set_custom_element_data(node, key, data_map[key]);\n    });\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction set_dynamic_element_data(tag) {\n    return (/-/.test(tag)) ? set_custom_element_data_map : set_attributes;\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction init_binding_group(group) {\n    let _inputs;\n    return {\n        /* push */ p(...inputs) {\n            _inputs = inputs;\n            _inputs.forEach(input => group.push(input));\n        },\n        /* remove */ r() {\n            _inputs.forEach(input => group.splice(group.indexOf(input), 1));\n        }\n    };\n}\nfunction init_binding_group_dynamic(group, indexes) {\n    let _group = get_binding_group(group);\n    let _inputs;\n    function get_binding_group(group) {\n        for (let i = 0; i < indexes.length; i++) {\n            group = group[indexes[i]] = group[indexes[i]] || [];\n        }\n        return group;\n    }\n    function push() {\n        _inputs.forEach(input => _group.push(input));\n    }\n    function remove() {\n        _inputs.forEach(input => _group.splice(_group.indexOf(input), 1));\n    }\n    return {\n        /* update */ u(new_indexes) {\n            indexes = new_indexes;\n            const new_group = get_binding_group(group);\n            if (new_group !== _group) {\n                remove();\n                _group = new_group;\n                push();\n            }\n        },\n        /* push */ p(...inputs) {\n            _inputs = inputs;\n            push();\n        },\n        /* remove */ r: remove\n    };\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction claim_comment(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 8, (node) => {\n        node.data = '' + data;\n        return undefined;\n    }, () => comment(data), true);\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes, is_svg) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration(undefined, is_svg);\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes, is_svg);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    text.data = data;\n}\nfunction set_data_contenteditable(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    text.data = data;\n}\nfunction set_data_maybe_contenteditable(text, data, attr_value) {\n    if (~contenteditable_truthy_values.indexOf(attr_value)) {\n        set_data_contenteditable(text, data);\n    }\n    else {\n        set_data(text, data);\n    }\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    if (value == null) {\n        node.style.removeProperty(key);\n    }\n    else {\n        node.style.setProperty(key, value, important ? 'important' : '');\n    }\n}\nfunction select_option(select, value, mounting) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    if (!mounting || value !== undefined) {\n        select.selectedIndex = -1; // no option should be selected\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked');\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_iframe_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n            // make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n            // see https://github.com/sveltejs/svelte/issues/4233\n            fn();\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nconst resize_observer_content_box = /* @__PURE__ */ new ResizeObserverSingleton({ box: 'content-box' });\nconst resize_observer_border_box = /* @__PURE__ */ new ResizeObserverSingleton({ box: 'border-box' });\nconst resize_observer_device_pixel_content_box = /* @__PURE__ */ new ResizeObserverSingleton({ box: 'device-pixel-content-box' });\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, cancelable, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nfunction head_selector(nodeId, head) {\n    const result = [];\n    let started = 0;\n    for (const node of head.childNodes) {\n        if (node.nodeType === 8 /* comment node */) {\n            const comment = node.textContent.trim();\n            if (comment === `HEAD_${nodeId}_END`) {\n                started -= 1;\n                result.push(node);\n            }\n            else if (comment === `HEAD_${nodeId}_START`) {\n                started += 1;\n                result.push(node);\n            }\n        }\n        else if (started > 0) {\n            result.push(node);\n        }\n    }\n    return result;\n}\nclass HtmlTag {\n    constructor(is_svg = false) {\n        this.is_svg = false;\n        this.is_svg = is_svg;\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            if (this.is_svg)\n                this.e = svg_element(target.nodeName);\n            /** #7364  target for <template> may be provided as #document-fragment(11) */\n            else\n                this.e = element((target.nodeType === 11 ? 'TEMPLATE' : target.nodeName));\n            this.t = target.tagName !== 'TEMPLATE' ? target : target.content;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes, is_svg = false) {\n        super(is_svg);\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\nfunction construct_svelte_component(component, props) {\n    return new component(props);\n}\n\n// we need to store the information for multiple documents because a Svelte application could also contain iframes\n// https://github.com/sveltejs/svelte/issues/3624\nconst managed_styles = new Map();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_style_information(doc, node) {\n    const info = { stylesheet: append_empty_stylesheet(node), rules: {} };\n    managed_styles.set(doc, info);\n    return info;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    const { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);\n    if (!rules[name]) {\n        rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        managed_styles.forEach(info => {\n            const { ownerNode } = info.stylesheet;\n            // there is no ownerNode if it runs on jsdom.\n            if (ownerNode)\n                detach(ownerNode);\n        });\n        managed_styles.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs#run-time-svelte-beforeupdate\n */\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * `onMount` does not run inside a [server-side component](/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs#run-time-svelte-onmount\n */\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n */\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs#run-time-svelte-ondestroy\n */\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * https://svelte.dev/docs#run-time-svelte-createeventdispatcher\n */\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail, { cancelable = false } = {}) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail, { cancelable });\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n            return !event.defaultPrevented;\n        }\n        return true;\n    };\n}\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-setcontext\n */\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n    return context;\n}\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-getcontext\n */\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs#run-time-svelte-getallcontexts\n */\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-hascontext\n */\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nlet render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\nlet flushidx = 0; // Do *not* move this inside the flush() function\nfunction flush() {\n    // Do not reenter flush while dirty components are updated, as this can\n    // result in an infinite loop. Instead, let the inner flush handle it.\n    // Reentrancy is ok afterwards for bindings etc.\n    if (flushidx !== 0) {\n        return;\n    }\n    const saved_component = current_component;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        try {\n            while (flushidx < dirty_components.length) {\n                const component = dirty_components[flushidx];\n                flushidx++;\n                set_current_component(component);\n                update(component.$$);\n            }\n        }\n        catch (e) {\n            // reset dirty state to not end up in a deadlocked state and then rethrow\n            dirty_components.length = 0;\n            flushidx = 0;\n            throw e;\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        flushidx = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    seen_callbacks.clear();\n    set_current_component(saved_component);\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n */\nfunction flush_render_callbacks(fns) {\n    const filtered = [];\n    const targets = [];\n    render_callbacks.forEach((c) => fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c));\n    targets.forEach((c) => c());\n    render_callbacks = filtered;\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n    else if (callback) {\n        callback();\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    const options = { direction: 'in' };\n    let config = fn(node, params, options);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config(options);\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    const options = { direction: 'out' };\n    let config = fn(node, params, options);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config(options);\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    const options = { direction: 'both' };\n    let config = fn(node, params, options);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config(options);\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    const updates = [];\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            // defer updates until all the DOM shuffling is done\n            updates.push(() => block.p(child_ctx, dirty));\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    run_all(updates);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\nconst _boolean_attributes = [\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'inert',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n];\n/**\n * List of HTML boolean attributes (e.g. `<input disabled>`).\n * Source: https://html.spec.whatwg.org/multipage/indices.html\n */\nconst boolean_attributes = new Set([..._boolean_attributes]);\n\n/** regex of all html void element names */\nconst void_element_names = /^(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/;\nfunction is_void(name) {\n    return void_element_names.test(name) || name.toLowerCase() === '!doctype';\n}\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, attrs_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (attrs_to_add) {\n        const classes_to_add = attrs_to_add.classes;\n        const styles_to_add = attrs_to_add.styles;\n        if (classes_to_add) {\n            if (attributes.class == null) {\n                attributes.class = classes_to_add;\n            }\n            else {\n                attributes.class += ' ' + classes_to_add;\n            }\n        }\n        if (styles_to_add) {\n            if (attributes.style == null) {\n                attributes.style = style_object_to_string(styles_to_add);\n            }\n            else {\n                attributes.style = style_object_to_string(merge_ssr_styles(attributes.style, styles_to_add));\n            }\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nfunction merge_ssr_styles(style_attribute, style_directive) {\n    const style_object = {};\n    for (const individual_style of style_attribute.split(';')) {\n        const colon_index = individual_style.indexOf(':');\n        const name = individual_style.slice(0, colon_index).trim();\n        const value = individual_style.slice(colon_index + 1).trim();\n        if (!name)\n            continue;\n        style_object[name] = value;\n    }\n    for (const name in style_directive) {\n        const value = style_directive[name];\n        if (value) {\n            style_object[name] = value;\n        }\n        else {\n            delete style_object[name];\n        }\n    }\n    return style_object;\n}\nconst ATTR_REGEX = /[&\"]/g;\nconst CONTENT_REGEX = /[&<]/g;\n/**\n * Note: this method is performance sensitive and has been optimized\n * https://github.com/sveltejs/svelte/pull/5701\n */\nfunction escape(value, is_attr = false) {\n    const str = String(value);\n    const pattern = is_attr ? ATTR_REGEX : CONTENT_REGEX;\n    pattern.lastIndex = 0;\n    let escaped = '';\n    let last = 0;\n    while (pattern.test(str)) {\n        const i = pattern.lastIndex - 1;\n        const ch = str[i];\n        escaped += str.substring(last, i) + (ch === '&' ? '&amp;' : (ch === '\"' ? '&quot;' : '&lt;'));\n        last = i + 1;\n    }\n    return escaped + str.substring(last);\n}\nfunction escape_attribute_value(value) {\n    // keep booleans, null, and undefined for the sake of `spread`\n    const should_escape = typeof value === 'string' || (value && typeof value === 'object');\n    return should_escape ? escape(value, true) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules. Otherwise you may need to fix a <${name}>.`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    const assignment = (boolean && value === true) ? '' : `=\"${escape(value, true)}\"`;\n    return ` ${name}${assignment}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\nfunction style_object_to_string(style_object) {\n    return Object.keys(style_object)\n        .filter(key => style_object[key])\n        .map(key => `${key}: ${escape_attribute_value(style_object[key])};`)\n        .join(' ');\n}\nfunction add_styles(style_object) {\n    const styles = style_object_to_string(style_object);\n    return styles ? ` style=\"${styles}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n            // if the component was destroyed immediately\n            // it will update the `$$.on_destroy` reference to `null`.\n            // the destructured on_destroy may still reference to the old array\n            if (component.$$.on_destroy) {\n                component.$$.on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        flush_render_callbacks($$.after_update);\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: [],\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            if (!is_function(callback)) {\n                return noop;\n            }\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        if (!is_function(callback)) {\n            return noop;\n        }\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.59.2' }, detail), { bubbles: true }));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation, has_stop_immediate_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    if (has_stop_immediate_propagation)\n        modifiers.push('stopImmediatePropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction set_data_contenteditable_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction set_data_maybe_contenteditable_dev(text, data, attr_value) {\n    if (~contenteditable_truthy_values.indexOf(attr_value)) {\n        set_data_contenteditable_dev(text, data);\n    }\n    else {\n        set_data_dev(text, data);\n    }\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nfunction validate_dynamic_element(tag) {\n    const is_string = typeof tag === 'string';\n    if (tag && !is_string) {\n        throw new Error('<svelte:element> expects \"this\" attribute to be a string.');\n    }\n}\nfunction validate_void_dynamic_element(tag) {\n    if (tag && is_void(tag)) {\n        console.warn(`<svelte:element this=\"${tag}\"> is self-closing and cannot have content.`);\n    }\n}\nfunction construct_svelte_component_dev(component, props) {\n    const error_message = 'this={...} of <svelte:component> should specify a Svelte component.';\n    try {\n        const instance = new component(props);\n        if (!instance.$$ || !instance.$set || !instance.$on || !instance.$destroy) {\n            throw new Error(error_message);\n        }\n        return instance;\n    }\n    catch (err) {\n        const { message } = err;\n        if (typeof message === 'string' && message.indexOf('is not a constructor') !== -1) {\n            throw new Error(error_message);\n        }\n        else {\n            throw err;\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, ResizeObserverSingleton, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_iframe_resize_listener, add_location, add_render_callback, add_styles, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_comment, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, comment, component_subscribe, compute_rest_props, compute_slots, construct_svelte_component, construct_svelte_component_dev, contenteditable_truthy_values, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, flush_render_callbacks, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, head_selector, identity, init, init_binding_group, init_binding_group_dynamic, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, is_void, listen, listen_dev, loop, loop_guard, merge_ssr_styles, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, resize_observer_border_box, resize_observer_content_box, resize_observer_device_pixel_content_box, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_custom_element_data_map, set_data, set_data_contenteditable, set_data_contenteditable_dev, set_data_dev, set_data_maybe_contenteditable, set_data_maybe_contenteditable_dev, set_dynamic_element_data, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, split_css_unit, spread, src_url_equal, start_hydrating, stop_immediate_propagation, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_dynamic_element, validate_each_argument, validate_each_keys, validate_slots, validate_store, validate_void_dynamic_element, xlink_attr };\n","export { identity as linear } from '../internal/index.mjs';\n\n/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nfunction backInOut(t) {\n    const s = 1.70158 * 1.525;\n    if ((t *= 2) < 1)\n        return 0.5 * (t * t * ((s + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\nfunction backIn(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n}\nfunction backOut(t) {\n    const s = 1.70158;\n    return --t * t * ((s + 1) * t + s) + 1;\n}\nfunction bounceOut(t) {\n    const a = 4.0 / 11.0;\n    const b = 8.0 / 11.0;\n    const c = 9.0 / 10.0;\n    const ca = 4356.0 / 361.0;\n    const cb = 35442.0 / 1805.0;\n    const cc = 16061.0 / 1805.0;\n    const t2 = t * t;\n    return t < a\n        ? 7.5625 * t2\n        : t < b\n            ? 9.075 * t2 - 9.9 * t + 3.4\n            : t < c\n                ? ca * t2 - cb * t + cc\n                : 10.8 * t * t - 20.52 * t + 10.72;\n}\nfunction bounceInOut(t) {\n    return t < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\nfunction bounceIn(t) {\n    return 1.0 - bounceOut(1.0 - t);\n}\nfunction circInOut(t) {\n    if ((t *= 2) < 1)\n        return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\nfunction circIn(t) {\n    return 1.0 - Math.sqrt(1.0 - t * t);\n}\nfunction circOut(t) {\n    return Math.sqrt(1 - --t * t);\n}\nfunction cubicInOut(t) {\n    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\nfunction cubicIn(t) {\n    return t * t * t;\n}\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\nfunction elasticInOut(t) {\n    return t < 0.5\n        ? 0.5 *\n            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *\n            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n        : 0.5 *\n            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n            1.0;\n}\nfunction elasticIn(t) {\n    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction elasticOut(t) {\n    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);\n}\nfunction expoInOut(t) {\n    return t === 0.0 || t === 1.0\n        ? t\n        : t < 0.5\n            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\nfunction expoIn(t) {\n    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction expoOut(t) {\n    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1)\n        return 0.5 * t * t;\n    t--;\n    return -0.5 * (t * (t - 2) - 1);\n}\nfunction quadIn(t) {\n    return t * t;\n}\nfunction quadOut(t) {\n    return -t * (t - 2.0);\n}\nfunction quartInOut(t) {\n    return t < 0.5\n        ? +8.0 * Math.pow(t, 4.0)\n        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\nfunction quartIn(t) {\n    return Math.pow(t, 4.0);\n}\nfunction quartOut(t) {\n    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\nfunction quintInOut(t) {\n    if ((t *= 2) < 1)\n        return 0.5 * t * t * t * t * t;\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\nfunction quintIn(t) {\n    return t * t * t * t * t;\n}\nfunction quintOut(t) {\n    return --t * t * t * t * t + 1;\n}\nfunction sineInOut(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n}\nfunction sineIn(t) {\n    const v = Math.cos(t * Math.PI * 0.5);\n    if (Math.abs(v) < 1e-14)\n        return 1;\n    else\n        return 1 - v;\n}\nfunction sineOut(t) {\n    return Math.sin((t * Math.PI) / 2);\n}\n\nexport { backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, cubicIn, cubicInOut, cubicOut, elasticIn, elasticInOut, elasticOut, expoIn, expoInOut, expoOut, quadIn, quadInOut, quadOut, quartIn, quartInOut, quartOut, quintIn, quintInOut, quintOut, sineIn, sineInOut, sineOut };\n","import { cubicInOut, linear, cubicOut } from '../easing/index.mjs';\nimport { split_css_unit, is_function, assign } from '../internal/index.mjs';\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nfunction blur(node, { delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const f = style.filter === 'none' ? '' : style.filter;\n    const od = target_opacity * (1 - opacity);\n    const [value, unit] = split_css_unit(amount);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `opacity: ${target_opacity - (od * u)}; filter: ${f} blur(${u * value}${unit});`\n    };\n}\nfunction fade(node, { delay = 0, duration = 400, easing = linear } = {}) {\n    const o = +getComputedStyle(node).opacity;\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `opacity: ${t * o}`\n    };\n}\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    const [xValue, xUnit] = split_css_unit(x);\n    const [yValue, yUnit] = split_css_unit(y);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * xValue}${xUnit}, ${(1 - t) * yValue}${yUnit});\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\nfunction slide(node, { delay = 0, duration = 400, easing = cubicOut, axis = 'y' } = {}) {\n    const style = getComputedStyle(node);\n    const opacity = +style.opacity;\n    const primary_property = axis === 'y' ? 'height' : 'width';\n    const primary_property_value = parseFloat(style[primary_property]);\n    const secondary_properties = axis === 'y' ? ['top', 'bottom'] : ['left', 'right'];\n    const capitalized_secondary_properties = secondary_properties.map((e) => `${e[0].toUpperCase()}${e.slice(1)}`);\n    const padding_start_value = parseFloat(style[`padding${capitalized_secondary_properties[0]}`]);\n    const padding_end_value = parseFloat(style[`padding${capitalized_secondary_properties[1]}`]);\n    const margin_start_value = parseFloat(style[`margin${capitalized_secondary_properties[0]}`]);\n    const margin_end_value = parseFloat(style[`margin${capitalized_secondary_properties[1]}`]);\n    const border_width_start_value = parseFloat(style[`border${capitalized_secondary_properties[0]}Width`]);\n    const border_width_end_value = parseFloat(style[`border${capitalized_secondary_properties[1]}Width`]);\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => 'overflow: hidden;' +\n            `opacity: ${Math.min(t * 20, 1) * opacity};` +\n            `${primary_property}: ${t * primary_property_value}px;` +\n            `padding-${secondary_properties[0]}: ${t * padding_start_value}px;` +\n            `padding-${secondary_properties[1]}: ${t * padding_end_value}px;` +\n            `margin-${secondary_properties[0]}: ${t * margin_start_value}px;` +\n            `margin-${secondary_properties[1]}: ${t * margin_end_value}px;` +\n            `border-${secondary_properties[0]}-width: ${t * border_width_start_value}px;` +\n            `border-${secondary_properties[1]}-width: ${t * border_width_end_value}px;`\n    };\n}\nfunction scale(node, { delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const sd = 1 - start;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - (sd * u)});\n\t\t\topacity: ${target_opacity - (od * u)}\n\t\t`\n    };\n}\nfunction draw(node, { delay = 0, speed, duration, easing = cubicInOut } = {}) {\n    let len = node.getTotalLength();\n    const style = getComputedStyle(node);\n    if (style.strokeLinecap !== 'butt') {\n        len += parseInt(style.strokeWidth);\n    }\n    if (duration === undefined) {\n        if (speed === undefined) {\n            duration = 800;\n        }\n        else {\n            duration = len / speed;\n        }\n    }\n    else if (typeof duration === 'function') {\n        duration = duration(len);\n    }\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_, u) => `\n\t\t\tstroke-dasharray: ${len};\n\t\t\tstroke-dashoffset: ${u * len};\n\t\t`\n    };\n}\nfunction crossfade(_a) {\n    var { fallback } = _a, defaults = __rest(_a, [\"fallback\"]);\n    const to_receive = new Map();\n    const to_send = new Map();\n    function crossfade(from_node, node, params) {\n        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing = cubicOut } = assign(assign({}, defaults), params);\n        const from = from_node.getBoundingClientRect();\n        const to = node.getBoundingClientRect();\n        const dx = from.left - to.left;\n        const dy = from.top - to.top;\n        const dw = from.width / to.width;\n        const dh = from.height / to.height;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        const opacity = +style.opacity;\n        return {\n            delay,\n            duration: is_function(duration) ? duration(d) : duration,\n            easing,\n            css: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});\n\t\t\t`\n        };\n    }\n    function transition(items, counterparts, intro) {\n        return (node, params) => {\n            items.set(params.key, node);\n            return () => {\n                if (counterparts.has(params.key)) {\n                    const other_node = counterparts.get(params.key);\n                    counterparts.delete(params.key);\n                    return crossfade(other_node, node, params);\n                }\n                // if the node is disappearing altogether\n                // (i.e. wasn't claimed by the other list)\n                // then we need to supply an outro\n                items.delete(params.key);\n                return fallback && fallback(node, params, intro);\n            };\n        };\n    }\n    return [\n        transition(to_send, to_receive, false),\n        transition(to_receive, to_send, true)\n    ];\n}\n\nexport { blur, crossfade, draw, fade, fly, scale, slide };\n","import { cubicOut } from '../easing/index.mjs';\nimport { is_function } from '../internal/index.mjs';\n\nfunction flip(node, { from, to }, params = {}) {\n    const style = getComputedStyle(node);\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const [ox, oy] = style.transformOrigin.split(' ').map(parseFloat);\n    const dx = (from.left + from.width * ox / to.width) - (to.left + ox);\n    const dy = (from.top + from.height * oy / to.height) - (to.top + oy);\n    const { delay = 0, duration = (d) => Math.sqrt(d) * 120, easing = cubicOut } = params;\n    return {\n        delay,\n        duration: is_function(duration) ? duration(Math.sqrt(dx * dx + dy * dy)) : duration,\n        easing,\n        css: (t, u) => {\n            const x = u * dx;\n            const y = u * dy;\n            const sx = t + u * from.width / to.width;\n            const sy = t + u * from.height / to.height;\n            return `transform: ${transform} translate(${x}px, ${y}px) scale(${sx}, ${sy});`;\n        }\n    };\n}\n\nexport { flip };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier} [start]\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=} start\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = new Set();\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (const subscriber of subscribers) {\n                    subscriber[1]();\n                    subscriber_queue.push(subscriber, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.add(subscriber);\n        if (subscribers.size === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            subscribers.delete(subscriber);\n            if (subscribers.size === 0 && stop) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let started = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (started) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        started = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n            // We need to set this to false because callbacks can still happen despite having unsubscribed:\n            // Callbacks might already be placed in the queue which doesn't know it should no longer\n            // invoke this derived store.\n            started = false;\n        };\n    });\n}\n/**\n * Takes a store and returns a new one derived from the old one that is readable.\n *\n * @param store - store to make readonly\n */\nfunction readonly(store) {\n    return {\n        subscribe: store.subscribe.bind(store)\n    };\n}\n\nexport { derived, readable, readonly, writable };\n","import { writable } from 'svelte/store'\n\nconst defaults = {\n  duration: 4000,\n  initial: 1,\n  next: 0,\n  pausable: false,\n  dismissable: true,\n  reversed: false,\n  intro: { x: 256 }\n}\n\nconst createToast = () => {\n  const { subscribe, update } = writable([])\n  let count = 0\n  const options = {}\n  const _obj = (obj) => obj instanceof Object\n  const push = (msg, opts = {}) => {\n    const param = { target: 'default', ...(_obj(msg) ? msg : { ...opts, msg }) }\n    const conf = options[param.target] || {}\n    const entry = {\n      ...defaults,\n      ...conf,\n      ...param,\n      theme: { ...conf.theme, ...param.theme },\n      classes: [...(conf.classes || []), ...(param.classes || [])],\n      id: ++count\n    }\n    update((n) => (entry.reversed ? [...n, entry] : [entry, ...n]))\n    return count\n  }\n  const pop = (id) => {\n    update((n) => {\n      if (!n.length || id === 0) return []\n      if (_obj(id)) return n.filter((i) => id(i))\n      const target = id || Math.max(...n.map((i) => i.id))\n      return n.filter((i) => i.id !== target)\n    })\n  }\n  const set = (id, opts = {}) => {\n    const param = _obj(id) ? { ...id } : { ...opts, id }\n    update((n) => {\n      const idx = n.findIndex((i) => i.id === param.id)\n      if (idx > -1) {\n        n[idx] = { ...n[idx], ...param }\n      }\n      return n\n    })\n  }\n  const _init = (target = 'default', opts = {}) => {\n    options[target] = opts\n    return options\n  }\n  return { subscribe, push, pop, set, _init }\n}\n\nexport const toast = createToast()\n","import { writable } from '../store/index.mjs';\nimport { now, loop, assign } from '../internal/index.mjs';\nimport { linear } from '../easing/index.mjs';\n\nfunction is_date(obj) {\n    return Object.prototype.toString.call(obj) === '[object Date]';\n}\n\nfunction tick_spring(ctx, last_value, current_value, target_value) {\n    if (typeof current_value === 'number' || is_date(current_value)) {\n        // @ts-ignore\n        const delta = target_value - current_value;\n        // @ts-ignore\n        const velocity = (current_value - last_value) / (ctx.dt || 1 / 60); // guard div by 0\n        const spring = ctx.opts.stiffness * delta;\n        const damper = ctx.opts.damping * velocity;\n        const acceleration = (spring - damper) * ctx.inv_mass;\n        const d = (velocity + acceleration) * ctx.dt;\n        if (Math.abs(d) < ctx.opts.precision && Math.abs(delta) < ctx.opts.precision) {\n            return target_value; // settled\n        }\n        else {\n            ctx.settled = false; // signal loop to keep ticking\n            // @ts-ignore\n            return is_date(current_value) ?\n                new Date(current_value.getTime() + d) : current_value + d;\n        }\n    }\n    else if (Array.isArray(current_value)) {\n        // @ts-ignore\n        return current_value.map((_, i) => tick_spring(ctx, last_value[i], current_value[i], target_value[i]));\n    }\n    else if (typeof current_value === 'object') {\n        const next_value = {};\n        for (const k in current_value) {\n            // @ts-ignore\n            next_value[k] = tick_spring(ctx, last_value[k], current_value[k], target_value[k]);\n        }\n        // @ts-ignore\n        return next_value;\n    }\n    else {\n        throw new Error(`Cannot spring ${typeof current_value} values`);\n    }\n}\nfunction spring(value, opts = {}) {\n    const store = writable(value);\n    const { stiffness = 0.15, damping = 0.8, precision = 0.01 } = opts;\n    let last_time;\n    let task;\n    let current_token;\n    let last_value = value;\n    let target_value = value;\n    let inv_mass = 1;\n    let inv_mass_recovery_rate = 0;\n    let cancel_task = false;\n    function set(new_value, opts = {}) {\n        target_value = new_value;\n        const token = current_token = {};\n        if (value == null || opts.hard || (spring.stiffness >= 1 && spring.damping >= 1)) {\n            cancel_task = true; // cancel any running animation\n            last_time = now();\n            last_value = new_value;\n            store.set(value = target_value);\n            return Promise.resolve();\n        }\n        else if (opts.soft) {\n            const rate = opts.soft === true ? .5 : +opts.soft;\n            inv_mass_recovery_rate = 1 / (rate * 60);\n            inv_mass = 0; // infinite mass, unaffected by spring forces\n        }\n        if (!task) {\n            last_time = now();\n            cancel_task = false;\n            task = loop(now => {\n                if (cancel_task) {\n                    cancel_task = false;\n                    task = null;\n                    return false;\n                }\n                inv_mass = Math.min(inv_mass + inv_mass_recovery_rate, 1);\n                const ctx = {\n                    inv_mass,\n                    opts: spring,\n                    settled: true,\n                    dt: (now - last_time) * 60 / 1000\n                };\n                const next_value = tick_spring(ctx, last_value, value, target_value);\n                last_time = now;\n                last_value = value;\n                store.set(value = next_value);\n                if (ctx.settled) {\n                    task = null;\n                }\n                return !ctx.settled;\n            });\n        }\n        return new Promise(fulfil => {\n            task.promise.then(() => {\n                if (token === current_token)\n                    fulfil();\n            });\n        });\n    }\n    const spring = {\n        set,\n        update: (fn, opts) => set(fn(target_value, value), opts),\n        subscribe: store.subscribe,\n        stiffness,\n        damping,\n        precision\n    };\n    return spring;\n}\n\nfunction get_interpolator(a, b) {\n    if (a === b || a !== a)\n        return () => a;\n    const type = typeof a;\n    if (type !== typeof b || Array.isArray(a) !== Array.isArray(b)) {\n        throw new Error('Cannot interpolate values of different type');\n    }\n    if (Array.isArray(a)) {\n        const arr = b.map((bi, i) => {\n            return get_interpolator(a[i], bi);\n        });\n        return t => arr.map(fn => fn(t));\n    }\n    if (type === 'object') {\n        if (!a || !b)\n            throw new Error('Object cannot be null');\n        if (is_date(a) && is_date(b)) {\n            a = a.getTime();\n            b = b.getTime();\n            const delta = b - a;\n            return t => new Date(a + t * delta);\n        }\n        const keys = Object.keys(b);\n        const interpolators = {};\n        keys.forEach(key => {\n            interpolators[key] = get_interpolator(a[key], b[key]);\n        });\n        return t => {\n            const result = {};\n            keys.forEach(key => {\n                result[key] = interpolators[key](t);\n            });\n            return result;\n        };\n    }\n    if (type === 'number') {\n        const delta = b - a;\n        return t => a + t * delta;\n    }\n    throw new Error(`Cannot interpolate ${type} values`);\n}\nfunction tweened(value, defaults = {}) {\n    const store = writable(value);\n    let task;\n    let target_value = value;\n    function set(new_value, opts) {\n        if (value == null) {\n            store.set(value = new_value);\n            return Promise.resolve();\n        }\n        target_value = new_value;\n        let previous_task = task;\n        let started = false;\n        let { delay = 0, duration = 400, easing = linear, interpolate = get_interpolator } = assign(assign({}, defaults), opts);\n        if (duration === 0) {\n            if (previous_task) {\n                previous_task.abort();\n                previous_task = null;\n            }\n            store.set(value = target_value);\n            return Promise.resolve();\n        }\n        const start = now() + delay;\n        let fn;\n        task = loop(now => {\n            if (now < start)\n                return true;\n            if (!started) {\n                fn = interpolate(value, new_value);\n                if (typeof duration === 'function')\n                    duration = duration(value, new_value);\n                started = true;\n            }\n            if (previous_task) {\n                previous_task.abort();\n                previous_task = null;\n            }\n            const elapsed = now - start;\n            if (elapsed > duration) {\n                store.set(value = new_value);\n                return false;\n            }\n            // @ts-ignore\n            store.set(value = fn(easing(elapsed / duration)));\n            return true;\n        });\n        return task.promise;\n    }\n    return {\n        set,\n        update: (fn, opts) => set(fn(target_value, value), opts),\n        subscribe: store.subscribe\n    };\n}\n\nexport { spring, tweened };\n","<script>\nimport { onMount, onDestroy } from 'svelte'\nimport { tweened } from 'svelte/motion'\nimport { linear } from 'svelte/easing'\nimport { toast } from './stores.js'\n\nexport let item\n\nconst progress = tweened(item.initial, { duration: item.duration, easing: linear })\nconst close = () => toast.pop(item.id)\nconst autoclose = () => {\n  if ($progress === 1 || $progress === 0) {\n    close()\n  }\n}\nlet next = item.initial\nlet prev = next\nlet paused = false\n\n$: if (next !== item.next) {\n  next = item.next\n  prev = $progress\n  paused = false\n  progress.set(next).then(autoclose)\n}\n\nconst pause = () => {\n  if (!paused && $progress !== next) {\n    progress.set($progress, { duration: 0 })\n    paused = true\n  }\n}\n\nconst resume = () => {\n  if (paused) {\n    const d = item.duration\n    const duration = d - d * (($progress - prev) / (next - prev))\n    progress.set(next, { duration }).then(autoclose)\n    paused = false\n  }\n}\n\nlet componentProps = {}\n$: if (item.component) {\n  const { props = {}, sendIdTo } = item.component\n  componentProps = { ...props, ...(sendIdTo && { [sendIdTo]: item.id }) }\n}\n\nconst check = (prop, kind = 'undefined') => typeof prop === kind\n// `progress` has been renamed to `next`; shim included for backward compatibility, to remove in next major\n$: if (!check(item.progress)) {\n  item.next = item.progress\n}\n\nlet unlisten\nconst listen = (d = document) => {\n  if (check(d.hidden)) return\n  const handler = () => (d.hidden ? pause() : resume())\n  const name = 'visibilitychange'\n  d.addEventListener(name, handler)\n  unlisten = () => d.removeEventListener(name, handler)\n  handler()\n}\n\nonMount(listen)\nonDestroy(() => {\n  if (check(item.onpop, 'function')) {\n    item.onpop(item.id)\n  }\n  unlisten && unlisten()\n})\n</script>\n\n<div\n  class=\"_toastItem\"\n  class:pe={item.pausable}\n  on:mouseenter={() => {\n    if (item.pausable) pause()\n  }}\n  on:mouseleave={resume}\n>\n  <div role=\"status\" class=\"_toastMsg\" class:pe={item.component}>\n    {#if item.component}\n      <svelte:component this={item.component.src} {...componentProps} />\n    {:else}\n      {@html item.msg}\n    {/if}\n  </div>\n  {#if item.dismissable}\n    <div\n      class=\"_toastBtn pe\"\n      role=\"button\"\n      tabindex=\"0\"\n      on:click={close}\n      on:keydown={(e) => {\n        if (e instanceof KeyboardEvent && ['Enter', ' '].includes(e.key)) close()\n      }}\n    />\n  {/if}\n  <progress class=\"_toastBar\" value={$progress} />\n</div>\n\n<style>\n._toastItem {\n  width: var(--toastWidth, 16rem);\n  height: var(--toastHeight, auto);\n  min-height: var(--toastMinHeight, 3.5rem);\n  margin: var(--toastMargin, 0 0 0.5rem 0);\n  padding: var(--toastPadding, 0);\n  background: var(--toastBackground, rgba(66, 66, 66, 0.9));\n  color: var(--toastColor, #fff);\n  box-shadow: var(\n    --toastBoxShadow,\n    0 4px 6px -1px rgba(0, 0, 0, 0.1),\n    0 2px 4px -1px rgba(0, 0, 0, 0.06)\n  );\n  border: var(--toastBorder, none);\n  border-radius: var(--toastBorderRadius, 0.125rem);\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  overflow: hidden;\n  will-change: transform, opacity;\n  -webkit-tap-highlight-color: transparent;\n}\n._toastMsg {\n  padding: var(--toastMsgPadding, 0.75rem 0.5rem);\n  flex: 1 1 0%;\n}\n.pe,\n._toastMsg :global(a) {\n  pointer-events: auto;\n}\n._toastBtn {\n  width: var(--toastBtnWidth, 2rem);\n  height: var(--toastBtnHeight, 100%);\n  cursor: pointer;\n  outline: none;\n}\n._toastBtn::after {\n  content: var(--toastBtnContent, '✕');\n  font: var(--toastBtnFont, 1rem sans-serif);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n._toastBar {\n  top: var(--toastBarTop, auto);\n  right: var(--toastBarRight, auto);\n  bottom: var(--toastBarBottom, 0);\n  left: var(--toastBarLeft, 0);\n  height: var(--toastBarHeight, 6px);\n  width: var(--toastBarWidth, 100%);\n  position: absolute;\n  display: block;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  border: none;\n  background: transparent;\n  pointer-events: none;\n}\n._toastBar::-webkit-progress-bar {\n  background: transparent;\n}\n/* `--toastProgressBackground` renamed to `--toastBarBackground`; override included for backward compatibility */\n._toastBar::-webkit-progress-value {\n  background: var(--toastProgressBackground, var(--toastBarBackground, rgba(33, 150, 243, 0.75)));\n}\n._toastBar::-moz-progress-bar {\n  background: var(--toastProgressBackground, var(--toastBarBackground, rgba(33, 150, 243, 0.75)));\n}\n</style>\n","<script>\nimport { fade, fly } from 'svelte/transition'\nimport { flip } from 'svelte/animate'\nimport { toast } from './stores.js'\nimport ToastItem from './ToastItem.svelte'\n\nexport let options = {}\nexport let target = 'default'\n\n$: toast._init(target, options)\n\nlet items\n$: items = $toast.filter((i) => i.target === target)\n\nconst getCss = (theme) => Object.keys(theme).reduce((a, c) => `${a}${c}:${theme[c]};`, '')\n</script>\n\n<ul class=\"_toastContainer\">\n  {#each items as item (item.id)}\n    <li\n      class={item.classes.join(' ')}\n      in:fly={item.intro}\n      out:fade\n      animate:flip={{ duration: 200 }}\n      style={getCss(item.theme)}\n    >\n      <ToastItem {item} />\n    </li>\n  {/each}\n</ul>\n\n<style>\n._toastContainer {\n  top: var(--toastContainerTop, 1.5rem);\n  right: var(--toastContainerRight, 2rem);\n  bottom: var(--toastContainerBottom, auto);\n  left: var(--toastContainerLeft, auto);\n  position: fixed;\n  margin: 0;\n  padding: 0;\n  list-style-type: none;\n  pointer-events: none;\n  z-index: var(--toastContainerZIndex, 9999);\n}\n</style>\n","import { toast } from '@zerodevx/svelte-toast';\n\nexport const initConnectionCheck = (t: (namespace: string, key: string) => string) => {\n  window.addEventListener('online', () => {\n    toast.push(t('general', 'online'));\n  });\n  window.addEventListener('offline', () => {\n    toast.push(t('general', 'offline'));\n  });\n};\n","import { IList } from '../../molecules/List';\nimport { INavigationButtons } from '../../molecules/NavigationButtons';\nimport { IDocumentOptions } from '../../organisms/DocumentOptions';\nimport type { CaptureConfigOption } from 'jslib-html5-camera-photo';\nimport { IFlow } from '../flows';\nimport { EndUserInfo, FlowsBackendConfig } from '../../../types/BallerineSDK';\nimport { DocumentType } from '../app-state';\n\nexport enum Steps {\n  Welcome = 'welcome',\n  DocumentSelection = 'document-selection',\n  DocumentStart = 'document-start',\n  DocumentPhoto = 'document-photo',\n  CheckDocument = 'check-document',\n  DocumentPhotoBackStart = 'document-photo-back-start',\n  DocumentPhotoBack = 'document-photo-back',\n  CheckDocumentPhotoBack = 'check-document-photo-back',\n  SelfieStart = 'selfie-start',\n  Selfie = 'selfie',\n  CheckSelfie = 'check-selfie',\n  A4DocumentStart = 'a4-document-start',\n  A4DocumentPhoto = 'a4-document-photo',\n  CheckA4Document = 'check-a4-document',\n  Registration = 'registration',\n  Final = 'final',\n  Loading = 'loading',\n  Resubmission = 'resubmission',\n  Decline = 'decline',\n  Error = 'error',\n}\n\nexport enum Elements {\n  Image = 'image',\n  Photo = 'photo',\n  Title = 'title',\n  Paragraph = 'paragraph',\n  Button = 'button',\n  Input = 'input',\n  Container = 'container',\n  DocumentOption = 'document-option',\n  IconButton = 'icon-button',\n  IconCloseButton = 'icon-close-button',\n  CameraButton = 'camera-button',\n  VideoContainer = 'video-container',\n  List = 'list',\n  ErrorText = 'error-text',\n  Loader = 'loader'\n}\n\nexport interface IOpacityColor {\n  color: string;\n  opacity: number;\n}\n\ninterface ICSSPropertiesAll {\n  margin: string;\n  padding: string;\n  'font-family': string;\n  'font-size': string;\n  'font-weight': number;\n  'text-align': string;\n  'line-height': string;\n  'vertical-align': string;\n  'box-shadow': string;\n  '-webkit-box-shadow': string;\n  width: string;\n  height: string;\n  background?: string | IOpacityColor;\n  color?: string;\n  'border-radius'?: string;\n  border: string;\n  display: string;\n  cursor: string;\n  'align-items': string;\n  'justify-content': string;\n  'flex-direction': string;\n  position: string;\n  top: string;\n  bottom: string;\n  left: string;\n  right: string;\n  'align-self': string;\n  hover: ICSSProperties;\n  active: ICSSProperties;\n  fill: string;\n  'flex-grow': number;\n  'background-position-y': string;\n  outline: string;\n  'z-index': string;\n}\n\nexport type Icons = 'Card' | 'Passport' | 'License' | 'PassportTwo' | 'Voter';\n\ninterface IAttributesAll {\n  icon: Icons;\n  src: string;\n  alt: string;\n  width: string | number;\n  height: string | number;\n  value: string;\n  name: string;\n  type: string;\n  placeholder: string;\n  length: number; // mostly for elements with a number of elements\n  validate: () => boolean;\n  defaultValue: string;\n}\n\nexport type ICSSProperties = Partial<ICSSPropertiesAll>;\nexport type IAttributes = Partial<IAttributesAll>;\n\nexport interface IFormProps {\n  persistence: 'session' | 'local';\n  action: 'store' | 'api';\n  storeKey?: string;\n  apiUrl?: string;\n}\n\nexport interface IButton {\n  theme: 'primary' | 'secondary';\n}\n\nexport interface IElementProps {\n  style?: ICSSProperties;\n  attributes?: IAttributes;\n  context?: string;\n}\n\nexport interface IElement {\n  id?: string;\n  props: IElementProps;\n  type: Elements;\n  elements?: IElement[];\n}\n\nexport interface IStepConfiguration {\n  name: Steps;\n  style?: ICSSProperties;\n  overlayStyle?: ICSSProperties;\n  elements: IElement[];\n  form?: IFormProps;\n  type?: DocumentType;\n  id: string;\n  namespace?: string;\n  cameraConfig?: CaptureConfigOption;\n  documentOptions?: DocumentType[];\n}\n\nexport interface IOverlayStyles {\n  card?: ICSSProperties;\n  passport?: ICSSProperties;\n  a4?: ICSSProperties;\n  selfie?: ICSSProperties;\n}\n\nexport type TSteps = { [key: string]: IStepConfiguration };\n\nexport interface IAppConfigurationUI {\n  container: ICSSProperties;\n  button: ICSSProperties;\n  buttonWithIcon: ICSSProperties;\n  iconButton: ICSSProperties;\n  iconCloseButton: ICSSProperties;\n  layout: ICSSProperties;\n  photo: ICSSProperties;\n  title: ICSSProperties;\n  paragraph: ICSSProperties;\n  documentOptions: IDocumentOptions;\n  list: IList;\n  navigationButtons: INavigationButtons;\n  image: ICSSProperties;\n  cameraButton: ICSSProperties;\n  videoContainer: ICSSProperties;\n  input: ICSSProperties;\n  loader: ICSSProperties;\n  errorText: ICSSProperties;\n  overlay: IOverlayStyles;\n  settings: ConfigSettings;\n  general: {\n    progress: boolean;\n    borderRadius: string;\n    padding: string;\n    colors: {\n      primary: string;\n      secondary: string;\n      text: string;\n      danger: string;\n    };\n    fonts: {\n      name: string;\n      weight: number[];\n      link?: string;\n    };\n  };\n  steps: TSteps;\n}\n\nexport interface IAppConfiguration extends Partial<IAppConfigurationUI> {\n  isDevelopment: boolean;\n  backendConfig: FlowsBackendConfig;\n  endUserInfo: Omit<EndUserInfo, 'dateOfBirth' | 'endUserMetadata'> & {\n    token?: string;\n  };\n  flows: { [key: string]: IFlow };\n  defaultLanguage: 'en' | 'es';\n}\n\nexport interface ConfigSettings {\n  cameraSettings: CaptureConfigOption;\n  selfieCameraSettings: CaptureConfigOption;\n}\n","import { IAppConfiguration } from '../contexts/configuration';\nimport { Steps } from '../contexts/configuration/types';\n\n// Config prioritiztion:\n// 3. Theme configuration\n// 2. Step configuration\n// 1. Components configuration\n\nconst defaultFlowOrder = [\n  Steps.Welcome,\n  Steps.DocumentSelection,\n  Steps.DocumentPhoto,\n  Steps.CheckDocument,\n  Steps.DocumentPhotoBackStart,\n  Steps.DocumentPhotoBack,\n  Steps.CheckDocumentPhotoBack,\n  Steps.SelfieStart,\n  Steps.Selfie,\n  Steps.CheckSelfie,\n  Steps.Loading,\n];\n\nexport const configuration: IAppConfiguration = {\n  backendConfig: {\n    baseUrl: 'http://localhost:3001',\n    auth: {\n      method: 'jwt',\n      authorizationHeader: 'Bearer YOUR_JWT_TOKEN', // Replace with your actual JWT token\n    },\n    endpoints: {\n      startVerification: '/v2/enduser/verify',\n      getVerificationStatus: '/v2/enduser/verify/status/{verificationId}',\n      processStepData: '/v2/enduser/verify/partial',\n      getConfig: '/v2/clients/{clientId}/config',\n    },\n  },\n  isDevelopment: false,\n  defaultLanguage: 'en',\n  endUserInfo: {\n    id: 'test-id123',\n  },\n  flows: {\n    default: {\n      name: 'default',\n      stepsOrder: defaultFlowOrder,\n      syncFlow: true,\n      useFinalQueryParams: true,\n    },\n  },\n};\n","import { writable } from 'svelte/store';\nimport { IAppConfiguration } from './types';\nimport { configuration as defaultConfiguration } from '../../configuration/configuration';\n\nexport const configuration = writable<IAppConfiguration>(defaultConfiguration);\n\nObject.defineProperty(window, 'configStore', {\n  get: (): any => {\n    return configuration.subscribe(e => console.log(e));\n  },\n});\n","import { AnyRecord } from '../../types';\n\nexport const isObjectEmpty = (obj: AnyRecord) => {\n  return Object.keys(obj).length === 0;\n};\n","import { isObjectEmpty } from '../object-utils';\n\nexport const resolveStringTemplate = (str: string, obj?: StringKV) => {\n  if (!obj || isObjectEmpty(obj)) return str;\n  return str.replace(/\\${(.*?)}/g, (x, g: string) => obj[g]);\n};\n","import { get } from 'svelte/store';\nimport { configuration } from '.';\nimport { FlowsBackendConfig } from '../../../types/BallerineSDK';\nimport { resolveStringTemplate } from '../../utils/string-utils/resolve-string-template';\n\nexport const getBackendConfig = (): FlowsBackendConfig => {\n  return get(configuration).backendConfig;\n};\n\nexport const resolveEndpoint = (\n  endpointName: keyof FlowsBackendConfig['endpoints'],\n  templateParams?: StringKV,\n): string => {\n  const backendConfig = getBackendConfig();\n\n  return `${backendConfig.baseUrl ?? ''}${resolveStringTemplate(\n    backendConfig.endpoints?.[endpointName] ?? '',\n    templateParams,\n  )}`;\n};\n\nexport const getStartVerificationEndpoint = (templateParams?: StringKV): string =>\n  resolveEndpoint('startVerification', templateParams);\nexport const getVerificationStatusEndpoint = (templateParams?: StringKV): string =>\n  resolveEndpoint('getVerificationStatus', templateParams);\nexport const processStepDataEndpoint = (templateParams?: StringKV): string =>\n  resolveEndpoint('processStepData', templateParams);\nexport const getConfigEndpoint = (templateParams?: StringKV): string =>\n  resolveEndpoint('getConfig', templateParams);\n\nexport const getAuthorizationHeader = (): string => {\n  const backendConfig = getBackendConfig();\n  const { auth } = backendConfig;\n  if (!auth) return '';\n\n  return auth.authorizationHeader || '';\n};\n\nexport const getIsDevelopment = (): boolean => {\n  return get(configuration).isDevelopment;\n};\n","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn Object.propertyIsEnumerable.call(target, symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","import { ICSSProperties, IOpacityColor } from '../contexts/configuration';\n\nconst hexTransparencies = {\n  100: 'FF',\n  99: 'FC',\n  98: 'FA',\n  97: 'F7',\n  96: 'F5',\n  95: 'F2',\n  94: 'F0',\n  93: 'ED',\n  92: 'EB',\n  91: 'E8',\n  90: 'E6',\n  89: 'E3',\n  88: 'E0',\n  87: 'DE',\n  86: 'DB',\n  85: 'D9',\n  84: 'D6',\n  83: 'D4',\n  82: 'D1',\n  81: 'CF',\n  80: 'CC',\n  79: 'C9',\n  78: 'C7',\n  77: 'C4',\n  76: 'C2',\n  75: 'BF',\n  74: 'BD',\n  73: 'BA',\n  72: 'B8',\n  71: 'B5',\n  70: 'B3',\n  69: 'B0',\n  68: 'AD',\n  67: 'AB',\n  66: 'A8',\n  65: 'A6',\n  64: 'A3',\n  63: 'A1',\n  62: '9E',\n  61: '9C',\n  60: '99',\n  59: '96',\n  58: '94',\n  57: '91',\n  56: '8F',\n  55: '8C',\n  54: '8A',\n  53: '87',\n  52: '85',\n  51: '82',\n  50: '80',\n  49: '7D',\n  48: '7A',\n  47: '78',\n  46: '75',\n  45: '73',\n  44: '70',\n  43: '6E',\n  42: '6B',\n  41: '69',\n  40: '66',\n  39: '63',\n  38: '61',\n  37: '5E',\n  36: '5C',\n  35: '59',\n  34: '57',\n  33: '54',\n  32: '52',\n  31: '4F',\n  30: '4D',\n  29: '4A',\n  28: '47',\n  27: '45',\n  26: '42',\n  25: '40',\n  24: '3D',\n  23: '3B',\n  22: '38',\n  21: '36',\n  20: '33',\n  19: '30',\n  18: '2E',\n  17: '2B',\n  16: '29',\n  15: '26',\n  14: '24',\n  13: '21',\n  12: '1F',\n  11: '1C',\n  10: '1A',\n  9: '17',\n  8: '14',\n  7: '12',\n  6: '0F',\n  5: '0D',\n  4: '0A',\n  3: '08',\n  2: '05',\n  1: '03',\n  0: '00'\n}\n\nconst cssProperties: (keyof ICSSProperties)[] = [\n  'margin',\n  'padding',\n  'font-family',\n  'font-size',\n  'font-weight',\n  'line-height',\n  'vertical-align',\n  'width',\n  'height',\n  'background',\n  'color',\n  'border-radius',\n  'border',\n  'display',\n  'align-items',\n  'text-align',\n  'justify-content',\n  'cursor',\n  'position',\n  'top',\n  'bottom',\n  'left',\n  'right',\n  'hover',\n  'active',\n  'box-shadow',\n  '-webkit-box-shadow',\n  'flex-direction',\n  'align-self',\n  'fill',\n  'flex-grow',\n  'background-position-y',\n  'outline',\n  'z-index',\n];\n\nconst setBackgroundWithOpacity = (style: IOpacityColor, styles: string[], prefix = ''): string[] => {\n  if (style.color.includes(\"primary\")) {\n    const app = document.getElementById(\"blrn-app\") as HTMLDivElement\n    const color = getComputedStyle(app).getPropertyValue('--primary-color');\n    return [...styles, `--${prefix}background: ${color}${hexTransparencies[style.opacity * 100] as string};`]\n  }\n  return styles;\n}\n\nexport const makeStylesFromConfiguration = (\n  globalComponentStyles: ICSSProperties = {},\n  configStyles: ICSSProperties = {},\n): string => {\n  let styles: string[] = [];\n\n  const setProperties = (\n    globalCss: ICSSProperties,\n    localCss: ICSSProperties,\n    property: keyof ICSSProperties,\n    prefix = '',\n  ) => {\n    if (localCss && localCss[property]) {\n      if (typeof localCss[property] === 'object' && property === 'background') {\n        styles = setBackgroundWithOpacity(localCss[property] as IOpacityColor, styles, prefix);\n        return;\n      }\n      styles.push(`--${prefix}${property}: ${String(localCss[property])};`);\n      return;\n    }\n    if (globalCss && globalCss[property]) {\n      if (typeof globalCss[property] === 'object' && property === 'background') {\n        styles = setBackgroundWithOpacity(globalCss[property] as IOpacityColor, styles, prefix);\n        return;\n      }\n      styles.push(`--${prefix}${property}: ${String(globalCss[property])};`);\n      return;\n    }\n  };\n\n  cssProperties.map(property => {\n    if (property === 'hover') {\n      cssProperties.map(hoverProperty => {\n        const globalHoverProperties = globalComponentStyles.hover as ICSSProperties;\n        const localHoverProperties = configStyles.hover as ICSSProperties;\n        setProperties(globalHoverProperties, localHoverProperties, hoverProperty, 'hover-');\n      });\n      return;\n    }\n    if (property === 'active') {\n      cssProperties.map(property => {\n        const globalActiveProperties = globalComponentStyles.active as ICSSProperties;\n        const localActiveHoverProperties = configStyles.active as ICSSProperties;\n        setProperties(globalActiveProperties, localActiveHoverProperties, property, 'active-');\n      });\n      return;\n    }\n    setProperties(globalComponentStyles, configStyles, property);\n  });\n\n  return styles.join('\\n');\n};\n\nexport const makesLocalStyles = (configStyles: ICSSProperties) => {\n  let styles: string[] = [];\n\n  const setProperties = (css: ICSSProperties, property: keyof ICSSProperties, prefix = '') => {\n    if (typeof css[property] === 'object' && property === 'background') {\n      styles = setBackgroundWithOpacity(css[property] as IOpacityColor, styles, prefix);\n      return;\n    }\n    if (css[property]) styles.push(`--${prefix}${property}: ${String(css[property])};`);\n  };\n\n  cssProperties.map(property => {\n    if (property === 'hover' && configStyles.hover) {\n      cssProperties.map(hoverProperty => {\n        const cssHoverProperties = configStyles.hover as ICSSProperties;\n        setProperties(cssHoverProperties, hoverProperty, 'hover-');\n      });\n      return;\n    }\n    if (property === 'active' && configStyles.active) {\n      cssProperties.map(property => {\n        const cssActiveProperties = configStyles.active as ICSSProperties;\n        setProperties(cssActiveProperties, property, 'active-');\n      });\n      return;\n    }\n    setProperties(configStyles, property);\n  });\n\n  return styles.join('\\n');\n};\n","!function(e,t){if(\"object\"===typeof exports&&\"object\"===typeof module)module.exports=t();else if(\"function\"===typeof define&&define.amd)define([],t);else{var n=t();for(var i in n)(\"object\"===typeof exports?exports:e)[i]=n[i]}}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=4)}([function(e,t,n){\"use strict\";n.d(t,\"b\",function(){return o}),n.d(t,\"c\",function(){return a});var i=n(1),r=n(7);n.d(t,\"a\",function(){return r.a}),n.d(t,\"d\",function(){return i.b});var o=i.a.FACING_MODES,a=i.a.IMAGE_TYPES},function(e,t,n){\"use strict\";var i=n(6);n.d(t,\"a\",function(){return i.a});var r=n(2);n.d(t,\"b\",function(){return r.a})},function(e,t,n){\"use strict\";function i(e,t){if(!(t>=0&&t<=1))throw new Error(t+\" is invalid imageCompression, choose between: [0, 1]\");if(!l.f.includes(e))throw new Error(e+\" is invalid imageType, choose between: \"+l.f.join(\", \"));return!0}function r(e,t){var n={};try{i(e,t),n.imageType=e,n.imageCompression=t}catch(e){console.error(e),console.error(\"default value of \"+l.c.PNG+\" is used\"),n.imageType=l.c.PNG,n.imageCompression=null}return n}function o(){var e=window.navigator.platform,t=window.navigator.userAgent;return e||t}function a(){return\"ontouchend\"in document}function u(e,t,n){var i=e*parseFloat(n);return{imageWidth:i,imageHeight:t/(e/i)}}function c(e,t,n){return r(t,n).imageType===l.c.JPG?n?e.toDataURL(l.b[l.c.JPG],n):e.toDataURL(l.b[l.c.JPG]):e.toDataURL(l.b[t])}function s(e,t){return e||t}function f(){var e=o();if(/iPad|iPhone|iPod/.test(e))return!0;var t=a();return!(!/Mac/.test(e)||!t)}function d(){return{userAgent:window.navigator.userAgent,platform:window.navigator.platform,_getStringWithPlatform:o(),_getHasTouchEvents:a(),getIsIOS:f()}}t.c=u,t.b=c,t.e=s,t.d=f,t.a=d;var l=n(3)},function(e,t,n){\"use strict\";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,\"e\",function(){return o}),n.d(t,\"a\",function(){return a}),n.d(t,\"f\",function(){return u}),n.d(t,\"c\",function(){return c}),n.d(t,\"b\",function(){return s}),n.d(t,\"d\",function(){return f});var r,o=[\"user\",\"environment\"],a={USER:\"user\",ENVIRONMENT:\"environment\"},u=[\"jpg\",\"png\"],c={PNG:\"png\",JPG:\"jpg\"},s=(r={},i(r,\"jpg\",\"image/jpeg\"),i(r,\"png\",\"image/png\"),r),f={audio:!1,video:!0}},function(e,t,n){e.exports=n(5)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0);n.d(t,\"FACING_MODES\",function(){return i.b}),n.d(t,\"IMAGE_TYPES\",function(){return i.c}),n.d(t,\"_getDebugPlatformInfo\",function(){return i.d});var r=n(9);n.d(t,\"downloadPhoto\",function(){return r.a}),t.default=i.a},function(e,t,n){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}n.d(t,\"a\",function(){return u});var r=n(2),o=n(3),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function e(){i(this,e)}return a(e,null,[{key:\"getDataUri\",value:function(e,t){var n=t.sizeFactor,i=t.imageType,o=t.imageCompression,a=t.isImageMirror,u=e.videoWidth,c=e.videoHeight,s=Object(r.c)(u,c,n),f=s.imageWidth,d=s.imageHeight,l=document.createElement(\"canvas\");l.width=f,l.height=d;var v=l.getContext(\"2d\");return a&&v.setTransform(-1,0,0,1,l.width,0),v.drawImage(e,0,0,f,d),Object(r.b)(l,i,o)}},{key:\"getWindowURL\",value:function(){return window.URL||window.webkitURL||window.mozURL||window.msURL}},{key:\"getNavigatorMediaDevices\",value:function(){var e=null,t=!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia),n=!(!navigator.mozGetUserMedia&&!navigator.webkitGetUserMedia);if(t)e=navigator.mediaDevices;else if(n){var i=navigator.mozGetUserMedia||navigator.webkitGetUserMedia,r={getUserMedia:function(e){return new Promise(function(t,n){i.call(navigator,e,t,n)})}};e=Object.assign(i,r)}return e}},{key:\"isSupportedFacingMode\",value:function(){return e.getNavigatorMediaDevices().getSupportedConstraints().facingMode}},{key:\"getIdealConstraints\",value:function(t,n){if(!Object(r.e)(t,n))return o.d;var i=e.getNavigatorMediaDevices().getSupportedConstraints();if(!i.width||!i.height)return console.error(\"Constraint width or height not supported! fallback to default resolution\"),o.d;var a=void 0,u=void 0;if(t){o.e.includes(t)?a=t:u={exact:t}}return{audio:!1,video:{facingMode:a,deviceId:u,width:n&&n.width,height:n&&n.height}}}},{key:\"getMaxResolutionConstraints\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",n=arguments[1];console.warn(\"getMaxResolutionConstraints() numberOfMaxResolutionTry:\",n);var i=[{width:{min:640}},{width:{min:800}},{width:{min:900}},{width:{min:1024}},{width:{min:1080}},{width:{min:1280}},{width:{min:1920}},{width:{min:2560}},{width:{min:3840}}],o=e.getIdealConstraints(t,{});if(0===n){if(Object(r.d)()){console.warn(\"fallback to iOS constraints\");return e.getIdealConstraints(t,{width:{min:640,ideal:3840},height:{min:480,ideal:2160}})}return o.video.advanced=i,o}if(n<i.length){var a=i.slice(0,-n);return o.video.advanced=a,o}return null}},{key:\"FACING_MODES\",get:function(){return o.a}},{key:\"IMAGE_TYPES\",get:function(){return o.c}}]),e}()},function(e,t,n){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}n.d(t,\"a\",function(){return c});var r=n(1),o=n(8),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=r.a.IMAGE_TYPES.PNG,c=function(){function e(t){i(this,e),this.videoElement=t,this.stream=null,this.numberOfMaxResolutionTry=0,this.settings=null,this.cameras=[],this.windowURL=r.a.getWindowURL(),this.mediaDevices=r.a.getNavigatorMediaDevices()}return a(e,[{key:\"_getStreamDevice\",value:function(e,t){var n=this;return new Promise(function(i,o){var a=r.a.getIdealConstraints(e,t);n.mediaDevices.getUserMedia(a).then(function(e){n._gotStream(e),i(e)}).catch(function(e){o(e)})})}},{key:\"_getStreamDeviceMaxResolution\",value:function(e){var t=this,n=r.a.getMaxResolutionConstraints(e,this.numberOfMaxResolutionTry);if(null==n){var i={};return this._getStreamDevice(e,i)}return new Promise(function(i,r){t.mediaDevices.getUserMedia(n).then(function(e){t._gotStream(e),i(e)}).catch(function(n){setTimeout(function(){t.numberOfMaxResolutionTry+=1,t._getStreamDeviceMaxResolution(e).catch(function(){r(n)})},20)})})}},{key:\"_setVideoSrc\",value:function(e){if(\"srcObject\"in this.videoElement)this.videoElement.srcObject=e;else{var t=this.windowURL.createObjectURL(e);this.videoElement.src=t}}},{key:\"_setSettings\",value:function(e){this.settings=null;var t=e&&e.getTracks?e.getTracks():[];t.length>0&&t[0].getSettings&&(this.settings=t[0].getSettings())}},{key:\"_enumerateCamerasPromise\",value:function(){var e=this;return new Promise(function(t,n){var i=[];e.mediaDevices.enumerateDevices().then(function(e){e.forEach(function(e){\"videoinput\"===e.kind&&e.deviceId&&i.push(e)}),t(i)}).catch(function(e){n(e)})})}},{key:\"_gotStream\",value:function(e){this.stream=e,this._setSettings(e),this._setVideoSrc(e)}},{key:\"getCameraSettings\",value:function(){return this.settings}},{key:\"enumerateCameras\",value:function(){var e=this;return this.stream?this._enumerateCamerasPromise():this.stopCamera().then(function(){}).catch(function(){}).then(function(){var t={video:!0};return e.mediaDevices.getUserMedia(t).then(function(e){setTimeout(function(){e.getTracks().forEach(function(e){e.stop()})},20)}).then(function(){}).catch(function(){}).then(function(){return e._enumerateCamerasPromise()})})}},{key:\"startCamera\",value:function(e,t){var n=this;return this.stopCamera().then(function(){}).catch(function(){}).then(function(){return n._getStreamDevice(e,t)})}},{key:\"startCameraMaxResolution\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";return this.numberOfMaxResolutionTry=0,this.stopCamera().then(function(){}).catch(function(){}).then(function(){return e._getStreamDeviceMaxResolution(t)})}},{key:\"getDataUri\",value:function(e){var t={sizeFactor:void 0===e.sizeFactor?o.c:e.sizeFactor,imageType:void 0===e.imageType?u:e.imageType,imageCompression:void 0===e.imageCompression?o.a:e.imageCompression,isImageMirror:void 0===e.isImageMirror?o.b:e.isImageMirror};return r.a.getDataUri(this.videoElement,t)}},{key:\"stopCamera\",value:function(){var e=this;return new Promise(function(t,n){e.stream&&(e.stream.getTracks().forEach(function(e){e.stop()}),e.videoElement.src=\"\",e.stream=null,e._setSettings(null),t()),n(Error(\"no stream to stop!\"))})}}]),e}()},function(e,t,n){\"use strict\";n.d(t,\"c\",function(){return i}),n.d(t,\"a\",function(){return r}),n.d(t,\"b\",function(){return o});var i=1,r=null,o=!1},function(e,t,n){\"use strict\";var i=n(10);n.d(t,\"a\",function(){return i.a})},function(e,t,n){\"use strict\";function i(e){for(var t=atob(e.split(\",\")[1]),n=e.split(\",\")[0].split(\":\")[1].split(\";\")[0],i=new ArrayBuffer(t.length),r=new Uint8Array(i),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return new Blob([i],{type:n})}function r(e,t){return e+=\"\",e.length>=t?e:new Array(t-e.length+1).join(\"0\")+e}function o(e){var t=s.c.PNG;return\"image/jpeg\"===e&&(t=s.c.JPG),t}function a(e,t,n){return e+\"-\"+r(t,4)+\".\"+o(n)}function u(e,t,n){window.URL=window.webkitURL||window.URL;var i=document.createElement(\"a\");i.download=a(t,n,e.type),i.href=window.URL.createObjectURL(e);var r=document.createEvent(\"MouseEvents\");r.initMouseEvent(\"click\",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(r)}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"photo\",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;u(i(e),t,n)}t.a=c;var s=n(0)}])});\n//# sourceMappingURL=index.js.map","import { derived, writable } from 'svelte/store';\nimport { steps } from '../navigation';\nimport { IAppState, IDocument, IDocumentInfo, ISelectedParams } from './types';\n\n// const STORAGE_SELFIE_KEY = \"selfie\";\n// const STORAGE_DOCUMENTS_KEY = \"documents\";\n// const STORAGE_DOCUMENT_INFO_KEY = \"document-info\";\n\n//selfie uir\n// export const selfieUri = writable<string>(sessionStorage.getItem(STORAGE_SELFIE_KEY) || \"\");\n// selfieUri.subscribe(selfie => {\n//   sessionStorage.setItem(STORAGE_SELFIE_KEY, selfie);\n// });\nexport const selfieUri = writable<string>('');\n\n//docs\nexport const documents = writable<IDocument[]>([]);\n// let savedDocs = sessionStorage.getItem(STORAGE_DOCUMENTS_KEY);\n// export const documents = writable<IDocument[]>(savedDocs ? JSON.parse(savedDocs) : []);\n// documents.subscribe(docs => {\n//   sessionStorage.setItem(STORAGE_DOCUMENTS_KEY, JSON.stringify(docs));\n// });\n\n//selected docs\nexport const selectedDocumentInfo = writable<IDocumentInfo>();\n// let savedSelectedDocs = sessionStorage.getItem(STORAGE_DOCUMENT_INFO_KEY);\n// export const selectedDocumentInfo = writable<IDocumentInfo>(savedSelectedDocs ? JSON.parse(savedSelectedDocs) : \"\");\n// selectedDocumentInfo.subscribe(docInfo => {\n//   sessionStorage.setItem(STORAGE_DOCUMENT_INFO_KEY, JSON.stringify(docInfo));\n// });\n\n// const APP_STATE_KEY = \"appState\";\n\n//reload state from session storage if it exists\n// let savedState = sessionStorage.getItem(APP_STATE_KEY);\n// let savedStateObj;\n// if (savedState) savedStateObj = JSON.parse(savedState);\n\nexport const currentStepIdx = writable<number>(0);\nexport const currentParams = writable<ISelectedParams | null>(null);\nexport const currentRoute = writable<string>();\n\nlet previousPage = 'none';\n\nexport const appState = derived(currentRoute, $currentRoute => {\n  const index = steps.findIndex(s => s.name === $currentRoute);\n\n  const appState: IAppState = {\n    currentStepIdx: index,\n    currentPage: $currentRoute,\n    previousPage,\n  };\n\n  previousPage = $currentRoute;\n\n  return appState;\n});\n\nexport const currentStepId = writable<string>('welcome');\n","import { SvelteComponent } from 'svelte';\nimport { Steps } from '../configuration/types';\n\nexport enum DocumentType {\n  PASSPORT = 'passport', // CARD\n  DRIVERS_LICENSE = 'drivers_license', // CARD\n  RESIDENCE_PERMIT = 'residence_permit', // CARD\n  ID_CARD = 'id_card', // CARD\n  VOTER_ID = 'voter_id', // CARD\n  WORK_PERMIT = 'work_permit', // CARD\n  VISA = 'visa', // CARD\n  BANK_STATEMENT = 'bank_statement', // A4\n  PROOF_OF_BUSINESS_TAX_ID = 'proof_of_business_tax_id', // A4\n  OPERATING_LICENSE = 'operating_license', // A4\n  BUSINESS_REGISTRATION = 'business_registration', // A4\n  SELFIE = 'selfie',\n}\n\nexport enum DocumentVariant {\n  A4 = 'a4',\n  REGULAR = 'regular',\n}\n\nexport interface IDocumentInfo {\n  backSide: boolean;\n  variant: DocumentVariant;\n  type: DocumentType;\n}\n\nexport type IPageSide = 'front' | 'back';\nexport interface IDocumentPage {\n  base64?: string;\n  uri?: string;\n  side: IPageSide;\n}\n\nexport interface IDocument {\n  type: DocumentType;\n  metadata: Record<string, string>;\n  pages: IDocumentPage[];\n}\n\nexport interface IStoreData {\n  docs: IDocument[];\n  selectedDocumentInfo?: IDocumentInfo;\n  selfie?: string;\n}\n\nexport interface IStep {\n  name: Steps;\n  id: string;\n  component: typeof SvelteComponent;\n}\n\nexport interface IStore {\n  currentStepIndex: number;\n  data: IStoreData;\n}\n\nexport interface DevMocks {\n  resultTime: number | string;\n  reasonCode: number;\n  code: number;\n  idvResult: DecisionStatus;\n}\n\nexport enum DecisionStatus {\n  APPROVED = 'approved',\n  RESUBMISSION_REQUESTED = 'resubmission_requested',\n  DECLINED = 'declined',\n  EXPIRED = 'expired',\n  ABANDONED = 'abandoned',\n  REVIEW = 'review',\n}\n\nexport interface IAppState {\n  currentStepIdx: number;\n  currentPage: string;\n  previousPage: string;\n}\n\nexport type ISelectedParams = Record<string, string | boolean>;\n","import { DocumentType, IDocument, IPageSide } from './types';\n\nexport const getDocImage = (\n  type: DocumentType,\n  docs: IDocument[],\n  pageSide?: IPageSide,\n): string => {\n  const doc = docs.find(d => d.type === type);\n  if (!doc) return '';\n  const page = doc.pages.find(p => p.side === pageSide) || doc.pages[0];\n  if (!page) return '';\n  return page.base64 as string;\n};\n","import { IMAGE_TYPES } from 'jslib-html5-camera-photo';\nimport { DocumentType } from '../../contexts/app-state';\nimport { DocumentVariant } from '../../contexts/app-state/types';\nimport { Elements, IElement, Steps, IAppConfigurationUI, TSteps } from '../../contexts/configuration';\n\nconst backIconButton: IElement = {\n  type: Elements.IconButton,\n  props: {\n    attributes: {\n      src: 'https://cdn.ballerine.io/ui-packs/default/images/back.svg',\n      alt: 'back',\n      width: '28px',\n      height: '28px',\n    },\n    style: {\n      left: '26px',\n      background: 'transparent',\n    },\n  },\n};\n\nconst closeIconButton: IElement = {\n  type: Elements.IconCloseButton,\n  props: {\n    attributes: {\n      src: 'https://cdn.ballerine.io/ui-packs/default/images/close.svg',\n      alt: 'back',\n      width: '18px',\n      height: '18px',\n    },\n    style: {\n      right: '26px',\n      background: 'transparent',\n    },\n  },\n};\n\nconst backWhiteIconButton: IElement = {\n  type: Elements.IconButton,\n  props: {\n    attributes: {\n      ...backIconButton.props.attributes,\n      src: 'https://cdn.ballerine.io/ui-packs/default/images/back-white.svg',\n    },\n    style: backIconButton.props.style,\n  },\n};\n\nconst stepsTheme: TSteps = {\n  [Steps.Welcome]: {\n    name: Steps.Welcome,\n    id: Steps.Welcome,\n    style: {},\n    elements: [\n      backIconButton,\n      closeIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            'text-align': 'center',\n            padding: '8px 0px 20px',\n            'font-size': '18px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            'text-align': 'center',\n            margin: '0px',\n            'font-size': '16px',\n          },\n          context: 'description',\n        },\n      },\n      {\n        type: Elements.Image,\n        props: {\n          style: {\n            margin: '8px auto',\n            'flex-grow': 1,\n          },\n          attributes: {\n            src: 'https://cdn.ballerine.io/ui-packs/default/images/welcome.svg',\n            alt: 'welcome',\n            width: '248px',\n            height: '212px',\n          },\n        },\n      },\n      {\n        type: Elements.Button,\n        props: {},\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            margin: '32px 0px 100px',\n            'text-align': 'center',\n            'font-size': '16px',\n          },\n          context: 'tip',\n        },\n      },\n    ],\n  },\n  [Steps.DocumentStart]: {\n    name: Steps.DocumentStart,\n    id: Steps.DocumentStart,\n    elements: [\n      backIconButton,\n      closeIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            'text-align': 'center',\n            padding: '8px 0px 20px',\n            'font-size': '18px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            'text-align': 'center',\n            margin: '0px',\n            'font-size': '16px',\n          },\n          context: 'description',\n        },\n      },\n      {\n        type: Elements.Image,\n        props: {\n          style: {\n            margin: '8px auto',\n            'flex-grow': 1,\n          },\n          attributes: {\n            src: 'https://cdn.ballerine.io/ui-packs/default/images/welcome.svg',\n            alt: 'welcome',\n            width: '248px',\n            height: '212px',\n          },\n        },\n      },\n      {\n        type: Elements.Button,\n        props: {},\n      },\n    ],\n  },\n  [Steps.DocumentSelection]: {\n    name: Steps.DocumentSelection,\n    id: Steps.DocumentSelection,\n    elements: [\n      backIconButton,\n      closeIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            padding: '8px 24px 18px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            margin: '0 20px 30px 20px',\n          },\n          context: 'description',\n        },\n      },\n    ],\n  },\n  [Steps.DocumentPhoto]: {\n    name: Steps.DocumentPhoto,\n    id: Steps.DocumentPhoto,\n    elements: [\n      backWhiteIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            color: '#fff',\n            'font-weight': 700,\n            'align-self': 'center',\n            padding: '48px 0px 18px 0px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            margin: '0px 20px 18px 40px',\n            color: '#fff',\n            'text-align': 'center',\n          },\n        },\n      },\n      {\n        type: Elements.VideoContainer,\n        props: {\n          style: {\n            margin: '0px',\n          },\n        },\n      },\n      {\n        type: Elements.Loader,\n        props: {},\n      },\n      {\n        type: Elements.CameraButton,\n        props: {\n          style: {\n            margin: '24px 0px 30px',\n          },\n        },\n      },\n    ],\n  },\n  [Steps.CheckDocument]: {\n    name: Steps.CheckDocument,\n    id: Steps.CheckDocument,\n    elements: [\n      backIconButton,\n      closeIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            padding: '8px 30px 18px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            margin: '0px 0px 48px',\n          },\n        },\n      },\n      {\n        type: Elements.Photo,\n        props: {\n          style: {\n            margin: '0px',\n          },\n        },\n      },\n    ],\n  },\n  [Steps.DocumentPhotoBackStart]: {\n    name: Steps.DocumentPhotoBackStart,\n    id: Steps.DocumentPhotoBackStart,\n    style: {},\n    elements: [\n      backIconButton,\n      closeIconButton,\n      {\n        type: Elements.Title,\n        id: 'welcome-title1',\n        props: {\n          style: {\n            padding: '8px 24px 18px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            margin: '0',\n          },\n        },\n      },\n      {\n        type: Elements.Image,\n        props: {\n          style: {\n            margin: '8px auto',\n            'flex-grow': 1,\n          },\n          attributes: {\n            src: 'https://cdn.ballerine.io/ui-packs/default/images/document-photo-back-start.svg',\n            alt: 'document-photo-back-start',\n            width: '260px',\n            height: '212px',\n          },\n        },\n      },\n      {\n        type: Elements.Button,\n        props: {\n          style: {\n            margin: '0px 0px 100px 0px',\n          },\n        },\n      },\n    ],\n  },\n  [Steps.DocumentPhotoBack]: {\n    name: Steps.DocumentPhotoBack,\n    id: Steps.DocumentPhotoBack,\n    elements: [\n      backWhiteIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            color: '#fff',\n            'font-weight': 700,\n            'align-self': 'center',\n            padding: '48px 0px 18px 0px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            margin: '0px 20px 18px 40px',\n            color: '#fff',\n          },\n        },\n      },\n      {\n        type: Elements.Loader,\n        props: {},\n      },\n      {\n        type: Elements.VideoContainer,\n        props: {\n          style: {\n            margin: '0px',\n          },\n        },\n      },\n      {\n        type: Elements.CameraButton,\n        props: {\n          style: {\n            margin: '24px 0px 30px',\n          },\n        },\n      },\n    ],\n  },\n  [Steps.CheckDocumentPhotoBack]: {\n    name: Steps.CheckDocumentPhotoBack,\n    id: Steps.CheckDocumentPhotoBack,\n    elements: [\n      backIconButton,\n      closeIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            padding: '8px 24px 18px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            margin: '0px 0px 48px',\n          },\n        },\n      },\n      {\n        type: Elements.Photo,\n        props: {\n          style: {\n            margin: '0px',\n          },\n        },\n      },\n    ],\n  },\n  [Steps.SelfieStart]: {\n    name: Steps.SelfieStart,\n    id: Steps.SelfieStart,\n    style: {},\n    elements: [\n      backIconButton,\n      closeIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            padding: '8px 24px 18px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            margin: '0',\n          },\n        },\n      },\n      {\n        type: Elements.Image,\n        props: {\n          style: {\n            margin: '8px auto',\n            'flex-grow': 1,\n          },\n          attributes: {\n            src: 'https://cdn.ballerine.io/ui-packs/default/images/selfie-start.svg',\n            alt: 'selfie-start',\n            width: '300x',\n            height: '300px',\n          },\n        },\n      },\n      {\n        type: Elements.Button,\n        props: {},\n      },\n    ],\n  },\n  [Steps.Selfie]: {\n    name: Steps.Selfie,\n    id: Steps.Selfie,\n    elements: [\n      backWhiteIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            color: '#fff',\n            'font-weight': 700,\n            'align-self': 'center',\n            padding: '48px 0px 18px 0px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            margin: '0px 20px 18px 40px',\n            color: '#fff',\n          },\n        },\n      },\n      {\n        type: Elements.Loader,\n        props: {},\n      },\n      {\n        type: Elements.VideoContainer,\n        props: {\n          style: {\n            margin: '0px',\n          },\n        },\n      },\n      {\n        type: Elements.CameraButton,\n        props: {\n          style: {\n            margin: '24px 0px 30px',\n          },\n        },\n      },\n    ],\n  },\n  [Steps.CheckSelfie]: {\n    name: Steps.CheckSelfie,\n    id: Steps.CheckSelfie,\n    elements: [\n      backIconButton,\n      closeIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            padding: '8px 24px 18px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            margin: '0px 0px 48px',\n          },\n        },\n      },\n      {\n        type: Elements.Photo,\n        props: {\n          style: {\n            margin: '0px',\n          },\n        },\n      },\n    ],\n  },\n  [Steps.Loading]: {\n    name: Steps.Loading,\n    id: Steps.Loading,\n    elements: [],\n  },\n  [Steps.Resubmission]: {\n    name: Steps.Resubmission,\n    id: Steps.Resubmission,\n    elements: [\n      closeIconButton,\n      {\n        type: Elements.Image,\n        props: {\n          style: {\n            margin: '120px 0px 16px',\n            'align-self': 'center',\n          },\n          attributes: {\n            src: 'https://cdn.ballerine.io/ui-packs/default/images/resubmit.svg',\n            alt: 'decline',\n            width: '80px',\n            height: '80px',\n          },\n        },\n      },\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            padding: '8px 0px 6px',\n            'text-align': 'center',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            background: 'transparent',\n            margin: '0px 0px 48px',\n            border: 'none',\n            color: '#788597',\n          },\n        },\n      },\n\n      {\n        type: Elements.ErrorText,\n        props: {\n          style: {\n            background: 'transparent',\n            margin: '0px 0px 48px',\n            border: 'none',\n            color: '#788597',\n          },\n        },\n      },\n      {\n        type: Elements.Button,\n        props: {},\n      },\n    ],\n  },\n  [Steps.Decline]: {\n    name: Steps.Decline,\n    id: Steps.Decline,\n    elements: [\n      closeIconButton,\n      {\n        type: Elements.Image,\n        props: {\n          style: {\n            margin: '120px 0px 16px',\n          },\n          attributes: {\n            src: 'https://cdn.ballerine.io/ui-packs/default/images/decline.svg',\n            alt: 'decline',\n            width: '80px',\n            height: '80px',\n          },\n        },\n      },\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            padding: '8px 0px 6px',\n            'text-align': 'center',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            background: 'transparent',\n            margin: '0px 0px 48px',\n            border: 'none',\n            color: '#788597',\n          },\n        },\n      },\n\n      {\n        type: Elements.ErrorText,\n        props: {},\n      },\n      {\n        type: Elements.Button,\n        props: {},\n      },\n    ],\n  },\n  [Steps.Error]: {\n    name: Steps.Error,\n    id: Steps.Error,\n    elements: [\n      closeIconButton,\n      {\n        type: Elements.Image,\n        props: {\n          style: {\n            margin: '120px 0px 16px',\n          },\n          attributes: {\n            src: 'https://cdn.ballerine.io/ui-packs/default/images/decline.svg',\n            alt: 'decline',\n            width: '80px',\n            height: '80px',\n          },\n        },\n      },\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            padding: '8px 0px 6px',\n            'text-align': 'center',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            background: 'transparent',\n            margin: '0px 0px 48px',\n            border: 'none',\n            color: '#788597',\n          },\n        },\n      },\n      {\n        type: Elements.ErrorText,\n        props: {\n          style: {\n            margin: '20px 0px',\n          },\n        },\n      },\n      {\n        type: Elements.Button,\n        props: {},\n      },\n    ],\n  },\n  [Steps.Final]: {\n    name: Steps.Final,\n    id: Steps.Final,\n    style: {},\n    elements: [\n      closeIconButton,\n      {\n        type: Elements.Image,\n        props: {\n          style: {\n            margin: '170px auto 16px',\n            'align-self': 'center',\n          },\n          attributes: {\n            src: 'https://cdn.ballerine.io/ui-packs/default/images/final.svg',\n            alt: 'final',\n            width: '80px',\n            height: '80px',\n          },\n        },\n      },\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            padding: '8px 0px 6px',\n            'text-align': 'none',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            margin: '0px 0px 60px',\n            'text-align': 'center',\n          },\n        },\n      },\n\n      {\n        type: Elements.Input,\n        props: {\n          attributes: {\n            name: 'first-name',\n            type: 'text',\n            placeholder: 'placeholder1',\n            validate: () => true,\n            defaultValue: 'John',\n          },\n          style: {},\n        },\n      },\n      {\n        type: Elements.Input,\n        props: {\n          attributes: {\n            name: 'last-name',\n            type: 'text',\n            placeholder: 'placeholder2',\n            validate: () => true,\n          },\n          style: {},\n        },\n      },\n      {\n        type: Elements.Button,\n        props: {},\n      },\n    ],\n  }\n}\n\nexport const uiTheme: IAppConfigurationUI = {\n  general: {\n    progress: false,\n    borderRadius: '16px',\n    padding: '24px',\n    colors: {\n      primary: '#007AFF',\n      secondary: '#080444',\n      text: '#788597',\n      danger: 'rgba(173, 0, 0, 0.8);',\n    },\n    fonts: {\n      name: 'Inter',\n      weight: [500, 700],\n      link: \"https://fonts.googleapis.com/css2?family=Inter:wght@500;700\"\n    },\n  },\n  photo: {},\n  paragraph: {},\n  cameraButton: {},\n  videoContainer: {},\n  input: {},\n  loader: {},\n  button: {\n    'font-size': '16px',\n    padding: '20px 20px',\n    width: '100%',\n    color: '#fff',\n    'font-weight': 700,\n    'border-radius': '12px',\n    'box-shadow': '0px 6px 9px 5px #007AFF1a;-webkit-box-shadow: 0px 6px 9px 5px #007AFF1a;',\n  },\n  buttonWithIcon: {\n    'font-size': '16px',\n    padding: '20px 20px',\n    width: '100%',\n    color: '#fff',\n    'font-weight': 700,\n    'border-radius': '12px',\n    'box-shadow': '0px 6px 9px 5px #007AFF1a;-webkit-box-shadow: 0px 6px 9px 5px #007AFF1a;',\n  },\n  iconButton: {\n    background: '#F2F3F4',\n    width: '40px',\n    height: '40px',\n    position: 'absolute',\n    top: '45px',\n    right: '32px',\n  },\n  iconCloseButton: {\n    background: '#F2F3F4',\n    width: '40px',\n    height: '40px',\n    position: 'absolute',\n    top: '45px',\n    right: '32px',\n  },\n  navigationButtons: {\n    props: {\n      style: {\n        display: 'flex',\n        'flex-direction': 'row',\n        margin: '70px 0px 0px',\n        padding: '0px',\n      },\n    },\n    backButton: {\n      type: 'button',\n      props: {\n        style: {\n          width: '100%',\n          margin: '67px 20px 0px 0px',\n          padding: '0px',\n          'font-weight': 400,\n          background: '#fff',\n          color: '#6A6A6A',\n          border: '1px solid #BFBFBF',\n          'box-shadow':\n            '0px 6px 9px 5px rgba(0,122,255,0);-webkit-box-shadow: 0px 6px 9px 5px rgba(0,122,255,0);',\n        },\n      },\n    },\n    nextButton: {\n      type: 'button',\n      props: {\n        style: {\n          width: '100%',\n        },\n      },\n    },\n  },\n  errorText: {\n    border: '1px solid #DF2222',\n    background: 'rgba(223, 34, 34, 0.2)',\n    'border-radius': '6px',\n    padding: '8px',\n  },\n  settings: {\n    cameraSettings: {\n      sizeFactor: 1,\n      imageType: IMAGE_TYPES.JPG,\n      imageCompression: 0,\n      isImageMirror: false,\n    },\n    selfieCameraSettings: {\n      sizeFactor: 1,\n      imageType: IMAGE_TYPES.JPG,\n      imageCompression: 0,\n      isImageMirror: true,\n    },\n  },\n  layout: {\n    padding: '40px',\n    position: 'relative',\n    background: 'linear-gradient(180deg, #fff 0%, #fff 75%, #007AFF 250%)',\n  },\n  documentOptions: {\n    options: {\n      [DocumentType.ID_CARD]: {\n        document: {\n          type: DocumentType.ID_CARD,\n          backSide: true,\n          variant: DocumentVariant.REGULAR,\n        },\n        attributes: {\n          icon: 'Card',\n          width: 40,\n          height: 40,\n        },\n      },\n      [DocumentType.DRIVERS_LICENSE]: {\n        document: {\n          type: DocumentType.DRIVERS_LICENSE,\n          backSide: true,\n          variant: DocumentVariant.REGULAR,\n        },\n        attributes: {\n          icon: 'License',\n          width: 40,\n          height: 40,\n        },\n      },\n      [DocumentType.PASSPORT]: {\n        document: {\n          type: DocumentType.PASSPORT,\n          backSide: false,\n          variant: DocumentVariant.REGULAR,\n        },\n        attributes: {\n          icon: 'PassportTwo',\n          width: 40,\n          height: 40,\n        },\n      },\n      [DocumentType.VOTER_ID]: {\n        document: {\n          type: DocumentType.VOTER_ID,\n          backSide: true,\n          variant: DocumentVariant.REGULAR,\n        },\n        attributes: {\n          icon: 'Voter',\n          width: 40,\n          height: 40,\n        },\n      },\n    },\n    props: {},\n    descriptionProps: {\n      style: {\n        'font-size': '12px',\n        color: '#788597',\n        margin: '3px 0px 0px 0px',\n        hover: {\n          color: '#788597',\n        },\n        active: {\n          color: '#788597',\n        },\n      },\n    },\n    optionProps: {\n      style: {\n        background: '#fff',\n        margin: '0 0 22px 0px',\n        border: '1px solid #ffffff',\n        'border-radius': '13px',\n        width: '100%',\n        padding: '20px 18px',\n        'box-shadow':\n          '0px 6px 30px 0px #007AFF1a , 0px 3px 10px 0px #0000000a ;-webkit-box-shadow: 0px 6px 30px 0px #007AFF1a , 0px 3px 10px 0px #0000000a ;',\n        display: 'flex',\n        'text-align': 'left',\n        hover: {\n          border: '1px solid #007AFF21',\n          background: '#fff',\n        },\n        active: {\n          border: '1px solid #007AFF21',\n          background: '#F1F1F1',\n        },\n      },\n    },\n    iconContainerProps: {\n      style: {\n        width: '45px',\n        height: '45px',\n        margin: '0px 15px 0px 0px',\n        padding: '0px',\n        background: 'transparent',\n        active: {\n          background: '#fff',\n        },\n      },\n    },\n    iconProps: {\n      style: {\n        fill: '#000',\n        active: {\n          fill: '#0079FA',\n        },\n      },\n    },\n    titleProps: {\n      style: {\n        color: '#434345',\n        'text-align': 'left',\n        margin: '4px 0px 0px',\n        active: {\n          color: '#434345',\n        },\n      },\n    },\n  },\n  overlay: {\n    selfie: {\n      'background-position-y': '30%'\n    }\n  },\n  list: {\n    titleProps: {},\n    listProps: {},\n    listElementProps: {},\n  },\n  container: {\n    width: '100%',\n    display: 'flex',\n    'justify-content': 'center',\n    'align-items': 'center',\n  },\n  image: {\n    margin: '0px',\n  },\n  title: {\n    'font-weight': 700,\n    'font-size': '20px',\n    'text-align': 'center',\n    color: '#001B39',\n  },\n  steps: stepsTheme,\n}\n","import { writable } from 'svelte/store';\nimport { IAppConfigurationUI } from '../contexts/configuration';\nimport { uiTheme } from './default/theme'\n\nexport const uiPack = writable<IAppConfigurationUI>(uiTheme);\n\n","import merge from 'deepmerge';\nimport { IStepConfiguration } from '../../contexts/configuration';\n\nexport const mergeStepConfig = (\n  defaultConfig: IStepConfiguration,\n  overrides: IStepConfiguration,\n): IStepConfiguration => {\n  const mergedConfig = merge(defaultConfig, overrides);\n  console.log(\"mergedConfig\", mergedConfig)\n  return {\n    ...mergedConfig,\n    elements: overrides.elements || defaultConfig.elements,\n    namespace: mergedConfig.namespace || mergedConfig.id || mergedConfig.name,\n  };\n};\n\nexport const isUrl = (url: string) => {\n  const pattern = new RegExp('^(https?:\\\\/\\\\/)?'+ // protocol\n  '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|'+ // domain name\n  '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+ // OR ip (v4) address\n  '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+ // port and path\n  '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ // query string\n  '(\\\\#[-a-z\\\\d_]*)?$','i'); // fragment locator\n  return !!pattern.test(url);\n}\n","import { ICSSProperties } from '../../contexts/configuration';\n\nexport const injectPrimaryIntoLayoutGradient = (\n  layoutStyles: ICSSProperties,\n  primaryColor: string,\n): ICSSProperties => {\n  if (typeof layoutStyles.background === 'string' && layoutStyles.background.includes('gradient')) {\n    return {\n      ...layoutStyles,\n      background: `linear-gradient(180deg, #fff 0%, #fff 75%, ${primaryColor} 250%)`,\n    };\n  }\n  return layoutStyles;\n};\n","import { IAppConfiguration, IAppConfigurationUI, ICSSProperties, IStepConfiguration } from \"../contexts/configuration\";\nimport { mergeStepConfig } from \"../services/merge-service\";\nimport { injectPrimaryIntoLayoutGradient } from '../services/theme-manager';\nimport { makeStylesFromConfiguration } from '../utils/css-utils';\nimport merge from 'deepmerge';\n\nexport const getStepConfiguration = (configuration:  IAppConfiguration, uiPack: IAppConfigurationUI, stepId: string) => {\n  if (!uiPack.steps[stepId] && configuration.steps && configuration.steps[stepId]) {\n    const step = configuration.steps[stepId];\n    const uiStep = uiPack.steps[step.id];\n    return mergeStepConfig(uiStep, configuration.steps[stepId]);\n  }\n  return mergeStepConfig(uiPack.steps[stepId], configuration.steps ? configuration.steps[stepId] : {} as IStepConfiguration);\n}\n\nexport const getLayoutStyles = (configuration:  IAppConfiguration, uiPack: IAppConfigurationUI, step: IStepConfiguration) => {\n  return makeStylesFromConfiguration(\n    merge(\n      injectPrimaryIntoLayoutGradient(uiPack.layout, configuration.general?.colors?.primary || uiPack.general.colors.primary),\n      configuration.layout || {},\n    ),\n    step.style,\n  );\n}\n\nexport const getComponentStyles = (uiPackComponentStyle: ICSSProperties, configurationStyles: ICSSProperties, style: ICSSProperties) => {\n  return makeStylesFromConfiguration(\n    merge(uiPackComponentStyle, configurationStyles || {}),\n    style,\n  );\n}\n","import { IMAGE_TYPES } from 'jslib-html5-camera-photo';\nimport { DocumentType } from '../../contexts/app-state';\nimport { DocumentVariant } from '../../contexts/app-state/types';\nimport { Elements, IElement, Steps, IAppConfigurationUI, TSteps } from '../../contexts/configuration';\n\nconst backIconButton: IElement = {\n  type: Elements.IconButton,\n  props: {\n    attributes: {\n      src: 'https://cdn.ballerine.io/ui-packs/default/images/back.svg',\n      alt: 'back',\n      width: '28px',\n      height: '28px',\n    },\n    style: {\n      left: '26px',\n      background: 'transparent',\n    },\n  },\n};\n\nconst closeIconButton: IElement = {\n  type: Elements.IconCloseButton,\n  props: {\n    attributes: {\n      src: 'https://cdn.ballerine.io/ui-packs/default/images/close.svg',\n      alt: 'back',\n      width: '18px',\n      height: '18px',\n    },\n    style: {\n      right: '26px',\n      background: 'transparent',\n    },\n  },\n};\n\nconst backWhiteIconButton: IElement = {\n  type: Elements.IconButton,\n  props: {\n    attributes: {\n      ...backIconButton.props.attributes,\n      src: 'https://cdn.ballerine.io/ui-packs/default/images/back-white.svg',\n    },\n    style: backIconButton.props.style,\n  },\n};\n\nconst stepsTheme: TSteps = {\n  [Steps.Welcome]: {\n    name: Steps.Welcome,\n    id: Steps.Welcome,\n    elements: [\n      backWhiteIconButton,\n      closeIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            padding: '28px 0px 70px',\n          },\n        },\n      },\n      {\n        type: Elements.Image,\n        props: {\n          style: {\n            margin: '0px auto 25px',\n            'flex-grow': 1,\n          },\n          attributes: {\n            src: 'https://cdn.ballerine.io/ui-packs/future/welcome.svg',\n            alt: 'welcome',\n            width: '218px',\n            height: '218px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            'text-align': 'center',\n            margin: '0px 0px 50px',\n            'font-size': '16px',\n          },\n        },\n      },\n      {\n        type: Elements.Button,\n        props: {\n          style: {\n          }\n        },\n      },\n    ],\n  },\n  [Steps.DocumentSelection]: {\n    name: Steps.DocumentSelection,\n    id: Steps.DocumentSelection,\n    elements: [\n      backWhiteIconButton,\n      closeIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            padding: '5px 24px 18px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            margin: '0 20px 30px 20px',\n          },\n          context: 'description',\n        },\n      },\n    ],\n  },\n  [Steps.DocumentPhoto]: {\n    name: Steps.DocumentPhoto,\n    id: Steps.DocumentPhoto,\n    elements: [\n      backWhiteIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            color: '#fff',\n            'font-weight': 700,\n            \"font-size\": \"18px\",\n            'align-self': 'center',\n            padding: '5px 0px 18px 0px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            margin: '0px 20px 18px 40px',\n            color: '#DDDDDD',\n            'text-align': 'center',\n          },\n        },\n      },\n      {\n        type: Elements.Loader,\n        props: {},\n      },\n      {\n        type: Elements.VideoContainer,\n        props: {\n          style: {\n            margin: '0px',\n          },\n        },\n      },\n      {\n        type: Elements.CameraButton,\n        props: {\n          style: {\n            margin: '24px 0px 30px',\n          },\n        },\n      },\n    ],\n  },\n  [Steps.CheckDocument]: {\n    name: Steps.CheckDocument,\n    id: Steps.CheckDocument,\n    elements: [\n      backWhiteIconButton,\n      closeIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            padding: '8px 30px 18px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            margin: '0px 0px 48px',\n          },\n        },\n      },\n      {\n        type: Elements.Photo,\n        props: {\n          style: {\n            margin: '0px',\n          },\n        },\n      },\n    ],\n  },\n  [Steps.DocumentPhotoBackStart]: {\n    name: Steps.DocumentPhotoBackStart,\n    id: Steps.DocumentPhotoBackStart,\n    style: {},\n    elements: [\n      backWhiteIconButton,\n      closeIconButton,\n      {\n        type: Elements.Title,\n        id: 'welcome-title1',\n        props: {\n          style: {\n            padding: '5px 24px 18px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            margin: '0',\n          },\n        },\n      },\n      {\n        type: Elements.Image,\n        props: {\n          style: {\n            margin: '8px auto',\n            'flex-grow': 1,\n          },\n          attributes: {\n            src: 'https://cdn.ballerine.io/ui-packs/future/document-photo-back-start.svg',\n            alt: 'document-photo-back-start',\n            width: '260px',\n            height: '212px',\n          },\n        },\n      },\n      {\n        type: Elements.Button,\n        props: {\n          style: {\n            margin: '0px 0px 100px 0px',\n          },\n        },\n      },\n    ],\n  },\n  [Steps.DocumentPhotoBack]: {\n    name: Steps.DocumentPhotoBack,\n    id: Steps.DocumentPhotoBack,\n    elements: [\n      backWhiteIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            color: '#fff',\n            'font-weight': 700,\n            'align-self': 'center',\n            padding: '8px 0px 18px 0px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            margin: '0px 20px 18px 40px',\n            color: '#DDDDDD',\n          },\n        },\n      },\n      {\n        type: Elements.VideoContainer,\n        props: {\n          style: {\n            margin: '0px',\n          },\n        },\n      },\n      {\n        type: Elements.Loader,\n        props: {},\n      },\n      {\n        type: Elements.CameraButton,\n        props: {\n          style: {\n            margin: '24px 0px 30px',\n          },\n        },\n      },\n    ],\n  },\n  [Steps.CheckDocumentPhotoBack]: {\n    name: Steps.CheckDocumentPhotoBack,\n    id: Steps.CheckDocumentPhotoBack,\n    elements: [\n      backWhiteIconButton,\n      closeIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            padding: '5px 24px 18px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            margin: '0px 0px 48px',\n          },\n        },\n      },\n      {\n        type: Elements.Photo,\n        props: {\n          style: {\n            margin: '0px',\n          },\n        },\n      },\n    ],\n  },\n  [Steps.SelfieStart]: {\n    name: Steps.SelfieStart,\n    id: Steps.SelfieStart,\n    style: {},\n    elements: [\n      backWhiteIconButton,\n      closeIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            padding: '5px 24px 18px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            margin: '0',\n          },\n        },\n      },\n      {\n        type: Elements.Image,\n        props: {\n          style: {\n            margin: '8px auto',\n            'flex-grow': 1,\n          },\n          attributes: {\n            src: 'https://cdn.ballerine.io/ui-packs/future/selfie-start.svg',\n            alt: 'selfie-start',\n            width: '300x',\n            height: '300px',\n          },\n        },\n      },\n      {\n        type: Elements.Button,\n        props: {},\n      },\n    ],\n  },\n  [Steps.Selfie]: {\n    name: Steps.Selfie,\n    id: Steps.Selfie,\n    elements: [\n      backWhiteIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            color: '#fff',\n            'font-weight': 700,\n            'align-self': 'center',\n            padding: '48px 0px 18px 0px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            margin: '0px 20px 18px 40px',\n            color: '#DDDDDD',\n          },\n        },\n      },\n      {\n        type: Elements.VideoContainer,\n        props: {\n          style: {\n            margin: '0px',\n          },\n        },\n      },\n      {\n        type: Elements.Loader,\n        props: {},\n      },\n      {\n        type: Elements.CameraButton,\n        props: {\n          style: {\n            margin: '24px 0px 30px',\n          },\n        },\n      },\n    ],\n  },\n  [Steps.CheckSelfie]: {\n    name: Steps.CheckSelfie,\n    id: Steps.CheckSelfie,\n    elements: [\n      backWhiteIconButton,\n      closeIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            padding: '5px 24px 18px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            margin: '0px 0px 48px',\n          },\n        },\n      },\n      {\n        type: Elements.Photo,\n        props: {\n          style: {\n            margin: '0px',\n          },\n        },\n      },\n    ],\n  },\n  [Steps.Loading]: {\n    name: Steps.Loading,\n    id: Steps.Loading,\n    elements: [],\n  },\n  [Steps.Resubmission]: {\n    name: Steps.Resubmission,\n    id: Steps.Resubmission,\n    elements: [\n      closeIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            padding: '8px 0px 6px',\n            'text-align': 'center',\n          },\n        },\n      },\n      {\n        type: Elements.Image,\n        props: {\n          style: {\n            margin: '120px 0px 16px',\n            'align-self': 'center',\n          },\n          attributes: {\n            src: 'https://cdn.ballerine.io/ui-packs/future/resubmit.svg',\n            alt: 'decline',\n            width: '80px',\n            height: '80px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            background: 'transparent',\n            margin: '0px 0px 48px',\n            border: 'none',\n            color: '#788597',\n          },\n        },\n      },\n\n      {\n        type: Elements.ErrorText,\n        props: {\n          style: {\n            background: 'transparent',\n            margin: '0px 0px 48px',\n            border: 'none',\n            color: '#788597',\n          },\n        },\n      },\n      {\n        type: Elements.Button,\n        props: {},\n      },\n    ],\n  },\n  [Steps.Decline]: {\n    name: Steps.Decline,\n    id: Steps.Decline,\n    elements: [\n      closeIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            padding: '8px 0px 6px',\n            'text-align': 'center',\n          },\n        },\n      },\n      {\n        type: Elements.Image,\n        props: {\n          style: {\n            margin: '120px 0px 16px',\n          },\n          attributes: {\n            src: 'https://cdn.ballerine.io/ui-packs/future/decline.svg',\n            alt: 'decline',\n            width: '80px',\n            height: '80px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            background: 'transparent',\n            margin: '0px 0px 48px',\n            border: 'none',\n            color: '#788597',\n          },\n        },\n      },\n\n      {\n        type: Elements.ErrorText,\n        props: {},\n      },\n      {\n        type: Elements.Button,\n        props: {},\n      },\n    ],\n  },\n  [Steps.Error]: {\n    name: Steps.Error,\n    id: Steps.Error,\n    elements: [\n      closeIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            padding: '8px 0px 6px',\n            'text-align': 'center',\n          },\n        },\n      },\n      {\n        type: Elements.Image,\n        props: {\n          style: {\n            margin: '120px 0px 16px',\n          },\n          attributes: {\n            src: 'https://cdn.ballerine.io/ui-packs/future/decline.svg',\n            alt: 'decline',\n            width: '80px',\n            height: '80px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            background: 'transparent',\n            margin: '0px 0px 48px',\n            border: 'none',\n            color: '#788597',\n          },\n        },\n      },\n      {\n        type: Elements.ErrorText,\n        props: {\n          style: {\n            margin: '20px 0px',\n          },\n        },\n      },\n      {\n        type: Elements.Button,\n        props: {},\n      },\n    ],\n  },\n  [Steps.Final]: {\n    name: Steps.Final,\n    id: Steps.Final,\n    style: {},\n    elements: [\n      closeIconButton,\n      {\n        type: Elements.Title,\n        props: {\n          style: {\n            padding: '8px 0px 6px',\n            'text-align': 'none',\n          },\n        },\n      },\n      {\n        type: Elements.Image,\n        props: {\n          style: {\n            margin: '170px auto 16px',\n            'align-self': 'center',\n          },\n          attributes: {\n            src: 'https://cdn.ballerine.io/ui-packs/future/final.svg',\n            alt: 'final',\n            width: '80px',\n            height: '80px',\n          },\n        },\n      },\n      {\n        type: Elements.Paragraph,\n        props: {\n          style: {\n            margin: '0px 0px 60px',\n            'text-align': 'center',\n          },\n        },\n      },\n\n      {\n        type: Elements.Input,\n        props: {\n          attributes: {\n            name: 'first-name',\n            type: 'text',\n            placeholder: 'placeholder1',\n            validate: () => true,\n            defaultValue: 'John',\n          },\n          style: {},\n        },\n      },\n      {\n        type: Elements.Input,\n        props: {\n          attributes: {\n            name: 'last-name',\n            type: 'text',\n            placeholder: 'placeholder2',\n            validate: () => true,\n          },\n          style: {},\n        },\n      },\n      {\n        type: Elements.Button,\n        props: {},\n      },\n    ],\n  }\n}\n\nexport const uiTheme: IAppConfigurationUI = {\n  general: {\n    progress: false,\n    borderRadius: '16px',\n    padding: '24px',\n    colors: {\n      primary: '#F260FF',\n      secondary: '#7000FF',\n      text: '#788597',\n      danger: 'rgba(173, 0, 0, 0.8);',\n    },\n    fonts: {\n      name: 'IBM Plex Mono',\n      weight: [400, 500, 700],\n      link: \"https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;700&display=swap\"\n    },\n  },\n  photo: {},\n  paragraph: {\n    color: \"#926A90\",\n    \"font-size\": \"16x\",\n  },\n  cameraButton: {},\n  videoContainer: {},\n  input: {},\n  loader: {},\n  button: {\n    'font-size': '16px',\n    padding: '15px 20px',\n    width: '100%',\n    color: '#fff',\n    background: \"linear-gradient(267.68deg, var(--primary-color) 23.95%, var(--secondary-color) 95.08%)\",\n    'font-weight': 700,\n    'border-radius': '100px',\n    'box-shadow': '0px 6px 9px 5px #007AFF1a;-webkit-box-shadow: 0px 6px 9px 5px #007AFF1a;',\n  },\n  buttonWithIcon: {\n    'font-size': '16px',\n    padding: '20px 20px',\n    width: '100%',\n    color: '#fff',\n    'font-weight': 700,\n    'border-radius': '12px',\n    'box-shadow': '0px 6px 9px 5px #007AFF1a;-webkit-box-shadow: 0px 6px 9px 5px #007AFF1a;',\n  },\n  iconButton: {\n    background: '#F2F3F4',\n    width: '40px',\n    height: '40px',\n    position: 'absolute',\n    top: '45px',\n    right: '32px',\n  },\n  iconCloseButton: {\n    background: '#F2F3F4',\n    width: '40px',\n    height: '40px',\n    position: 'absolute',\n    top: '45px',\n    right: '32px',\n  },\n  navigationButtons: {\n    props: {\n      style: {\n        display: 'flex',\n        'flex-direction': 'column-reverse',\n        margin: '70px 0px 0px',\n        padding: '0px',\n      },\n    },\n    backButton: {\n      type: 'button',\n      props: {\n        style: {\n          width: '100%',\n          margin: '32px 0px 0px 0px',\n          padding: '15px 20px',\n          'font-weight': 400,\n          background: {\n            color: \"var(--primary-color)\",\n            opacity: 0.2\n          },\n          color: '#fff',\n          border: '1px solid var(--primary-color)',\n          'box-shadow':\n            '0px 3px 10px rgba(0, 0, 0, 0.05), 0px 6px 30px rgba(0, 122, 255, 0.1)',\n        },\n      },\n    },\n    nextButton: {\n      type: 'button',\n      props: {\n        style: {\n          'font-size': '16px',\n          padding: '15px 20px',\n          width: '100%',\n          color: '#fff',\n          'font-weight': 700,\n          'border-radius': '100px',\n          'box-shadow': '0px 6px 9px 5px #007AFF1a;-webkit-box-shadow: 0px 6px 9px 5px #007AFF1a;',\n        },\n      },\n    },\n  },\n  errorText: {\n    border: '1px solid #DF2222',\n    background: 'rgba(223, 34, 34, 0.2)',\n    'border-radius': '6px',\n    padding: '8px',\n  },\n  settings: {\n    cameraSettings: {\n      sizeFactor: 1,\n      imageType: IMAGE_TYPES.JPG,\n      imageCompression: 0,\n      isImageMirror: false,\n    },\n    selfieCameraSettings: {\n      sizeFactor: 1,\n      imageType: IMAGE_TYPES.JPG,\n      imageCompression: 0,\n      isImageMirror: true,\n    },\n  },\n  layout: {\n    padding: '40px',\n    position: 'relative',\n    background: '#000',\n  },\n  documentOptions: {\n    options: {\n      [DocumentType.ID_CARD]: {\n        document: {\n          type: DocumentType.ID_CARD,\n          backSide: true,\n          variant: DocumentVariant.REGULAR,\n        },\n        attributes: {\n          icon: 'Card',\n          width: 40,\n          height: 40,\n        },\n      },\n      [DocumentType.DRIVERS_LICENSE]: {\n        document: {\n          type: DocumentType.DRIVERS_LICENSE,\n          backSide: true,\n          variant: DocumentVariant.REGULAR,\n        },\n        attributes: {\n          icon: 'License',\n          width: 40,\n          height: 40,\n        },\n      },\n      [DocumentType.PASSPORT]: {\n        document: {\n          type: DocumentType.PASSPORT,\n          backSide: false,\n          variant: DocumentVariant.REGULAR,\n        },\n        attributes: {\n          icon: 'PassportTwo',\n          width: 40,\n          height: 40,\n        },\n      },\n      [DocumentType.VOTER_ID]: {\n        document: {\n          type: DocumentType.VOTER_ID,\n          backSide: true,\n          variant: DocumentVariant.REGULAR,\n        },\n        attributes: {\n          icon: 'Voter',\n          width: 40,\n          height: 40,\n        },\n      },\n    },\n    props: {},\n    descriptionProps: {\n      style: {\n        'font-size': '12px',\n        color: '#926A90',\n        margin: '3px 0px 0px 0px',\n        hover: {\n          color: '#926A90',\n        },\n        active: {\n          color: '#926A90',\n        },\n      },\n    },\n    optionProps: {\n      style: {\n        background: {\n          color: \"var(--primary-color)\",\n          opacity: 0.2,\n        },\n        margin: '0 0 22px 0px',\n        border: '1px solid var(--primary-color)',\n        'border-radius': '13px',\n        width: '100%',\n        padding: '14px 18px',\n        'box-shadow':\n          '0px 6px 30px 0px #007AFF1a , 0px 3px 10px 0px #0000000a ;-webkit-box-shadow: 0px 6px 30px 0px #007AFF1a , 0px 3px 10px 0px #0000000a ;',\n        display: 'flex',\n        'text-align': 'left',\n        hover: {\n          border: '1px solid var(--primary-color)',\n          background: {\n            color: \"var(--primary-color)\",\n            opacity: 0.4,\n          },\n        },\n        active: {\n          border: '1px solid var(--primary-color)',\n          background: {\n            color: \"var(--primary-color)\",\n            opacity: 0.4,\n          },\n        },\n      },\n    },\n    iconContainerProps: {\n      style: {\n        width: '45px',\n        height: '45px',\n        margin: '0px 15px 0px 0px',\n        padding: '0px',\n        background: 'transparent',\n        hover: {\n          background: 'transparent'\n        },\n        active: {\n          background: 'transparent'\n        },\n      },\n    },\n    iconProps: {\n      style: {\n      },\n    },\n    titleProps: {\n      style: {\n        color: '#fff',\n        'text-align': 'left',\n        margin: '4px 0px 0px',\n        hover: {\n          color: '#fff'\n        },\n        active: {\n          color: '#fff'\n        },\n      },\n    },\n  },\n  overlay: {\n    selfie: {\n      'background-position-y': '30%'\n    }\n  },\n  list: {\n    titleProps: {},\n    listProps: {},\n    listElementProps: {},\n  },\n  container: {\n    width: '100%',\n    display: 'flex',\n    'justify-content': 'center',\n    'align-items': 'center',\n  },\n  image: {\n    margin: '0px',\n  },\n  title: {\n    'font-weight': 700,\n    'font-size': '27px',\n    'text-align': 'center',\n    color: '#fff',\n  },\n  steps: stepsTheme,\n}\n","export { uiPack } from \"./store\";\nexport { getStepConfiguration, getComponentStyles, getLayoutStyles } from './utils';\nimport { uiTheme as future } from './future/theme';\nimport { uiTheme as blue } from './default/theme';\nexport const packs = { future, default: blue };\n","<script lang=\"ts\">\n  import {\n    configuration as globalConfiguration,\n    IElementProps,\n  } from '../../contexts/configuration';\n  import { makeStylesFromConfiguration } from '../../utils/css-utils';\n\n  import merge from 'deepmerge';\n  import { uiPack } from '../../ui-packs';\n\n  export let configuration: IElementProps;\n  export let isBack = false;\n\n  const background = !isBack\n    ? $globalConfiguration.button?.background ||\n      $uiPack.button.background ||\n      $globalConfiguration.general?.colors?.primary ||\n      $uiPack.general.colors.primary\n    : undefined;\n\n  const styleProps = {\n    ...configuration?.style,\n    background,\n  };\n\n  const buttonConfiguration = isBack ? configuration?.style : $globalConfiguration.button;\n\n  const style = makeStylesFromConfiguration(\n    merge($uiPack.button, buttonConfiguration || {}),\n    styleProps,\n  );\n</script>\n\n<button {style} on:click>\n  <slot />\n</button>\n\n<style>\n  button {\n    cursor: pointer;\n    border: var(--border);\n    outline: none;\n    padding: var(--padding);\n    font-size: var(--font-size);\n    font-weight: var(--font-weight);\n    width: var(--width);\n    background: var(--background);\n    color: var(--color);\n    border-radius: var(--border-radius);\n    box-shadow: var(--box-shadow);\n    margin: var(--margin);\n  }\n</style>\n","<script lang=\"ts\">\n  import merge from 'deepmerge';\n  import { configuration, ICSSProperties } from '../../../contexts/configuration';\n  import { makesLocalStyles } from '../../../utils/css-utils';\n\n  const loader = {\n    background: $configuration.general.colors.primary,\n  };\n\n  const styleProps = merge(loader, $configuration.loader ?? {}) as ICSSProperties;\n\n  const style = makesLocalStyles(styleProps);\n</script>\n\n<div {style} class=\"loader small\" />\n\n<style>\n  .loader {\n    border-radius: 50%;\n    animation: loader-rotate 1s linear infinite;\n  }\n\n  .small {\n    width: 41px;\n    height: 41px;\n    border: 4px solid #fff;\n    border-right-color: transparent;\n  }\n\n  @keyframes loader-rotate {\n    0% {\n      transform: rotate(0);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n</style>\n","<script lang=\"ts\">\n  import { goToNextStep } from '../../contexts/navigation';\n  import type { IElementProps } from '../../contexts/configuration';\n  import { configuration as globalConfiguration } from '../../contexts/configuration';\n  import { currentStepId } from '../../contexts/app-state';\n  import { makeStylesFromConfiguration } from '../../utils/css-utils';\n  import { Loader } from './Loader';\n  import merge from 'deepmerge';\n  import { uiPack } from '../../ui-packs';\n\n  // TODO: Use the createToggle hook, and make sure an exported prop is not being mutated.\n  export let isDisabled = false;\n  export let isLoading = false;\n  export let configuration: IElementProps;\n  export let skipType: string;\n\n  const background =\n    $globalConfiguration.button?.background ||\n    $uiPack.button.background ||\n    $globalConfiguration.general?.colors?.primary ||\n    $uiPack.general.colors.primary;\n\n  const styleProps = {\n    ...configuration?.style,\n    background,\n  };\n\n  const style = makeStylesFromConfiguration(\n    merge($uiPack.button, $globalConfiguration.button || {}),\n    styleProps,\n  );\n\n  let disabled: boolean;\n  const onClick = () => {\n    if (disabled) return;\n\n    goToNextStep(currentStepId, $globalConfiguration, $currentStepId, skipType);\n    isDisabled = true;\n  };\n\n  $: disabled = isDisabled || isLoading;\n</script>\n\n<button {style} {disabled} on:click={onClick}>\n  {#if isLoading}\n    <div class=\"loader-container\">\n      <Loader />\n    </div>\n  {/if}\n  <slot />\n</button>\n\n<style>\n  button:disabled .loader-container {\n    margin-inline-end: 1rem;\n  }\n\n  button {\n    cursor: pointer;\n    border: none;\n    outline: none;\n    padding: var(--padding);\n    font-size: var(--font-size);\n    font-weight: var(--font-weight);\n    width: var(--width);\n    background: var(--background);\n    color: var(--color);\n    border-radius: var(--border-radius);\n    box-shadow: var(--box-shadow);\n    margin: var(--margin);\n    position: var(--position);\n    bottom: var(--bottom);\n    left: var(--left);\n  }\n\n  button:disabled {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n</style>\n","<script lang=\"ts\">\n  import {\n    configuration as globalConfiguration,\n    ICSSProperties,\n    IElementProps,\n  } from '../../contexts/configuration';\n  import { getComponentStyles, uiPack } from '../../ui-packs';\n\n  export let configuration: IElementProps;\n  const styleProps = configuration.style as ICSSProperties;\n\n  const style = getComponentStyles($uiPack.title, $globalConfiguration.title || {}, styleProps);\n</script>\n\n<h1 {style}>\n  <slot />\n</h1>\n\n<style>\n  h1 {\n    font-size: var(--font-size);\n    font-weight: var(--font-weight);\n    margin: var(--margin);\n    padding: var(--padding);\n    text-align: var(--text-align);\n    color: var(--color);\n    align-self: var(--align-self);\n    z-index: 2;\n  }\n</style>\n","<script lang=\"ts\">\n  import {\n    configuration as globalConfiguration,\n    ICSSProperties,\n    IElementProps,\n    IAttributes,\n  } from '../../contexts/configuration';\n  import { getComponentStyles, uiPack } from '../../ui-packs';\n\n  export let configuration: IElementProps;\n  const styleProps = configuration.style as ICSSProperties;\n  const attributes = configuration.attributes as IAttributes;\n  const style = getComponentStyles($uiPack.image, $globalConfiguration.image, styleProps);\n</script>\n\n<div {style} height={attributes.height} width={attributes.width} class=\"container\">\n  {@html attributes.src}\n</div>\n\n<style>\n  .container {\n    margin: var(--margin);\n    flex-grow: var(--flex-grow, 0);\n    text-align: center;\n  }\n  .container > :global(svg) {\n    max-width: 100%;\n  }\n</style>\n","<script lang=\"ts\">\n  import {\n    configuration as globalConfiguration,\n    ICSSProperties,\n    IElementProps,\n  } from '../../contexts/configuration';\n  import { getComponentStyles, uiPack } from '../../ui-packs';\n\n  export let configuration: IElementProps;\n  export let active = false;\n\n  const styleProps = configuration.style as ICSSProperties;\n\n  const style = getComponentStyles($uiPack.paragraph, $globalConfiguration.paragraph || {}, styleProps);\n</script>\n\n<p {style} class:active>\n  <slot />\n</p>\n\n<style>\n  p {\n    transition: all 0.1s ease-in;\n    font-size: var(--font-size);\n    font-weight: var(--font-weight);\n    margin: var(--margin);\n    text-align: var(--text-align);\n    color: var(--color);\n    z-index: 2;\n    align-self: var(--align-self);\n  }\n  p.active {\n    color: var(--active-color);\n  }\n</style>\n","<script lang=\"ts\">\n  import {\n    configuration as globalConfiguration,\n    ICSSProperties,\n    IElementProps,\n  } from '../../contexts/configuration';\n  import { getComponentStyles, uiPack } from '../../ui-packs';\n\n  export let configuration: IElementProps;\n  export let active = false;\n  const styleProps = configuration.style as ICSSProperties;\n\n  const style = getComponentStyles($uiPack.container, $globalConfiguration.container, styleProps);\n</script>\n\n<div {style} class=\"container\" class:active>\n  <slot />\n</div>\n\n<style>\n  .container {\n    margin: var(--margin);\n    padding: var(--padding);\n    width: var(--width);\n    min-width: var(--width);\n    height: var(--height);\n    background: var(--background);\n    border-radius: var(--border-radius);\n    display: var(--display);\n    align-items: var(--align-items);\n    justify-content: var(--justify-content);\n    transition: all 0.1s ease-in;\n  }\n  .container.active {\n    background: var(--active-background);\n  }\n</style>\n","<script lang=\"ts\">\n  import {\n    configuration as globalConfiguration,\n    IAttributes,\n    ICSSProperties,\n    IElementProps,\n  } from '../../contexts/configuration';\n  import { getComponentStyles, uiPack } from '../../ui-packs';\n\n  export let configuration: IElementProps;\n  const styleProps = configuration.style as ICSSProperties;\n  const attributes = configuration.attributes as IAttributes;\n\n  const style = getComponentStyles($uiPack.iconButton, $globalConfiguration.iconButton, styleProps);\n</script>\n\n<button {style} on:click width={attributes.width} height={attributes.height}>\n  {@html attributes.src}\n</button>\n\n<style>\n  button {\n    cursor: pointer;\n    border: none;\n    outline: none;\n    width: var(--width);\n    min-width: var(--width);\n    height: var(--height);\n    background: var(--background);\n    border-radius: var(--border-radius);\n    position: var(--position);\n    display: var(--display);\n    align-items: var(--align-items);\n    justify-content: var(--justify-content);\n    top: var(--top);\n    left: var(--left);\n    right: var(--right);\n    z-index: 3;\n  }\n</style>\n","<script lang=\"ts\">\n  import {\n    configuration as globalConfiguration,\n    IAttributes,\n    ICSSProperties,\n    IElementProps,\n  } from '../../contexts/configuration';\n  import { getComponentStyles, uiPack } from '../../ui-packs';\n\n  export let configuration: IElementProps;\n  const styleProps = configuration.style as ICSSProperties;\n  const attributes = configuration.attributes as IAttributes;\n\n  const style = getComponentStyles($uiPack.buttonWithIcon, $globalConfiguration.buttonWithIcon, styleProps);\n</script>\n\n<button {style} on:click>\n  <slot />\n  <img\n    src={attributes.src}\n    alt={attributes.alt}\n    width={attributes.width}\n    height={attributes.height}\n  />\n</button>\n\n<style>\n  button {\n    cursor: pointer;\n    display: flex;\n    justify-content: space-between;\n    border: none;\n    outline: none;\n    padding: var(--padding);\n    font-size: var(--font-size);\n    width: var(--width);\n    background: var(--background);\n    color: var(--color);\n    border-radius: var(--border-radius);\n  }\n</style>\n","<script lang=\"ts\">\n  import merge from 'deepmerge';\n  import { configuration, ICSSProperties } from '../../contexts/configuration';\n  import { uiPack } from '../../ui-packs';\n  import { makesLocalStyles } from '../../utils/css-utils';\n\n  export let size: 'small' | 'medium' = 'medium';\n  export let fullPage = true;\n\n  const loader = {\n    background: $configuration.general?.colors.primary || $uiPack.general.colors.primary,\n  };\n\n  const styleProps = merge(loader, $configuration.loader || $uiPack.loader) as ICSSProperties;\n\n  const style = makesLocalStyles(styleProps);\n</script>\n\n{#if fullPage}\n  <div class=\"container\">\n    <div class=\"loader-wrapper\">\n      <div {style} class:small={size === 'small'} class:medium={size === 'medium'} class=\"loader\" />\n    </div>\n  </div>\n{:else}\n  <div class=\"loader-wrapper\">\n    <div {style} class:small={size === 'small'} class:medium={size === 'medium'} class=\"loader\" />\n  </div>\n{/if}\n\n<style>\n  .container {\n    width: 100%;\n    height: 100%;\n    top: 0px;\n    left: 0px;\n    position: absolute;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: white;\n  }\n\n  .loader-wrapper {\n    position: relative;\n  }\n\n  .loader {\n    position: relative;\n    top: 50%;\n    margin: -28px auto 0;\n    border-radius: 50%;\n    animation: loader-rotate 1s linear infinite;\n  }\n\n  .small {\n    width: 41px;\n    height: 41px;\n    border: 4px solid var(--background);\n    border-right-color: transparent;\n  }\n\n  .medium {\n    width: 56px;\n    height: 56px;\n    border: 8px solid var(--background);\n    border-right-color: transparent;\n  }\n\n  .small::after {\n    content: '';\n    width: 4px;\n    height: 4px;\n    background: var(--background);\n    border-radius: 50%;\n    position: absolute;\n    top: 1px;\n    left: 27px;\n  }\n\n  .medium::after {\n    content: '';\n    width: 8px;\n    height: 8px;\n    background: var(--background);\n    border-radius: 50%;\n    position: absolute;\n    top: -1px;\n    left: 33px;\n  }\n\n  @keyframes loader-rotate {\n    0% {\n      transform: rotate(0);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n</style>\n","<script lang=\"ts\">\n  import merge from 'deepmerge';\n  import {\n    configuration as globalConfiguration,\n    ICSSProperties,\n    IElementProps,\n  } from '../../contexts/configuration';\n  import { uiPack } from '../../ui-packs';\n  import { makeStylesFromConfiguration } from '../../utils/css-utils';\n  import Loader from '../Loader/Loader.svelte';\n\n  export let configuration: IElementProps;\n  export let src: string;\n  const styleProps = configuration.style as ICSSProperties;\n\n  const defaultStyle = {\n    'border-radius': $globalConfiguration.general?.borderRadius || $uiPack.general.borderRadius,\n  };\n\n  const style = makeStylesFromConfiguration(\n    merge(defaultStyle, $globalConfiguration.photo || {}),\n    styleProps,\n  );\n</script>\n\n<div class=\"container\">\n  {#if src}\n    <img {src} alt=\"result\" {style} />\n  {:else}\n    <Loader size=\"small\" fullPage={false} />\n  {/if}\n</div>\n\n<style>\n  div.container {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex: 1;\n  }\n  img {\n    border-radius: var(--border-radius);\n    margin: var(--margin);\n    max-width: 100%;\n    max-height: 35vh;\n    animation: slide-in-bottom 0.8s linear both;\n  }\n  @keyframes slide-in-bottom {\n    0% {\n      transform: translateY(20px);\n      opacity: 0;\n    }\n    70% {\n      transform: translateY(-5px);\n      opacity: 1;\n    }\n    100% {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n</style>\n","<script lang=\"ts\">\n  import {\n    configuration as globalConfiguration,\n    ICSSProperties,\n    IElementProps,\n  } from '../../contexts/configuration';\n  import { makeStylesFromConfiguration } from '../../utils/css-utils';\n\n  export let configuration: IElementProps;\n  export let isDisabled = false;\n  const styleProps = configuration.style as ICSSProperties;\n\n  const style = makeStylesFromConfiguration($globalConfiguration.cameraButton, styleProps);\n</script>\n\n<button {style} on:click aria-label=\"take picture\" disabled={isDisabled}>\n  <span class=\"inner-container\" />\n</button>\n\n<style>\n  button {\n    margin: var(--margin);\n    width: 76px;\n    height: 76px;\n    border-radius: 50%;\n    border: 5px solid #fff;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: transparent;\n    outline: none;\n    cursor: pointer;\n    z-index: 2;\n  }\n\n  .inner-container {\n    width: 64px;\n    height: 64px;\n    min-width: 64px;\n    background: #fff;\n    border-radius: 50%;\n  }\n\n  button:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n</style>\n","<script lang=\"ts\">\n  import {\n    configuration as globalConfiguration,\n    ICSSProperties,\n    IElementProps,\n  } from '../../contexts/configuration';\n  import { makeStylesFromConfiguration } from '../../utils/css-utils';\n\n  export let configuration: IElementProps;\n  export let isSelfie = false;\n\n  const styleProps = configuration.style as ICSSProperties;\n\n  const style = makeStylesFromConfiguration($globalConfiguration.videoContainer, styleProps);\n</script>\n\n<div class=\"container\" class:mirror={isSelfie} {style}>\n  <slot />\n</div>\n\n<style>\n  .container {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  .mirror :global(video) {\n    transform: rotateY(180deg);\n  }\n  .container :global(video) {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0px;\n    left: 0px;\n    right: 0;\n    bottom: 0;\n    object-fit: cover;\n    z-index: 1;\n  }\n</style>\n","<script lang=\"ts\">\n  import { ICSSProperties, IElementProps } from '../../contexts/configuration';\n  import { makesLocalStyles } from '../../utils/css-utils';\n\n  export let configuration: IElementProps;\n  const styleProps = configuration.style as ICSSProperties;\n\n  const style = makesLocalStyles(styleProps);\n</script>\n\n<li {style}>\n  <slot />\n</li>\n\n<style>\n  li {\n    font-size: var(--font-size);\n    font-weight: var(--font-weight);\n    margin: var(--margin);\n    text-align: var(--text-align);\n    color: var(--color);\n    z-index: 2;\n  }\n</style>\n","<script lang=\"ts\">\n  import { onDestroy } from 'svelte';\n  import { fly } from 'svelte/transition';\n\n  type Text = {\n    text: string;\n    startTime: number;\n    endTime: number | 'infinity';\n  };\n\n  export let texts: Text[];\n\n  let text = '';\n\n  const intervals: NodeJS.Timeout[] = [];\n\n  for (const item of texts) {\n    const start = setTimeout(() => {\n      text = item.text;\n    }, item.startTime);\n\n    intervals.push(start);\n\n    if (item.endTime !== 'infinity') {\n      const end = setTimeout(() => {\n        text = '';\n      }, item.endTime);\n\n      intervals.push(end);\n    }\n  }\n\n  onDestroy(() => {\n    for (const interval of intervals) {\n      clearInterval(interval);\n    }\n  });\n</script>\n\n{#key text}\n  <p in:fly={{ y: 16 }} out:fly={{ y: 16 }}>{text}</p>\n{/key}\n\n<style>\n  p {\n    font-size: 16px;\n    line-height: 1;\n    margin: 0;\n  }\n</style>\n","import { DocumentType } from '../../contexts/app-state';\n\nexport const getOverlayDocumentType = (\n  documentType: DocumentType,\n): 'card' | 'passport' | 'a4' | 'selfie' => {\n  const cardOverlayDocumentTypes = [\n    DocumentType.DRIVERS_LICENSE,\n    DocumentType.RESIDENCE_PERMIT,\n    DocumentType.ID_CARD,\n    DocumentType.VOTER_ID,\n    DocumentType.WORK_PERMIT,\n    DocumentType.VISA,\n  ];\n\n  if (cardOverlayDocumentTypes.includes(documentType)) {\n    return 'card';\n  }\n  if (documentType === DocumentType.PASSPORT) {\n    return 'passport';\n  }\n  if (documentType === DocumentType.SELFIE) {\n    return 'selfie';\n  }\n  return 'a4';\n};\n","<script lang=\"ts\">\n  import { getOverlayDocumentType } from './utils';\n  import { DocumentType } from '../../contexts/app-state';\n\n  export let type: DocumentType;\n\n  const overlayType = getOverlayDocumentType(type);\n\n</script>\n\n<div class=\"overlay {overlayType}\" />\n\n<style>\n  .overlay {\n    z-index: 1;\n    position: relative;\n    margin: 10px 0px 0px 0px;\n    max-width: 80%;\n    max-height: 100%;\n    -webkit-box-shadow: 0px 0px 0px 1000px rgba(0, 0, 0, 0.7);\n    -moz-box-shadow: 0px 0px 0px 1000px rgba(0, 0, 0, 0.7);\n    box-shadow: 0px 0px 0px 1000px rgba(0, 0, 0, 0.7);\n    border: 3px solid #ffffff4d;\n    width: 100%;\n  }\n  .overlay.card {\n    border-radius: 12px;\n    aspect-ratio: 4/3;\n  }\n  .overlay.passport {\n    border-radius: 12px;\n    aspect-ratio: 3/4;\n  }\n  .overlay.a4 {\n    border-radius: 12px;\n    aspect-ratio: 3/4;\n  }\n  .overlay.selfie {\n    border-radius: 100%;\n    aspect-ratio: 3/4;\n  }\n</style>\n","<script lang=\"ts\">\n  import {\n    configuration as globalConfiguration,\n    IAttributes,\n    ICSSProperties,\n    IElementProps,\n  } from '../../contexts/configuration';\n  import { getComponentStyles, uiPack } from '../../ui-packs';\n\n  export let configuration: IElementProps;\n  const styleProps = configuration.style as ICSSProperties;\n  const attributes = configuration.attributes as IAttributes;\n\n  const style = getComponentStyles($uiPack.iconCloseButton, $globalConfiguration.iconCloseButton, styleProps);\n</script>\n\n<button {style} on:click>\n  {@html attributes.src}\n</button>\n\n<style>\n  button {\n    cursor: pointer;\n    border: none;\n    outline: none;\n    width: var(--width);\n    min-width: var(--width);\n    height: var(--height);\n    background: var(--background);\n    border-radius: var(--border-radius);\n    position: var(--position);\n    display: var(--display);\n    align-items: var(--align-items);\n    justify-content: var(--justify-content);\n    top: var(--top);\n    left: var(--left);\n    right: var(--right);\n    z-index: 3;\n  }\n</style>\n","import { IAppConfiguration } from '../configuration';\nimport { IFlow } from './types';\n\nconst FLOW_STORE_KEY = 'flow';\n\nexport const setFlowName = (flows: { [key: string]: IFlow }, name: string | null) => {\n  if (name && flows[name]) return sessionStorage.setItem(FLOW_STORE_KEY, name);\n\n  const savedFlow = sessionStorage.getItem(FLOW_STORE_KEY);\n\n  if (!savedFlow || !flows[savedFlow]) sessionStorage.setItem(FLOW_STORE_KEY, 'default');\n};\n\nexport const getFlowName = (): string => sessionStorage.getItem(FLOW_STORE_KEY) || 'default';\n\nexport const getFlowOrders = (configuration: IAppConfiguration) => {\n  const flowName = sessionStorage.getItem(FLOW_STORE_KEY);\n  if (!flowName) {\n    return new Error(\"Flow name wasn't provided\");\n  }\n  const flowConfiguration = configuration.flows[flowName];\n  if (!flowConfiguration) {\n    return new Error(`Flow configuration doesn't exist for the name: ${flowName}`);\n  }\n  return flowConfiguration.stepsOrder;\n};\n\nexport const getFlowConfig = (configuration: IAppConfiguration): IFlow => {\n  const flowName = sessionStorage.getItem(FLOW_STORE_KEY);\n  if (!flowName) {\n    throw new Error(\"Flow name wasn't provided\");\n  }\n  const flowConfiguration = configuration.flows[flowName];\n  if (!flowConfiguration) {\n    throw new Error(`Flow configuration doesn't exist for the name: ${flowName}`);\n  }\n  return flowConfiguration;\n};\n\nexport const isNativeCamera = (configuration: IAppConfiguration): boolean => {\n  const flowName = sessionStorage.getItem(FLOW_STORE_KEY) as string;\n  const flowConfiguration = configuration.flows[flowName];\n  return !!flowConfiguration?.nativeCamera;\n};\n","import { Languages, TranslationType } from '../../contexts/translation';\nimport { texts } from '../../utils/configuration-manager';\n\nexport const getListLength = <\n  TLanguage extends Languages,\n  TNamespace extends keyof TranslationType[TLanguage],\n>(\n  language: TLanguage,\n  namespace: TNamespace,\n) => {\n  const list = texts[language][namespace];\n\n  return Object.keys(list as Record<PropertyKey, any>).length - 1;\n};\n","<script lang=\"ts\">\n  import { ListItem, Title } from '../../atoms';\n  import {\n    configuration as globalConfiguration,\n    ICSSProperties,\n    IElementProps,\n  } from '../../contexts/configuration';\n  import { getFlowName } from '../../contexts/flows';\n  import { currentLanguage, T, TranslationType } from '../../contexts/translation';\n  import { makeStylesFromConfiguration } from '../../utils/css-utils';\n  import { getListLength } from './utils';\n  import { uiPack } from '../../ui-packs';\n\n  export let configuration: IElementProps;\n\n  const globalListProps = $globalConfiguration.list?.listProps as IElementProps || $uiPack.list.listProps;\n  const globalListStyles = globalListProps.style as ICSSProperties;\n  const titleProps = $globalConfiguration.list?.titleProps as IElementProps || $uiPack.list.titleProps;\n  const listElementProps = $globalConfiguration.list?.listElementProps as IElementProps || $uiPack.list.listElementProps;\n\n  const style = makeStylesFromConfiguration(globalListStyles, configuration.style);\n\n  const flowId = getFlowName();\n  // There's no list-${flowId} key in the translations json.\n  const listItems = new Array(\n    getListLength($currentLanguage, `list-${flowId}` as TranslationType[typeof $currentLanguage]),\n  ).fill(null);\n</script>\n\n<div {style} class=\"container\">\n  <Title configuration={titleProps}>\n    <T key=\"title\" namespace={`list-${flowId}`} />\n  </Title>\n  {#each listItems as item, index}\n    <ListItem configuration={listElementProps}>\n      <T key={`item-${index + 1}`} namespace={`list-${flowId}`} />\n    </ListItem>\n  {/each}\n</div>\n\n<style>\n  .container {\n    margin: var(--margin);\n    padding: var(--padding);\n    align-items: var(--align-items);\n    text-align: var(--text-align);\n    justify-content: var(--justify-content);\n  }\n</style>\n","import { DecisionStatus } from '../../contexts/app-state/types';\n\nexport enum EEventTypes {\n  SYNC_FLOW_COMPLETE = 'sync_flow_complete',\n  VERIFICATION_UPDATE = 'verification_update',\n  NAVIGATION_UPDATE = 'navigation_update',\n  BUTTON_CLICK = 'button_click',\n}\n\nexport enum EActionNames {\n  CLOSE = 'close',\n}\n\nexport enum EVerificationStatuses {\n  COMPLETED = 'completed',\n  PENDING = 'pending',\n  ERROR = 'error',\n  DATA_COLLECTION = 'data_collection',\n}\n\nexport interface ISendDocumentsResponse {\n  status: 'success' | 'fail';\n}\n\nexport interface IDocumentVerificationResponse {\n  status: EVerificationStatuses;\n  idvResult?: DecisionStatus;\n  code?: number;\n  reasonCode?: number;\n}\n\nexport interface IOuterEvent {\n  eventName: string;\n  config: Record<string, string>;\n  shouldExit: boolean;\n}\n","export enum EFlowEvent {\n  FLOW_COMPLETE = 'FLOW_COMPLETE',\n  FLOW_EXIT = 'FLOW_EXIT',\n  FLOW_ERROR = 'FLOW_ERROR',\n  FLOW_NAVIGATION_UPDATE = 'FLOW_NAVIGATION_UPDATE',\n}\n","import { getFlowConfig } from '../../contexts/flows/hooks';\nimport { get } from 'svelte/store';\nimport { configuration } from '../../contexts/configuration';\nimport { IFlowEventBus } from './interfaces';\nimport { EFlowEvent } from './enums';\n\nexport const flowEventBus: IFlowEventBus = ({ type, payload }) => {\n  const { callbacks } = getFlowConfig(get(configuration));\n\n  switch (type) {\n    case EFlowEvent.FLOW_COMPLETE:\n      callbacks?.onFlowComplete?.(payload);\n      break;\n    case EFlowEvent.FLOW_EXIT:\n      callbacks?.onFlowExit?.(payload);\n      break;\n    case EFlowEvent.FLOW_ERROR:\n      callbacks?.onFlowError?.(payload);\n      break;\n    case EFlowEvent.FLOW_NAVIGATION_UPDATE:\n      callbacks?.onFlowNavigationUpdate?.(payload);\n      break;\n    default:\n      // JSON.stringify assumes the passed type could be anything, like this type should display correctly in the console.\n      throw new Error(`Unknown flow event type ${JSON.stringify(type)}`);\n  }\n};\n","export const BALLERINE_EVENT = 'blrn_event';\n","import { appState, IAppState } from '../../contexts/app-state';\nimport { currentLanguage, Languages } from '../../contexts/translation';\nimport { EActionNames, EEventTypes, IDocumentVerificationResponse, IOuterEvent } from './types';\nimport { get } from 'svelte/store';\nimport { flowEventBus } from '../../services/flow-event-bus/flow-event-bus';\nimport { EFlowEvent } from '../../services/flow-event-bus/enums';\nimport { BALLERINE_EVENT } from './constants';\nimport { IEventOptions } from '../../services/flow-event-bus/interfaces';\n\nconst outerScopeContext = window.__blrn_context;\nconst isProd = window.__blrn_is_prod;\nconst endpoint =\n  outerScopeContext && outerScopeContext.debug !== undefined\n    ? '/upload-docs'\n    : '/v2/enduser/verify';\nconst local = outerScopeContext && outerScopeContext.local !== undefined;\nconst baseUrl = local ? 'http://localhost:3001' : window.__blrn_api_url;\nconst docTypeMapping = {\n  documentBack: 'document-back',\n  documentFront: 'document-front',\n  selfie: 'face',\n};\n\nexport const subscribe = () => {\n  window.addEventListener('message', e => {\n    const event = e.data as IOuterEvent;\n    if (event.eventName === 'blrn_set_lang') {\n      const language = event.config.lang as Languages;\n      currentLanguage.set(language);\n    }\n  });\n};\n\nexport const sendIframeEvent = (eventOptions: IEventOptions) => {\n  window.parent.postMessage(eventOptions, '*'); // iframe\n};\n\nexport const sendFlowCompleteEvent = (verificationResponse: IDocumentVerificationResponse) => {\n  const { status, idvResult } = verificationResponse;\n  const payload = { status, idvResult };\n  const eventOptions = {\n    eventName: BALLERINE_EVENT,\n    eventType: EEventTypes.SYNC_FLOW_COMPLETE,\n    shouldExit: true,\n    payload,\n  };\n\n  sendIframeEvent(eventOptions);\n  // Should finalize the signature on the callbacks interface\n  flowEventBus({\n    type: EFlowEvent.FLOW_COMPLETE,\n    payload: eventOptions,\n  });\n};\n\nexport const sendVerificationUpdateEvent = (\n  details: IDocumentVerificationResponse,\n  shouldExit = false,\n) => {\n  const eventOptions = {\n    eventName: BALLERINE_EVENT,\n    eventType: EEventTypes.VERIFICATION_UPDATE,\n    shouldExit,\n    details,\n  };\n  window.parent.postMessage(eventOptions, '*');\n};\n\nexport const sendNavigationUpdateEvent = () => {\n  const as = get(appState);\n\n  const eventOptions = {\n    eventName: BALLERINE_EVENT,\n    eventType: EEventTypes.NAVIGATION_UPDATE,\n    details: {\n      currentIdx: as.currentStepIdx,\n      // FIXME: currentPage and previousPage typed as a string by IAppState.\n      currentPage: as.currentPage,\n      previousPage: as.previousPage,\n    },\n  };\n  window.parent.postMessage(eventOptions, '*');\n  flowEventBus({\n    type: EFlowEvent.FLOW_NAVIGATION_UPDATE,\n    payload: eventOptions,\n  });\n};\n\nexport const sendButtonClickEvent = (\n  actionName: EActionNames,\n  status: IDocumentVerificationResponse,\n  as: IAppState,\n  shouldExit = false,\n) => {\n  const eventOptions = {\n    eventName: BALLERINE_EVENT,\n    eventType: EEventTypes.BUTTON_CLICK,\n    shouldExit,\n    details: {\n      actionName,\n      currentIdx: as.currentStepIdx,\n      currentPage: as.currentPage,\n      status,\n    },\n  };\n\n  window.parent.postMessage(eventOptions, '*');\n};\n","<script lang=\"ts\">\n  import { IconButton, IconCloseButton, Image, NextStepButton, Paragraph, Title } from '../atoms';\n  import { configuration } from '../contexts/configuration';\n  import { Elements } from '../contexts/configuration/types';\n  import List from '../molecules/List/List.svelte';\n  import { T } from '../contexts/translation';\n  import { sendButtonClickEvent } from '../utils/event-service/utils';\n  import { appState } from '../contexts/app-state';\n  import { preloadNextStepByCurrent } from '../services/preload-service';\n  import { EActionNames, EVerificationStatuses } from '../utils/event-service';\n  import { getLayoutStyles, getStepConfiguration, uiPack } from '../ui-packs';\n  import { getFlowConfig } from '../contexts/flows/hooks';\n\n  export let stepId;\n\n  const step = getStepConfiguration($configuration, $uiPack, stepId);\n  const flow = getFlowConfig($configuration);\n  const style = getLayoutStyles($configuration, $uiPack, step);\n\n  const stepNamespace = step.namespace!;\n\n  preloadNextStepByCurrent($configuration, configuration, stepId, $uiPack);\n</script>\n\n<div class=\"container\" {style}>\n  {#each step.elements as element}\n    {#if element.type === Elements.IconButton && flow.firstScreenBackButton}\n      <div>\n        <IconButton\n          configuration={element.props}\n          on:click={() => {\n            sendButtonClickEvent(\n              EActionNames.CLOSE,\n              { status: EVerificationStatuses.DATA_COLLECTION },\n              $appState,\n              true,\n            );\n          }}\n        />\n      </div>\n    {/if}\n    {#if element.type === Elements.IconCloseButton && flow.showCloseButton}\n      <IconCloseButton\n        configuration={element.props}\n        on:click={() => {\n          sendButtonClickEvent(\n            EActionNames.CLOSE,\n            { status: EVerificationStatuses.DATA_COLLECTION },\n            $appState,\n            true,\n          );\n        }}\n      />\n    {/if}\n    {#if element.type === Elements.Image}\n      <Image configuration={element.props} />\n    {/if}\n    {#if element.type === Elements.Title}\n      <Title configuration={element.props}>\n        <T key=\"title\" namespace={stepNamespace} />\n      </Title>\n    {/if}\n    {#if element.type === Elements.Paragraph}\n      <Paragraph configuration={element.props}>\n        <T key={element.props.context || 'description'} namespace={stepNamespace} />\n      </Paragraph>\n    {/if}\n    {#if element.type === Elements.List}\n      <List configuration={element.props} />\n    {/if}\n    {#if element.type === Elements.Button}\n      <NextStepButton configuration={element.props}>\n        <T key=\"button\" namespace={stepNamespace} />\n      </NextStepButton>\n    {/if}\n  {/each}\n</div>\n\n<style>\n  .container {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    padding: var(--padding);\n    position: var(--position);\n    background: var(--background);\n    line-height: var(--line-height);\n    text-align: center;\n  }\n</style>\n","<svg width=\"41\" height=\"41\" viewBox=\"0 0 41 41\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <rect x=\"3\" y=\"3\" width=\"35\" height=\"35\" rx=\"17.5\" fill=\"var(--primary-color)\" />\n  <rect\n    x=\"3\"\n    y=\"3\"\n    width=\"35\"\n    height=\"35\"\n    rx=\"17.5\"\n    stroke=\"var(--primary-color)\"\n    stroke-opacity=\"0.2\"\n    stroke-width=\"5\"\n  />\n  <path\n    fill-rule=\"evenodd\"\n    clip-rule=\"evenodd\"\n    d=\"M12.8167 16.8333C12.8167 15.3973 13.9807 14.2333 15.4167 14.2333H25.5833C27.0193 14.2333 28.1833 15.3973 28.1833 16.8333V24.1666C28.1833 25.6026 27.0193 26.7666 25.5833 26.7666H15.4167C13.9807 26.7666 12.8167 25.6026 12.8167 24.1666V16.8333ZM15.4167 15.4333C14.6435 15.4333 14.0167 16.0601 14.0167 16.8333V24.1666C14.0167 24.9398 14.6435 25.5666 15.4167 25.5666H25.5833C26.3565 25.5666 26.9833 24.9398 26.9833 24.1666V16.8333C26.9833 16.0601 26.3565 15.4333 25.5833 15.4333H15.4167ZM16.0042 19.4374C16.0042 18.3237 16.907 17.4208 18.0208 17.4208C19.1346 17.4208 20.0375 18.3237 20.0375 19.4374C20.0375 19.9311 19.8601 20.3834 19.5656 20.7339C20.2785 21.2254 20.7458 22.0477 20.7458 22.9791C20.7458 23.3105 20.4772 23.5791 20.1458 23.5791C19.8144 23.5791 19.5458 23.3105 19.5458 22.9791C19.5458 22.1369 18.8631 21.4541 18.0208 21.4541C17.1786 21.4541 16.4958 22.1369 16.4958 22.9791C16.4958 23.3105 16.2272 23.5791 15.8958 23.5791C15.5644 23.5791 15.2958 23.3105 15.2958 22.9791C15.2958 22.0477 15.7631 21.2254 16.4761 20.7339C16.1815 20.3834 16.0042 19.9311 16.0042 19.4374ZM18.0208 18.6208C17.5698 18.6208 17.2042 18.9864 17.2042 19.4374C17.2042 19.8885 17.5698 20.2541 18.0208 20.2541C18.4719 20.2541 18.8375 19.8885 18.8375 19.4374C18.8375 18.9864 18.4719 18.6208 18.0208 18.6208ZM21.3166 19.0833C21.3166 18.7519 21.5853 18.4833 21.9166 18.4833H24.75C25.0814 18.4833 25.35 18.7519 25.35 19.0833C25.35 19.4146 25.0814 19.6833 24.75 19.6833H21.9166C21.5853 19.6833 21.3166 19.4146 21.3166 19.0833ZM22.625 21.3166C22.2936 21.3166 22.025 21.5852 22.025 21.9166C22.025 22.248 22.2936 22.5166 22.625 22.5166H24.75C25.0814 22.5166 25.35 22.248 25.35 21.9166C25.35 21.5852 25.0814 21.3166 24.75 21.3166H22.625Z\"\n    fill=\"white\"\n  />\n</svg>\n","<svg width=\"41\" height=\"41\" viewBox=\"0 0 41 41\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <rect x=\"3\" y=\"3\" width=\"35\" height=\"35\" rx=\"17.5\" fill=\"var(--primary-color)\" />\n  <rect\n    x=\"3\"\n    y=\"3\"\n    width=\"35\"\n    height=\"35\"\n    rx=\"17.5\"\n    stroke=\"var(--primary-color)\"\n    stroke-opacity=\"0.2\"\n    stroke-width=\"5\"\n  />\n  <path\n    fill-rule=\"evenodd\"\n    clip-rule=\"evenodd\"\n    d=\"M16 13H25C26.1046 13 27 13.8954 27 15V26C27 27.1046 26.1046 28 25 28H16C14.8954 28 14 27.1046 14 26V15C14 13.8954 14.8954 13 16 13ZM13 15C13 13.3431 14.3431 12 16 12H25C26.6569 12 28 13.3431 28 15V26C28 27.6569 26.6569 29 25 29H16C14.3431 29 13 27.6569 13 26V15ZM19.3626 17.7811C19.5921 17.3986 19.8307 17.1657 20.05 17.0363V20.05H18.7152C18.7773 19.1333 19.0253 18.3432 19.3626 17.7811ZM19.0297 16.7251C18.3606 17.4506 17.8964 18.6568 17.8134 20.05H16.4747C16.6429 18.5288 17.6535 17.2615 19.0297 16.7251ZM19.0297 24.2749C18.3606 23.5494 17.8964 22.3432 17.8134 20.95H16.4747C16.6429 22.4712 17.6535 23.7385 19.0297 24.2749ZM19.3626 23.2189C19.5921 23.6014 19.8307 23.8343 20.05 23.9637V20.95H18.7152C18.7773 21.8667 19.0253 22.6568 19.3626 23.2189ZM24.5253 20.95C24.3571 22.4711 23.3465 23.7384 21.9704 24.2748C22.6395 23.5493 23.1037 22.3431 23.1867 20.95H24.5253ZM21.6375 23.2189C21.9748 22.6568 22.2228 21.8667 22.2849 20.95H20.95L20.95 23.9638C21.1693 23.8344 21.408 23.6015 21.6375 23.2189ZM24.5253 20.05H23.1867C23.1037 18.6569 22.6395 17.4507 21.9704 16.7252C23.3465 17.2616 24.3571 18.5289 24.5253 20.05ZM21.6375 17.7811C21.408 17.3985 21.1693 17.1656 20.95 17.0362L20.95 20.05H22.2849C22.2228 19.1333 21.9748 18.3432 21.6375 17.7811ZM20.5 15.55C17.7662 15.55 15.55 17.7662 15.55 20.5C15.55 23.2338 17.7662 25.45 20.5 25.45C23.2338 25.45 25.45 23.2338 25.45 20.5C25.45 17.7662 23.2338 15.55 20.5 15.55Z\"\n    fill=\"white\"\n  />\n</svg>\n","<svg width=\"41\" height=\"41\" viewBox=\"0 0 41 41\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <rect x=\"3\" y=\"3\" width=\"35\" height=\"35\" rx=\"17.5\" fill=\"var(--primary-color)\" />\n  <rect\n    x=\"3\"\n    y=\"3\"\n    width=\"35\"\n    height=\"35\"\n    rx=\"17.5\"\n    stroke=\"var(--primary-color)\"\n    stroke-opacity=\"0.2\"\n    stroke-width=\"5\"\n  />\n  <path\n    fill-rule=\"evenodd\"\n    clip-rule=\"evenodd\"\n    d=\"M15.6655 15.7143C15.7693 15.2691 16.1661 14.9542 16.6232 14.9542H24.4164C24.8769 14.9542 25.2758 15.2737 25.3761 15.7232C25.3785 15.7336 25.3811 15.7439 25.3839 15.7542L26.2568 18.8707C26.3024 19.0337 26.4148 19.1699 26.5662 19.2456L26.8354 19.3802C27.4368 19.6809 27.8166 20.2955 27.8166 20.9678V23.8542C27.8166 24.1786 27.5536 24.4417 27.2291 24.4417H26.4387C26.1073 24.4417 25.8387 24.7103 25.8387 25.0417V25.4375C25.8387 25.9806 25.3984 26.4208 24.8554 26.4208C24.3107 26.4208 23.8708 25.9803 23.8708 25.4375V25.0417C23.8708 24.7103 23.6021 24.4417 23.2708 24.4417H17.7291C17.3977 24.4417 17.1291 24.7103 17.1291 25.0417V25.4376C17.1291 25.9806 16.6889 26.4208 16.1459 26.4208C15.6029 26.4208 15.1627 25.9806 15.1627 25.4376V25.0417C15.1627 24.7103 14.894 24.4417 14.5627 24.4417H13.7708C13.4463 24.4417 13.1833 24.1786 13.1833 23.8542V20.9684C13.1833 20.2959 13.5634 19.6811 14.165 19.3805L14.435 19.2457C14.5844 19.171 14.6959 19.0375 14.7428 18.8771L15.6571 15.7463C15.6602 15.7357 15.663 15.725 15.6655 15.7143ZM16.6232 13.7542C15.6142 13.7542 14.7376 14.4453 14.501 15.4245L13.6643 18.2892L13.6287 18.307C12.6204 18.8108 11.9833 19.8412 11.9833 20.9684V23.8542C11.9833 24.8414 12.7836 25.6417 13.7708 25.6417H13.9721C14.075 26.7517 15.0089 27.6208 16.1459 27.6208C17.2828 27.6208 18.2168 26.7517 18.3197 25.6417H22.6802C22.7832 26.752 23.7175 27.6208 24.8554 27.6208C25.9923 27.6208 26.9263 26.7518 27.0293 25.6417H27.2291C28.2163 25.6417 29.0166 24.8414 29.0166 23.8542V20.9678C29.0166 19.841 28.38 18.8109 27.3721 18.3069L27.3406 18.2912L26.5435 15.4448C26.3145 14.4558 25.4331 13.7542 24.4164 13.7542H16.6232ZM17.3332 22.0729C17.3332 22.6194 16.8901 23.0625 16.3436 23.0625C15.7971 23.0625 15.354 22.6194 15.354 22.0729C15.354 21.5264 15.7971 21.0833 16.3436 21.0833C16.8901 21.0833 17.3332 21.5264 17.3332 22.0729ZM24.6561 23.0625C25.2026 23.0625 25.6457 22.6194 25.6457 22.0729C25.6457 21.5264 25.2026 21.0833 24.6561 21.0833C24.1096 21.0833 23.6665 21.5264 23.6665 22.0729C23.6665 22.6194 24.1096 23.0625 24.6561 23.0625ZM16.9375 18.5042C16.6061 18.5042 16.3375 18.7728 16.3375 19.1042C16.3375 19.4355 16.6061 19.7042 16.9375 19.7042H24.0625C24.3939 19.7042 24.6625 19.4355 24.6625 19.1042C24.6625 18.7728 24.3939 18.5042 24.0625 18.5042H16.9375Z\"\n    fill=\"white\"\n  />\n</svg>\n","<svg width=\"41\" height=\"41\" viewBox=\"0 0 41 41\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <rect x=\"3\" y=\"3\" width=\"35\" height=\"35\" rx=\"17.5\" fill=\"var(--primary-color)\" />\n  <rect\n    x=\"3\"\n    y=\"3\"\n    width=\"35\"\n    height=\"35\"\n    rx=\"17.5\"\n    stroke=\"var(--primary-color)\"\n    stroke-opacity=\"0.2\"\n    stroke-width=\"5\"\n  />\n  <path\n    fill-rule=\"evenodd\"\n    clip-rule=\"evenodd\"\n    d=\"M16 13H25C26.1046 13 27 13.8954 27 15V26C27 27.1046 26.1046 28 25 28H16C14.8954 28 14 27.1046 14 26V15C14 13.8954 14.8954 13 16 13ZM13 15C13 13.3431 14.3431 12 16 12H25C26.6569 12 28 13.3431 28 15V26C28 27.6569 26.6569 29 25 29H16C14.3431 29 13 27.6569 13 26V15ZM19.3626 17.7811C19.5921 17.3986 19.8307 17.1657 20.05 17.0363V20.05H18.7152C18.7773 19.1333 19.0253 18.3432 19.3626 17.7811ZM19.0297 16.7251C18.3606 17.4506 17.8964 18.6568 17.8134 20.05H16.4747C16.6429 18.5288 17.6535 17.2615 19.0297 16.7251ZM19.0297 24.2749C18.3606 23.5494 17.8964 22.3432 17.8134 20.95H16.4747C16.6429 22.4712 17.6535 23.7385 19.0297 24.2749ZM19.3626 23.2189C19.5921 23.6014 19.8307 23.8343 20.05 23.9637V20.95H18.7152C18.7773 21.8667 19.0253 22.6568 19.3626 23.2189ZM24.5253 20.95C24.3571 22.4711 23.3465 23.7384 21.9704 24.2748C22.6395 23.5493 23.1037 22.3431 23.1867 20.95H24.5253ZM21.6375 23.2189C21.9748 22.6568 22.2228 21.8667 22.2849 20.95H20.95L20.95 23.9638C21.1693 23.8344 21.408 23.6015 21.6375 23.2189ZM24.5253 20.05H23.1867C23.1037 18.6569 22.6395 17.4507 21.9704 16.7252C23.3465 17.2616 24.3571 18.5289 24.5253 20.05ZM21.6375 17.7811C21.408 17.3985 21.1693 17.1656 20.95 17.0362L20.95 20.05H22.2849C22.2228 19.1333 21.9748 18.3432 21.6375 17.7811ZM20.5 15.55C17.7662 15.55 15.55 17.7662 15.55 20.5C15.55 23.2338 17.7662 25.45 20.5 25.45C23.2338 25.45 25.45 23.2338 25.45 20.5C25.45 17.7662 23.2338 15.55 20.5 15.55Z\"\n    fill=\"white\"\n  />\n</svg>\n","<svg width=\"41\" height=\"41\" viewBox=\"0 0 41 41\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <rect x=\"3\" y=\"3\" width=\"35\" height=\"35\" rx=\"17.5\" fill=\"var(--primary-color)\" />\n  <rect\n    x=\"3\"\n    y=\"3\"\n    width=\"35\"\n    height=\"35\"\n    rx=\"17.5\"\n    stroke=\"var(--primary-color)\"\n    stroke-opacity=\"0.2\"\n    stroke-width=\"5\"\n  />\n  <path\n    fill-rule=\"evenodd\"\n    clip-rule=\"evenodd\"\n    d=\"M12.825 17.0589C12.8195 17.1427 12.8167 17.2273 12.8167 17.3125V23.6875C12.8167 25.7793 14.5124 27.475 16.6042 27.475H24.3959C26.4876 27.475 28.1834 25.7793 28.1834 23.6875V17.3125C28.1834 17.2272 28.1805 17.1425 28.175 17.0586C28.1805 17.026 28.1833 16.9925 28.1833 16.9583C28.1833 16.8782 28.1676 16.8018 28.1391 16.7319C27.8598 14.9158 26.2902 13.525 24.3959 13.525H16.6042C14.7099 13.525 13.1405 14.9156 12.8609 16.7316C12.8324 16.8016 12.8167 16.8781 12.8167 16.9583C12.8167 16.9926 12.8195 17.0262 12.825 17.0589ZM14.0167 17.5583V23.6875C14.0167 25.1165 15.1752 26.275 16.6042 26.275H24.3959C25.8249 26.275 26.9834 25.1165 26.9834 23.6875V17.5583H14.0167ZM26.8017 16.3583C26.4219 15.4015 25.4879 14.725 24.3959 14.725H16.6042C15.5121 14.725 14.5781 15.4015 14.1983 16.3583H26.8017ZM18.4834 20.5C18.4834 20.1686 18.752 19.9 19.0834 19.9H24.75C25.0814 19.9 25.35 20.1686 25.35 20.5C25.35 20.8314 25.0814 21.1 24.75 21.1H19.0834C18.752 21.1 18.4834 20.8314 18.4834 20.5ZM19.0834 22.7333C18.752 22.7333 18.4834 23.002 18.4834 23.3333C18.4834 23.6647 18.752 23.9333 19.0834 23.9333H24.75C25.0814 23.9333 25.35 23.6647 25.35 23.3333C25.35 23.002 25.0814 22.7333 24.75 22.7333H19.0834ZM15.6499 20.5C15.6499 20.1686 15.9186 19.9 16.2499 19.9H16.9583C17.2896 19.9 17.5583 20.1686 17.5583 20.5C17.5583 20.8314 17.2896 21.1 16.9583 21.1H16.2499C15.9186 21.1 15.6499 20.8314 15.6499 20.5ZM16.2499 22.7333C15.9186 22.7333 15.6499 23.002 15.6499 23.3333C15.6499 23.6647 15.9186 23.9333 16.2499 23.9333H16.9583C17.2896 23.9333 17.5583 23.6647 17.5583 23.3333C17.5583 23.002 17.2896 22.7333 16.9583 22.7333H16.2499Z\"\n    fill=\"white\"\n  />\n</svg>\n","<script lang=\"ts\">\n  import Card from './Card.svelte';\n  import Passport from './Passport.svelte';\n  import License from './License.svelte';\n  import PassportTwo from './PassportTwo.svelte';\n  import Voter from './Voter.svelte';\n  import { makesLocalStyles } from '../../utils/css-utils';\n\n  import type { SvelteComponent } from 'svelte';\n  import type { Icons } from '../../contexts/configuration/types';\n  import type { ICSSProperties, IElementProps } from '../../contexts/configuration';\n\n  let icons: Record<Icons, typeof SvelteComponent> = {\n    Card,\n    Passport,\n    License,\n    PassportTwo,\n    Voter,\n  };\n\n  export let name: Icons = 'Card';\n  export let width: number | string = 16;\n  export let height: number | string = 16;\n  export let active = false;\n  export let configuration: IElementProps;\n\n  const style = makesLocalStyles(configuration.style as ICSSProperties);\n  const icon = icons[name];\n</script>\n\n<div {style} class=\"icon\" class:active>\n  <svelte:component this={icon} {height} {width} style=\"transition: fill 0.3s\" />\n</div>\n\n<style>\n  .icon {\n    display: contents;\n    fill: var(--fill);\n    color: var(--fill);\n  }\n  .icon.active {\n    fill: var(--active-fill);\n    color: var(--active-fill);\n  }\n</style>\n","/*!\n * Compressor.js v1.2.1\n * https://fengyuanchen.github.io/compressorjs\n *\n * Copyright 2018-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2023-02-28T14:09:41.732Z\n */\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nvar canvasToBlob = {exports: {}};\n\n/*\n * JavaScript Canvas to Blob\n * https://github.com/blueimp/JavaScript-Canvas-to-Blob\n *\n * Copyright 2012, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on stackoverflow user Stoive's code snippet:\n * http://stackoverflow.com/q/4998908\n */\n(function (module) {\n  if (typeof window === 'undefined') {\n    return;\n  }\n  (function (window) {\n\n    var CanvasPrototype = window.HTMLCanvasElement && window.HTMLCanvasElement.prototype;\n    var hasBlobConstructor = window.Blob && function () {\n      try {\n        return Boolean(new Blob());\n      } catch (e) {\n        return false;\n      }\n    }();\n    var hasArrayBufferViewSupport = hasBlobConstructor && window.Uint8Array && function () {\n      try {\n        return new Blob([new Uint8Array(100)]).size === 100;\n      } catch (e) {\n        return false;\n      }\n    }();\n    var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\n    var dataURIPattern = /^data:((.*?)(;charset=.*?)?)(;base64)?,/;\n    var dataURLtoBlob = (hasBlobConstructor || BlobBuilder) && window.atob && window.ArrayBuffer && window.Uint8Array && function (dataURI) {\n      var matches, mediaType, isBase64, dataString, byteString, arrayBuffer, intArray, i, bb;\n      // Parse the dataURI components as per RFC 2397\n      matches = dataURI.match(dataURIPattern);\n      if (!matches) {\n        throw new Error('invalid data URI');\n      }\n      // Default to text/plain;charset=US-ASCII\n      mediaType = matches[2] ? matches[1] : 'text/plain' + (matches[3] || ';charset=US-ASCII');\n      isBase64 = !!matches[4];\n      dataString = dataURI.slice(matches[0].length);\n      if (isBase64) {\n        // Convert base64 to raw binary data held in a string:\n        byteString = atob(dataString);\n      } else {\n        // Convert base64/URLEncoded data component to raw binary:\n        byteString = decodeURIComponent(dataString);\n      }\n      // Write the bytes of the string to an ArrayBuffer:\n      arrayBuffer = new ArrayBuffer(byteString.length);\n      intArray = new Uint8Array(arrayBuffer);\n      for (i = 0; i < byteString.length; i += 1) {\n        intArray[i] = byteString.charCodeAt(i);\n      }\n      // Write the ArrayBuffer (or ArrayBufferView) to a blob:\n      if (hasBlobConstructor) {\n        return new Blob([hasArrayBufferViewSupport ? intArray : arrayBuffer], {\n          type: mediaType\n        });\n      }\n      bb = new BlobBuilder();\n      bb.append(arrayBuffer);\n      return bb.getBlob(mediaType);\n    };\n    if (window.HTMLCanvasElement && !CanvasPrototype.toBlob) {\n      if (CanvasPrototype.mozGetAsFile) {\n        CanvasPrototype.toBlob = function (callback, type, quality) {\n          var self = this;\n          setTimeout(function () {\n            if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {\n              callback(dataURLtoBlob(self.toDataURL(type, quality)));\n            } else {\n              callback(self.mozGetAsFile('blob', type));\n            }\n          });\n        };\n      } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {\n        if (CanvasPrototype.msToBlob) {\n          CanvasPrototype.toBlob = function (callback, type, quality) {\n            var self = this;\n            setTimeout(function () {\n              if ((type && type !== 'image/png' || quality) && CanvasPrototype.toDataURL && dataURLtoBlob) {\n                callback(dataURLtoBlob(self.toDataURL(type, quality)));\n              } else {\n                callback(self.msToBlob(type));\n              }\n            });\n          };\n        } else {\n          CanvasPrototype.toBlob = function (callback, type, quality) {\n            var self = this;\n            setTimeout(function () {\n              callback(dataURLtoBlob(self.toDataURL(type, quality)));\n            });\n          };\n        }\n      }\n    }\n    if (module.exports) {\n      module.exports = dataURLtoBlob;\n    } else {\n      window.dataURLtoBlob = dataURLtoBlob;\n    }\n  })(window);\n})(canvasToBlob);\nvar toBlob = canvasToBlob.exports;\n\nvar isBlob = function isBlob(value) {\n  if (typeof Blob === 'undefined') {\n    return false;\n  }\n  return value instanceof Blob || Object.prototype.toString.call(value) === '[object Blob]';\n};\n\nvar DEFAULTS = {\n  /**\n   * Indicates if output the original image instead of the compressed one\n   * when the size of the compressed image is greater than the original one's\n   * @type {boolean}\n   */\n  strict: true,\n  /**\n   * Indicates if read the image's Exif Orientation information,\n   * and then rotate or flip the image automatically.\n   * @type {boolean}\n   */\n  checkOrientation: true,\n  /**\n   * Indicates if retain the image's Exif information after compressed.\n   * @type {boolean}\n  */\n  retainExif: false,\n  /**\n   * The max width of the output image.\n   * @type {number}\n   */\n  maxWidth: Infinity,\n  /**\n   * The max height of the output image.\n   * @type {number}\n   */\n  maxHeight: Infinity,\n  /**\n   * The min width of the output image.\n   * @type {number}\n   */\n  minWidth: 0,\n  /**\n   * The min height of the output image.\n   * @type {number}\n   */\n  minHeight: 0,\n  /**\n   * The width of the output image.\n   * If not specified, the natural width of the source image will be used.\n   * @type {number}\n   */\n  width: undefined,\n  /**\n   * The height of the output image.\n   * If not specified, the natural height of the source image will be used.\n   * @type {number}\n   */\n  height: undefined,\n  /**\n   * Sets how the size of the image should be resized to the container\n   * specified by the `width` and `height` options.\n   * @type {string}\n   */\n  resize: 'none',\n  /**\n   * The quality of the output image.\n   * It must be a number between `0` and `1`,\n   * and only available for `image/jpeg` and `image/webp` images.\n   * Check out {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob canvas.toBlob}.\n   * @type {number}\n   */\n  quality: 0.8,\n  /**\n   * The mime type of the output image.\n   * By default, the original mime type of the source image file will be used.\n   * @type {string}\n   */\n  mimeType: 'auto',\n  /**\n   * Files whose file type is included in this list,\n   * and whose file size exceeds the `convertSize` value will be converted to JPEGs.\n   * @type {string｜Array}\n   */\n  convertTypes: ['image/png'],\n  /**\n   * PNG files over this size (5 MB by default) will be converted to JPEGs.\n   * To disable this, just set the value to `Infinity`.\n   * @type {number}\n   */\n  convertSize: 5000000,\n  /**\n   * The hook function to execute before draw the image into the canvas for compression.\n   * @type {Function}\n   * @param {CanvasRenderingContext2D} context - The 2d rendering context of the canvas.\n   * @param {HTMLCanvasElement} canvas - The canvas for compression.\n   * @example\n   * function (context, canvas) {\n   *   context.fillStyle = '#fff';\n   * }\n   */\n  beforeDraw: null,\n  /**\n   * The hook function to execute after drew the image into the canvas for compression.\n   * @type {Function}\n   * @param {CanvasRenderingContext2D} context - The 2d rendering context of the canvas.\n   * @param {HTMLCanvasElement} canvas - The canvas for compression.\n   * @example\n   * function (context, canvas) {\n   *   context.filter = 'grayscale(100%)';\n   * }\n   */\n  drew: null,\n  /**\n   * The hook function to execute when success to compress the image.\n   * @type {Function}\n   * @param {File} file - The compressed image File object.\n   * @example\n   * function (file) {\n   *   console.log(file);\n   * }\n   */\n  success: null,\n  /**\n   * The hook function to execute when fail to compress the image.\n   * @type {Function}\n   * @param {Error} err - An Error object.\n   * @example\n   * function (err) {\n   *   console.log(err.message);\n   * }\n   */\n  error: null\n};\n\nvar IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\nvar WINDOW = IS_BROWSER ? window : {};\n\n/**\n * Check if the given value is a positive number.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a positive number, else `false`.\n */\nvar isPositiveNumber = function isPositiveNumber(value) {\n  return value > 0 && value < Infinity;\n};\nvar slice = Array.prototype.slice;\n\n/**\n * Convert array-like or iterable object to an array.\n * @param {*} value - The value to convert.\n * @returns {Array} Returns a new array.\n */\nfunction toArray(value) {\n  return Array.from ? Array.from(value) : slice.call(value);\n}\nvar REGEXP_IMAGE_TYPE = /^image\\/.+$/;\n\n/**\n * Check if the given value is a mime type of image.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given is a mime type of image, else `false`.\n */\nfunction isImageType(value) {\n  return REGEXP_IMAGE_TYPE.test(value);\n}\n\n/**\n * Convert image type to extension.\n * @param {string} value - The image type to convert.\n * @returns {boolean} Returns the image extension.\n */\nfunction imageTypeToExtension(value) {\n  var extension = isImageType(value) ? value.substr(6) : '';\n  if (extension === 'jpeg') {\n    extension = 'jpg';\n  }\n  return \".\".concat(extension);\n}\nvar fromCharCode = String.fromCharCode;\n\n/**\n * Get string from char code in data view.\n * @param {DataView} dataView - The data view for read.\n * @param {number} start - The start index.\n * @param {number} length - The read length.\n * @returns {string} The read result.\n */\nfunction getStringFromCharCode(dataView, start, length) {\n  var str = '';\n  var i;\n  length += start;\n  for (i = start; i < length; i += 1) {\n    str += fromCharCode(dataView.getUint8(i));\n  }\n  return str;\n}\nvar btoa = WINDOW.btoa;\n\n/**\n * Transform array buffer to Data URL.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n * @param {string} mimeType - The mime type of the Data URL.\n * @returns {string} The result Data URL.\n */\nfunction arrayBufferToDataURL(arrayBuffer, mimeType) {\n  var chunks = [];\n  var chunkSize = 8192;\n  var uint8 = new Uint8Array(arrayBuffer);\n  while (uint8.length > 0) {\n    // XXX: Babel's `toConsumableArray` helper will throw error in IE or Safari 9\n    // eslint-disable-next-line prefer-spread\n    chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));\n    uint8 = uint8.subarray(chunkSize);\n  }\n  return \"data:\".concat(mimeType, \";base64,\").concat(btoa(chunks.join('')));\n}\n\n/**\n * Get orientation value from given array buffer.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n * @returns {number} The read orientation value.\n */\nfunction resetAndGetOrientation(arrayBuffer) {\n  var dataView = new DataView(arrayBuffer);\n  var orientation;\n\n  // Ignores range error when the image does not have correct Exif information\n  try {\n    var littleEndian;\n    var app1Start;\n    var ifdStart;\n\n    // Only handle JPEG image (start by 0xFFD8)\n    if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n      var length = dataView.byteLength;\n      var offset = 2;\n      while (offset + 1 < length) {\n        if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n          app1Start = offset;\n          break;\n        }\n        offset += 1;\n      }\n    }\n    if (app1Start) {\n      var exifIDCode = app1Start + 4;\n      var tiffOffset = app1Start + 10;\n      if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n        var endianness = dataView.getUint16(tiffOffset);\n        littleEndian = endianness === 0x4949;\n        if (littleEndian || endianness === 0x4D4D /* bigEndian */) {\n          if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n            var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n            if (firstIFDOffset >= 0x00000008) {\n              ifdStart = tiffOffset + firstIFDOffset;\n            }\n          }\n        }\n      }\n    }\n    if (ifdStart) {\n      var _length = dataView.getUint16(ifdStart, littleEndian);\n      var _offset;\n      var i;\n      for (i = 0; i < _length; i += 1) {\n        _offset = ifdStart + i * 12 + 2;\n        if (dataView.getUint16(_offset, littleEndian) === 0x0112 /* Orientation */) {\n          // 8 is the offset of the current tag's value\n          _offset += 8;\n\n          // Get the original orientation value\n          orientation = dataView.getUint16(_offset, littleEndian);\n\n          // Override the orientation with its default value\n          dataView.setUint16(_offset, 1, littleEndian);\n          break;\n        }\n      }\n    }\n  } catch (e) {\n    orientation = 1;\n  }\n  return orientation;\n}\n\n/**\n * Parse Exif Orientation value.\n * @param {number} orientation - The orientation to parse.\n * @returns {Object} The parsed result.\n */\nfunction parseOrientation(orientation) {\n  var rotate = 0;\n  var scaleX = 1;\n  var scaleY = 1;\n  switch (orientation) {\n    // Flip horizontal\n    case 2:\n      scaleX = -1;\n      break;\n\n    // Rotate left 180°\n    case 3:\n      rotate = -180;\n      break;\n\n    // Flip vertical\n    case 4:\n      scaleY = -1;\n      break;\n\n    // Flip vertical and rotate right 90°\n    case 5:\n      rotate = 90;\n      scaleY = -1;\n      break;\n\n    // Rotate right 90°\n    case 6:\n      rotate = 90;\n      break;\n\n    // Flip horizontal and rotate right 90°\n    case 7:\n      rotate = 90;\n      scaleX = -1;\n      break;\n\n    // Rotate left 90°\n    case 8:\n      rotate = -90;\n      break;\n  }\n  return {\n    rotate: rotate,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\nvar REGEXP_DECIMALS = /\\.\\d*(?:0|9){12}\\d*$/;\n\n/**\n * Normalize decimal number.\n * Check out {@link https://0.30000000000000004.com/}\n * @param {number} value - The value to normalize.\n * @param {number} [times=100000000000] - The times for normalizing.\n * @returns {number} Returns the normalized number.\n */\nfunction normalizeDecimalNumber(value) {\n  var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;\n  return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\n}\n\n/**\n * Get the max sizes in a rectangle under the given aspect ratio.\n * @param {Object} data - The original sizes.\n * @param {string} [type='contain'] - The adjust type.\n * @returns {Object} The result sizes.\n */\nfunction getAdjustedSizes(_ref) {\n  var aspectRatio = _ref.aspectRatio,\n    height = _ref.height,\n    width = _ref.width;\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'none';\n  var isValidWidth = isPositiveNumber(width);\n  var isValidHeight = isPositiveNumber(height);\n  if (isValidWidth && isValidHeight) {\n    var adjustedWidth = height * aspectRatio;\n    if ((type === 'contain' || type === 'none') && adjustedWidth > width || type === 'cover' && adjustedWidth < width) {\n      height = width / aspectRatio;\n    } else {\n      width = height * aspectRatio;\n    }\n  } else if (isValidWidth) {\n    height = width / aspectRatio;\n  } else if (isValidHeight) {\n    width = height * aspectRatio;\n  }\n  return {\n    width: width,\n    height: height\n  };\n}\n\n/**\n * Get Exif information from the given array buffer.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n * @returns {Array} The read Exif information.\n */\nfunction getExif(arrayBuffer) {\n  var array = toArray(new Uint8Array(arrayBuffer));\n  var length = array.length;\n  var segments = [];\n  var start = 0;\n  while (start + 3 < length) {\n    var value = array[start];\n    var next = array[start + 1];\n\n    // SOS (Start of Scan)\n    if (value === 0xFF && next === 0xDA) {\n      break;\n    }\n\n    // SOI (Start of Image)\n    if (value === 0xFF && next === 0xD8) {\n      start += 2;\n    } else {\n      var offset = array[start + 2] * 256 + array[start + 3];\n      var end = start + offset + 2;\n      var segment = array.slice(start, end);\n      segments.push(segment);\n      start = end;\n    }\n  }\n  return segments.reduce(function (exifArray, current) {\n    if (current[0] === 0xFF && current[1] === 0xE1) {\n      return exifArray.concat(current);\n    }\n    return exifArray;\n  }, []);\n}\n\n/**\n * Insert Exif information into the given array buffer.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n * @param {Array} exifArray - The Exif information to insert.\n * @returns {ArrayBuffer} The transformed array buffer.\n */\nfunction insertExif(arrayBuffer, exifArray) {\n  var array = toArray(new Uint8Array(arrayBuffer));\n  if (array[2] !== 0xFF || array[3] !== 0xE0) {\n    return arrayBuffer;\n  }\n  var app0Length = array[4] * 256 + array[5];\n  var newArrayBuffer = [0xFF, 0xD8].concat(exifArray, array.slice(4 + app0Length));\n  return new Uint8Array(newArrayBuffer);\n}\n\nvar ArrayBuffer$1 = WINDOW.ArrayBuffer,\n  FileReader = WINDOW.FileReader;\nvar URL = WINDOW.URL || WINDOW.webkitURL;\nvar REGEXP_EXTENSION = /\\.\\w+$/;\nvar AnotherCompressor = WINDOW.Compressor;\n\n/**\n * Creates a new image compressor.\n * @class\n */\nvar Compressor = /*#__PURE__*/function () {\n  /**\n   * The constructor of Compressor.\n   * @param {File|Blob} file - The target image file for compressing.\n   * @param {Object} [options] - The options for compressing.\n   */\n  function Compressor(file, options) {\n    _classCallCheck(this, Compressor);\n    this.file = file;\n    this.exif = [];\n    this.image = new Image();\n    this.options = _objectSpread2(_objectSpread2({}, DEFAULTS), options);\n    this.aborted = false;\n    this.result = null;\n    this.init();\n  }\n  _createClass(Compressor, [{\n    key: \"init\",\n    value: function init() {\n      var _this = this;\n      var file = this.file,\n        options = this.options;\n      if (!isBlob(file)) {\n        this.fail(new Error('The first argument must be a File or Blob object.'));\n        return;\n      }\n      var mimeType = file.type;\n      if (!isImageType(mimeType)) {\n        this.fail(new Error('The first argument must be an image File or Blob object.'));\n        return;\n      }\n      if (!URL || !FileReader) {\n        this.fail(new Error('The current browser does not support image compression.'));\n        return;\n      }\n      if (!ArrayBuffer$1) {\n        options.checkOrientation = false;\n        options.retainExif = false;\n      }\n      var isJPEGImage = mimeType === 'image/jpeg';\n      var checkOrientation = isJPEGImage && options.checkOrientation;\n      var retainExif = isJPEGImage && options.retainExif;\n      if (URL && !checkOrientation && !retainExif) {\n        this.load({\n          url: URL.createObjectURL(file)\n        });\n      } else {\n        var reader = new FileReader();\n        this.reader = reader;\n        reader.onload = function (_ref) {\n          var target = _ref.target;\n          var result = target.result;\n          var data = {};\n          var orientation = 1;\n          if (checkOrientation) {\n            // Reset the orientation value to its default value 1\n            // as some iOS browsers will render image with its orientation\n            orientation = resetAndGetOrientation(result);\n            if (orientation > 1) {\n              _extends(data, parseOrientation(orientation));\n            }\n          }\n          if (retainExif) {\n            _this.exif = getExif(result);\n          }\n          if (checkOrientation || retainExif) {\n            if (!URL\n\n            // Generate a new URL with the default orientation value 1.\n            || orientation > 1) {\n              data.url = arrayBufferToDataURL(result, mimeType);\n            } else {\n              data.url = URL.createObjectURL(file);\n            }\n          } else {\n            data.url = result;\n          }\n          _this.load(data);\n        };\n        reader.onabort = function () {\n          _this.fail(new Error('Aborted to read the image with FileReader.'));\n        };\n        reader.onerror = function () {\n          _this.fail(new Error('Failed to read the image with FileReader.'));\n        };\n        reader.onloadend = function () {\n          _this.reader = null;\n        };\n        if (checkOrientation || retainExif) {\n          reader.readAsArrayBuffer(file);\n        } else {\n          reader.readAsDataURL(file);\n        }\n      }\n    }\n  }, {\n    key: \"load\",\n    value: function load(data) {\n      var _this2 = this;\n      var file = this.file,\n        image = this.image;\n      image.onload = function () {\n        _this2.draw(_objectSpread2(_objectSpread2({}, data), {}, {\n          naturalWidth: image.naturalWidth,\n          naturalHeight: image.naturalHeight\n        }));\n      };\n      image.onabort = function () {\n        _this2.fail(new Error('Aborted to load the image.'));\n      };\n      image.onerror = function () {\n        _this2.fail(new Error('Failed to load the image.'));\n      };\n\n      // Match all browsers that use WebKit as the layout engine in iOS devices,\n      // such as Safari for iOS, Chrome for iOS, and in-app browsers.\n      if (WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent)) {\n        // Fix the `The operation is insecure` error (#57)\n        image.crossOrigin = 'anonymous';\n      }\n      image.alt = file.name;\n      image.src = data.url;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(_ref2) {\n      var _this3 = this;\n      var naturalWidth = _ref2.naturalWidth,\n        naturalHeight = _ref2.naturalHeight,\n        _ref2$rotate = _ref2.rotate,\n        rotate = _ref2$rotate === void 0 ? 0 : _ref2$rotate,\n        _ref2$scaleX = _ref2.scaleX,\n        scaleX = _ref2$scaleX === void 0 ? 1 : _ref2$scaleX,\n        _ref2$scaleY = _ref2.scaleY,\n        scaleY = _ref2$scaleY === void 0 ? 1 : _ref2$scaleY;\n      var file = this.file,\n        image = this.image,\n        options = this.options;\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      var is90DegreesRotated = Math.abs(rotate) % 180 === 90;\n      var resizable = (options.resize === 'contain' || options.resize === 'cover') && isPositiveNumber(options.width) && isPositiveNumber(options.height);\n      var maxWidth = Math.max(options.maxWidth, 0) || Infinity;\n      var maxHeight = Math.max(options.maxHeight, 0) || Infinity;\n      var minWidth = Math.max(options.minWidth, 0) || 0;\n      var minHeight = Math.max(options.minHeight, 0) || 0;\n      var aspectRatio = naturalWidth / naturalHeight;\n      var width = options.width,\n        height = options.height;\n      if (is90DegreesRotated) {\n        var _ref3 = [maxHeight, maxWidth];\n        maxWidth = _ref3[0];\n        maxHeight = _ref3[1];\n        var _ref4 = [minHeight, minWidth];\n        minWidth = _ref4[0];\n        minHeight = _ref4[1];\n        var _ref5 = [height, width];\n        width = _ref5[0];\n        height = _ref5[1];\n      }\n      if (resizable) {\n        aspectRatio = width / height;\n      }\n      var _getAdjustedSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: maxWidth,\n        height: maxHeight\n      }, 'contain');\n      maxWidth = _getAdjustedSizes.width;\n      maxHeight = _getAdjustedSizes.height;\n      var _getAdjustedSizes2 = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: minWidth,\n        height: minHeight\n      }, 'cover');\n      minWidth = _getAdjustedSizes2.width;\n      minHeight = _getAdjustedSizes2.height;\n      if (resizable) {\n        var _getAdjustedSizes3 = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: width,\n          height: height\n        }, options.resize);\n        width = _getAdjustedSizes3.width;\n        height = _getAdjustedSizes3.height;\n      } else {\n        var _getAdjustedSizes4 = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: width,\n          height: height\n        });\n        var _getAdjustedSizes4$wi = _getAdjustedSizes4.width;\n        width = _getAdjustedSizes4$wi === void 0 ? naturalWidth : _getAdjustedSizes4$wi;\n        var _getAdjustedSizes4$he = _getAdjustedSizes4.height;\n        height = _getAdjustedSizes4$he === void 0 ? naturalHeight : _getAdjustedSizes4$he;\n      }\n      width = Math.floor(normalizeDecimalNumber(Math.min(Math.max(width, minWidth), maxWidth)));\n      height = Math.floor(normalizeDecimalNumber(Math.min(Math.max(height, minHeight), maxHeight)));\n      var destX = -width / 2;\n      var destY = -height / 2;\n      var destWidth = width;\n      var destHeight = height;\n      var params = [];\n      if (resizable) {\n        var srcX = 0;\n        var srcY = 0;\n        var srcWidth = naturalWidth;\n        var srcHeight = naturalHeight;\n        var _getAdjustedSizes5 = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: naturalWidth,\n          height: naturalHeight\n        }, {\n          contain: 'cover',\n          cover: 'contain'\n        }[options.resize]);\n        srcWidth = _getAdjustedSizes5.width;\n        srcHeight = _getAdjustedSizes5.height;\n        srcX = (naturalWidth - srcWidth) / 2;\n        srcY = (naturalHeight - srcHeight) / 2;\n        params.push(srcX, srcY, srcWidth, srcHeight);\n      }\n      params.push(destX, destY, destWidth, destHeight);\n      if (is90DegreesRotated) {\n        var _ref6 = [height, width];\n        width = _ref6[0];\n        height = _ref6[1];\n      }\n      canvas.width = width;\n      canvas.height = height;\n      if (!isImageType(options.mimeType)) {\n        options.mimeType = file.type;\n      }\n      var fillStyle = 'transparent';\n\n      // Converts PNG files over the `convertSize` to JPEGs.\n      if (file.size > options.convertSize && options.convertTypes.indexOf(options.mimeType) >= 0) {\n        options.mimeType = 'image/jpeg';\n      }\n      var isJPEGImage = options.mimeType === 'image/jpeg';\n      if (isJPEGImage) {\n        fillStyle = '#fff';\n      }\n\n      // Override the default fill color (#000, black)\n      context.fillStyle = fillStyle;\n      context.fillRect(0, 0, width, height);\n      if (options.beforeDraw) {\n        options.beforeDraw.call(this, context, canvas);\n      }\n      if (this.aborted) {\n        return;\n      }\n      context.save();\n      context.translate(width / 2, height / 2);\n      context.rotate(rotate * Math.PI / 180);\n      context.scale(scaleX, scaleY);\n      context.drawImage.apply(context, [image].concat(params));\n      context.restore();\n      if (options.drew) {\n        options.drew.call(this, context, canvas);\n      }\n      if (this.aborted) {\n        return;\n      }\n      var callback = function callback(blob) {\n        if (!_this3.aborted) {\n          var done = function done(result) {\n            return _this3.done({\n              naturalWidth: naturalWidth,\n              naturalHeight: naturalHeight,\n              result: result\n            });\n          };\n          if (blob && isJPEGImage && options.retainExif && _this3.exif && _this3.exif.length > 0) {\n            var next = function next(arrayBuffer) {\n              return done(toBlob(arrayBufferToDataURL(insertExif(arrayBuffer, _this3.exif), options.mimeType)));\n            };\n            if (blob.arrayBuffer) {\n              blob.arrayBuffer().then(next).catch(function () {\n                _this3.fail(new Error('Failed to read the compressed image with Blob.arrayBuffer().'));\n              });\n            } else {\n              var reader = new FileReader();\n              _this3.reader = reader;\n              reader.onload = function (_ref7) {\n                var target = _ref7.target;\n                next(target.result);\n              };\n              reader.onabort = function () {\n                _this3.fail(new Error('Aborted to read the compressed image with FileReader.'));\n              };\n              reader.onerror = function () {\n                _this3.fail(new Error('Failed to read the compressed image with FileReader.'));\n              };\n              reader.onloadend = function () {\n                _this3.reader = null;\n              };\n              reader.readAsArrayBuffer(blob);\n            }\n          } else {\n            done(blob);\n          }\n        }\n      };\n      if (canvas.toBlob) {\n        canvas.toBlob(callback, options.mimeType, options.quality);\n      } else {\n        callback(toBlob(canvas.toDataURL(options.mimeType, options.quality)));\n      }\n    }\n  }, {\n    key: \"done\",\n    value: function done(_ref8) {\n      var naturalWidth = _ref8.naturalWidth,\n        naturalHeight = _ref8.naturalHeight,\n        result = _ref8.result;\n      var file = this.file,\n        image = this.image,\n        options = this.options;\n      if (URL && image.src.indexOf('blob:') === 0) {\n        URL.revokeObjectURL(image.src);\n      }\n      if (result) {\n        // Returns original file if the result is greater than it and without size related options\n        if (options.strict && !options.retainExif && result.size > file.size && options.mimeType === file.type && !(options.width > naturalWidth || options.height > naturalHeight || options.minWidth > naturalWidth || options.minHeight > naturalHeight || options.maxWidth < naturalWidth || options.maxHeight < naturalHeight)) {\n          result = file;\n        } else {\n          var date = new Date();\n          result.lastModified = date.getTime();\n          result.lastModifiedDate = date;\n          result.name = file.name;\n\n          // Convert the extension to match its type\n          if (result.name && result.type !== file.type) {\n            result.name = result.name.replace(REGEXP_EXTENSION, imageTypeToExtension(result.type));\n          }\n        }\n      } else {\n        // Returns original file if the result is null in some cases.\n        result = file;\n      }\n      this.result = result;\n      if (options.success) {\n        options.success.call(this, result);\n      }\n    }\n  }, {\n    key: \"fail\",\n    value: function fail(err) {\n      var options = this.options;\n      if (options.error) {\n        options.error.call(this, err);\n      } else {\n        throw err;\n      }\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      if (!this.aborted) {\n        this.aborted = true;\n        if (this.reader) {\n          this.reader.abort();\n        } else if (!this.image.complete) {\n          this.image.onload = null;\n          this.image.onabort();\n        } else {\n          this.fail(new Error('The compression process has been aborted.'));\n        }\n      }\n    }\n\n    /**\n     * Get the no conflict compressor class.\n     * @returns {Compressor} The compressor class.\n     */\n  }], [{\n    key: \"noConflict\",\n    value: function noConflict() {\n      window.Compressor = AnotherCompressor;\n      return Compressor;\n    }\n\n    /**\n     * Change the default options.\n     * @param {Object} options - The new default options.\n     */\n  }, {\n    key: \"setDefaults\",\n    value: function setDefaults(options) {\n      _extends(DEFAULTS, options);\n    }\n  }]);\n  return Compressor;\n}();\n\nexport { Compressor as default };\n","import { IAppConfiguration, IAppConfigurationUI } from '../contexts/configuration';\nimport { DocumentType, IDocument, IDocumentPage } from '../contexts/app-state';\nimport Compressor from 'compressorjs';\nimport merge from 'deepmerge';\n\nexport type FileEventTarget = EventTarget & { files: FileList };\nexport type ICameraEvent = Event & { currentTarget: EventTarget & HTMLInputElement };\n\nexport const nativeCameraHandler = (e: ICameraEvent): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    if (!e.target) {\n      return reject('Event target is missing');\n    }\n    const target = e.target as FileEventTarget;\n    const image = target.files[0];\n    const reader1 = new FileReader();\n    reader1.readAsDataURL(image);\n\n    reader1.onload = e => {\n      const image = e.target?.result;\n    };\n    new Compressor(image, {\n      quality: 0.6,\n      success(result) {\n        const reader = new FileReader();\n        reader.readAsDataURL(result);\n        reader.onload = e => {\n          const image = e.target?.result;\n          resolve(image as string);\n        };\n      },\n      error(err) {\n        return reject(err.message);\n      },\n    });\n  });\n};\n\nexport const clearDocs = (\n  type: DocumentType,\n  configuration: IAppConfiguration,\n  uiPack: IAppConfigurationUI,\n  documents: IDocument[],\n): IDocument[] => {\n  const documentOptionsConfiguration = merge(\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument, @typescript-eslint/no-unsafe-member-access\n    uiPack.documentOptions || {},\n    configuration.documentOptions || {},\n  );\n  const { options } = documentOptionsConfiguration;\n  const isFromOptions = Object.keys(options).find(t => t === type);\n  if (isFromOptions) {\n    return documents.filter(d => !Object.keys(options).find(t => t === d.type));\n  }\n  return documents.filter(d => type !== d.type);\n};\n\nexport const addDocument = (\n  type: DocumentType,\n  base64: string,\n  configuration: IAppConfiguration,\n  uiPack: IAppConfigurationUI,\n  documents: IDocument[],\n  document: IDocument,\n): IDocument[] => {\n  const clearedDocuments = clearDocs(type, configuration, uiPack, documents);\n  return [\n    ...clearedDocuments,\n    {\n      ...document,\n      pages: [{ side: 'front', base64 }],\n    },\n  ];\n};\n\nconst getUpdatedPages = (base64: string, doc: IDocument): IDocumentPage[] => {\n  const existingPage = doc.pages.find(p => p.side === 'back');\n  if (existingPage) {\n    return doc.pages.map(page => {\n      if (page.side === 'back') {\n        return {\n          ...page,\n          base64,\n          side: 'back',\n        };\n      }\n      return page;\n    });\n  }\n  return [...doc.pages, { base64, side: 'back' }];\n};\n\nexport const updateDocument = (\n  type: DocumentType,\n  base64: string,\n  documents: IDocument[],\n): IDocument[] => {\n  return documents.map(doc => {\n    if (doc.type === type) {\n      const newPagesState = getUpdatedPages(base64, doc);\n      return { ...doc, pages: newPagesState };\n    }\n    return doc;\n  });\n};\n","import { writable } from 'svelte/store';\n\nexport const createToggle = (initialState = false) => {\n  const { subscribe, update } = writable(initialState);\n  const toggle = (nextState?: boolean) =>\n    update(prevState => (typeof nextState === 'boolean' ? nextState : !prevState));\n  const toggleOn = () => toggle(true);\n  const toggleOff = () => toggle(false);\n\n  return [{ subscribe, update }, toggle, toggleOn, toggleOff] as const;\n};\n","<script lang=\"ts\">\n  import { createEventDispatcher } from 'svelte';\n  import { Container } from '../../atoms';\n  import Paragraph from '../../atoms/Paragraph/Paragraph.svelte';\n  import {\n    configuration as globalConfiguration,\n    IAttributes,\n    ICSSProperties,\n  } from '../../contexts/configuration';\n  import { IDocumentInfo } from '../../contexts/app-state';\n  import { T } from '../../contexts/translation';\n  import { IDocumentOptions } from '../../organisms/DocumentOptions';\n  import { makesLocalStyles } from '../../utils/css-utils';\n  import Icon from '../../atoms/Icons/Icon.svelte';\n  import { ICameraEvent, nativeCameraHandler } from '../../utils/photo-utils';\n  import { isNativeCamera } from '../../contexts/flows/hooks';\n  import { createToggle } from '../../hooks/createToggle/createToggle';\n\n  export let configuration: IDocumentOptions;\n  export let active: boolean;\n  export let attributes: IAttributes;\n  export let document: IDocumentInfo;\n\n  const [isDisabled, , toggleOnIsDisabled] = createToggle();\n  let hover = false;\n\n  const setHover = (status: boolean) => (hover = status);\n\n  const dispatch = createEventDispatcher();\n  const handleSelect = () => {\n    if ($isDisabled) return;\n\n    dispatch('selectOption', document.type);\n    toggleOnIsDisabled();\n  };\n\n  const handler = async (e: ICameraEvent) => {\n    if (!e.target) return;\n    const image = await nativeCameraHandler(e);\n    dispatch('photoTake', { image, type: document.type });\n  };\n\n  const style = makesLocalStyles(configuration.optionProps.style as ICSSProperties);\n</script>\n\n<div\n  {style}\n  class=\"document-option\"\n  class:disabled={$isDisabled}\n  class:active\n  on:click={handleSelect}\n  on:mouseover={() => setHover(true)}\n  on:focus={() => setHover(true)}\n  on:mouseleave={() => setHover(false)}\n>\n  {#if isNativeCamera($globalConfiguration)}\n    <input\n      class=\"camera-input\"\n      type=\"file\"\n      accept=\"image/*\"\n      capture=\"environment\"\n      on:change={handler}\n    />\n  {/if}\n  <Container configuration={configuration.iconContainerProps} active={hover || active}>\n    <Icon\n      name={attributes.icon}\n      width={attributes.width}\n      height={attributes.height}\n      configuration={configuration.iconProps}\n      active={hover || active}\n    />\n  </Container>\n  <div class=\"text-container\">\n    <Paragraph configuration={configuration.titleProps} active={hover || active}>\n      <T key={`${document.type}-title`} namespace=\"document-options\" />\n    </Paragraph>\n    {#if configuration.descriptionProps}\n      <Paragraph configuration={configuration.descriptionProps} active={hover || active}>\n        <T key={`${document.type}-description`} namespace=\"document-options\" />\n      </Paragraph>\n    {/if}\n  </div>\n</div>\n\n<style>\n  .document-option {\n    cursor: pointer;\n    border-radius: var(--border-radius);\n    padding: var(--padding);\n    margin: var(--margin);\n    width: var(--width);\n    border: var(--border);\n    display: var(--display);\n    text-align: var(--text-align);\n    background: var(--background);\n    transition: all 0.1s ease-in;\n    user-select: none;\n    position: relative;\n  }\n  .document-option:hover {\n    background: var(--hover-background);\n    border: var(--hover-border);\n  }\n  .document-option:active {\n    background: var(--hover-background);\n    border: var(--hover-border);\n  }\n  .document-option.active {\n    background: var(--hover-background);\n    border: var(--hover-border);\n  }\n  .camera-input {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0px;\n    left: 0px;\n    z-index: 3;\n    opacity: 0;\n  }\n\n  .disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n</style>\n","import { toast } from '@zerodevx/svelte-toast';\nimport { t } from '../../contexts/translation/hooks';\n\nexport const checkIsCameraAvailable = async (): Promise<boolean> => {\n  try {\n    const stream = await navigator.mediaDevices.getUserMedia({ video: true });\n    if (stream) {\n      stream.getTracks().forEach(track => track.stop());\n    }\n    return true;\n  } catch (error) {\n    console.error(error);\n    toast.push(t('general', 'errorCameraAccess'));\n    return false;\n  }\n};\n","<script lang=\"ts\">\n  import { configuration, IStepConfiguration } from '../../contexts/configuration';\n  import DocumentOption from '../../molecules/DocumentOption/DocumentOption.svelte';\n  import { goToNextStep } from '../../contexts/navigation';\n  import type { DocumentType, IDocument, IDocumentInfo } from '../../contexts/app-state';\n  import { currentStepId, documents, selectedDocumentInfo } from '../../contexts/app-state/stores';\n  import { addDocument } from '../../utils/photo-utils';\n  import { isNativeCamera } from '../../contexts/flows/hooks';\n  import { IDocumentOption } from '../../molecules/DocumentOption';\n  import merge from 'deepmerge';\n  import { checkIsCameraAvailable } from '../../services/camera-manager';\n  import { uiPack } from '../../ui-packs';\n\n  export let step: IStepConfiguration;\n  const ducumentOptions: IDocumentOption[] = [];\n\n  const documentOptionsConfiguration = merge($uiPack.documentOptions, $configuration.documentOptions || {});\n\n  Object.keys(documentOptionsConfiguration.options).forEach((key: string) => {\n    const type = key as DocumentType;\n    const option = documentOptionsConfiguration.options[type] as IDocumentOption;\n    ducumentOptions.push(option);\n  });\n\n  const handleSelectOption = async ({ detail }: { detail: string }) => {\n    if (isNativeCamera($configuration)) return;\n    const type = detail as DocumentType;\n    const option = documentOptionsConfiguration.options[type];\n    $selectedDocumentInfo = option?.document as IDocumentInfo;\n    const isCameraAvailable = await checkIsCameraAvailable();\n    if (!isCameraAvailable) return;\n    goToNextStep(currentStepId, $configuration, $currentStepId);\n  };\n\n  const handleTakePhoto = async ({ detail }: { detail: { image: string; type: DocumentType } }) => {\n    const option = documentOptionsConfiguration.options[detail.type];\n    const document: IDocument = { type: detail.type, metadata: {}, pages: [] };\n    const newDocumentsState: IDocument[] = addDocument(\n      document.type,\n      detail.image,\n      $configuration,\n      $uiPack,\n      $documents,\n      document,\n    );\n    $selectedDocumentInfo = option?.document as IDocumentInfo;\n    $documents = newDocumentsState;\n    goToNextStep(currentStepId, $configuration, $currentStepId);\n  };\n</script>\n\n<div class=\"document-options\">\n  {#each ducumentOptions as documentOption}\n    <DocumentOption\n      on:selectOption={handleSelectOption}\n      on:photoTake={handleTakePhoto}\n      configuration={documentOptionsConfiguration}\n      attributes={documentOption.attributes}\n      document={documentOption.document}\n      active={$selectedDocumentInfo?.type === documentOption.document.type}\n    />\n  {/each}\n</div>\n","<script lang=\"ts\">\n  import { T } from '../contexts/translation';\n  import { Image, Title, Paragraph, IconButton, IconCloseButton } from '../atoms';\n  import { configuration } from '../contexts/configuration';\n  import { Elements } from '../contexts/configuration';\n  import { DocumentOptions } from '../organisms';\n  import { goToPrevStep } from '../contexts/navigation';\n  import { preloadNextStepByCurrent } from '../services/preload-service';\n  import { currentStepId, appState } from '../contexts/app-state';\n  import {\n    EActionNames,\n    sendButtonClickEvent,\n    EVerificationStatuses,\n  } from '../utils/event-service';\n  import { getLayoutStyles, getStepConfiguration, uiPack } from '../ui-packs';\n  import { getFlowConfig } from '../contexts/flows/hooks';\n\n  export let stepId;\n\n  const step = getStepConfiguration($configuration, $uiPack, stepId);\n  const flow = getFlowConfig($configuration);\n  const style = getLayoutStyles($configuration, $uiPack, step);\n\n  const stepNamespace = step.namespace!;\n\n  preloadNextStepByCurrent($configuration, configuration, stepId, $uiPack);\n</script>\n\n<div class=\"container\" {style}>\n  {#each step.elements as element}\n    {#if element.type === Elements.IconButton}\n      <IconButton\n        configuration={element.props}\n        on:click={() => goToPrevStep(currentStepId, $configuration, $currentStepId)}\n      />\n    {/if}\n    {#if element.type === Elements.IconCloseButton && flow.showCloseButton}\n      <IconCloseButton\n        configuration={element.props}\n        on:click={() => {\n          sendButtonClickEvent(\n            EActionNames.CLOSE,\n            { status: EVerificationStatuses.DATA_COLLECTION },\n            $appState,\n            true,\n          );\n        }}\n      />\n    {/if}\n    {#if element.type === Elements.Image}\n      <Image configuration={element.props} />\n    {/if}\n    {#if element.type === Elements.Title}\n      <Title configuration={element.props}>\n        <T key=\"title\" namespace={stepNamespace} />\n      </Title>\n    {/if}\n    {#if element.type === Elements.Paragraph}\n      <Paragraph configuration={element.props}>\n        <T key={element.props.context || 'description'} namespace={stepNamespace} />\n      </Paragraph>\n    {/if}\n  {/each}\n  <DocumentOptions {step} />\n</div>\n\n<style>\n  .container {\n    position: var(--position);\n    padding: var(--padding);\n    text-align: center;\n    background: var(--background);\n    height: 100%;\n  }\n</style>\n","<script lang=\"ts\">\n  import { T } from '../contexts/translation';\n  import { Image, Button, Title, Paragraph, IconButton, IconCloseButton } from '../atoms';\n  import { configuration } from '../contexts/configuration';\n  import { goToNextStep, goToPrevStep } from '../contexts/navigation/hooks';\n  import { Elements } from '../contexts/configuration/types';\n  import { IDocument, currentStepId, DocumentType } from '../contexts/app-state';\n  import { getFlowConfig, isNativeCamera } from '../contexts/flows/hooks';\n  import { addDocument, ICameraEvent, nativeCameraHandler } from '../utils/photo-utils';\n  import { appState, documents, selectedDocumentInfo } from '../contexts/app-state/stores';\n  import {\n    EActionNames,\n    sendButtonClickEvent,\n    EVerificationStatuses,\n  } from '../utils/event-service';\n  import { checkIsCameraAvailable } from '../services/camera-manager';\n  import { getLayoutStyles, getStepConfiguration, uiPack } from '../ui-packs';\n\n  export let stepId;\n\n  const step = getStepConfiguration($configuration, $uiPack, stepId);\n  const flow = getFlowConfig($configuration);\n  const style = getLayoutStyles($configuration, $uiPack, step);\n\n  const documentType =\n    (($configuration.steps && $configuration.steps[$currentStepId].type) as DocumentType || $uiPack.steps[$currentStepId].type as DocumentType) || $selectedDocumentInfo.type;\n\n  $: {\n    if (!documentType) goToPrevStep(currentStepId, $configuration, $currentStepId);\n  }\n  const stepNamespace = `${step.namespace}.${documentType}`;\n\n  const handleGoToNextStep = async () => {\n    const isCameraAvailable = await checkIsCameraAvailable();\n    if (!isCameraAvailable) return;\n    goToNextStep(currentStepId, $configuration, $currentStepId);\n  };\n\n  const handler = async (e: ICameraEvent) => {\n    if (!e.target) return;\n    const image = await nativeCameraHandler(e);\n    if (!documentType) {\n      throw Error(\"document context wasn't provided\");\n    }\n    const document: IDocument = { type: documentType, metadata: {}, pages: [] };\n    const newDocumentsState: IDocument[] = addDocument(\n      document.type,\n      image,\n      $configuration,\n      $uiPack,\n      $documents,\n      document,\n    );\n    $documents = newDocumentsState;\n    goToNextStep(currentStepId, $configuration, $currentStepId);\n  };\n</script>\n\n<div class=\"container\" {style}>\n  {#each step.elements as element}\n    {#if element.type === Elements.IconButton}\n      <IconButton\n        configuration={element.props}\n        on:click={() => goToPrevStep(currentStepId, $configuration, $currentStepId)}\n      />\n    {/if}\n    {#if element.type === Elements.IconCloseButton && flow.showCloseButton}\n      <IconCloseButton\n        configuration={element.props}\n        on:click={() => {\n          sendButtonClickEvent(\n            EActionNames.CLOSE,\n            { status: EVerificationStatuses.DATA_COLLECTION },\n            $appState,\n            true,\n          );\n        }}\n      />\n    {/if}\n    {#if element.type === Elements.Image}\n      <Image configuration={element.props} />\n    {/if}\n    {#if element.type === Elements.Title}\n      <Title configuration={element.props}>\n        <T key={'title'} namespace={stepNamespace} />\n      </Title>\n    {/if}\n    {#if element.type === Elements.Paragraph}\n      <Paragraph configuration={element.props}>\n        <T key={'description'} namespace={stepNamespace} />\n      </Paragraph>\n    {/if}\n    {#if element.type === Elements.Button}\n      <div class=\"button-container\">\n        {#if isNativeCamera($configuration)}\n          <input\n            class=\"camera-input\"\n            type=\"file\"\n            accept=\"image/*\"\n            capture=\"environment\"\n            on:change={handler}\n          />\n        {/if}\n        <Button on:click={handleGoToNextStep} configuration={element.props}>\n          <T key={'button'} namespace={stepNamespace} />\n        </Button>\n      </div>\n    {/if}\n  {/each}\n</div>\n\n<style>\n  .container {\n    height: 100%;\n    padding: var(--padding);\n    position: var(--position);\n    background: var(--background);\n    text-align: center;\n  }\n  .button-container {\n    position: relative;\n  }\n  .camera-input {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0px;\n    left: 0px;\n    z-index: 3;\n    opacity: 0;\n    cursor: pointer;\n  }\n</style>\n","<script lang=\"ts\">\n  import CameraPhoto, { FACING_MODES } from 'jslib-html5-camera-photo';\n  import { T } from '../contexts/translation';\n  import { configuration } from '../contexts/configuration';\n  import { onDestroy, onMount } from 'svelte';\n  import {\n    CameraButton,\n    IconButton,\n    IconCloseButton,\n    Overlay,\n    Paragraph,\n    VideoContainer,\n    Loader,\n  } from '../atoms';\n  import { Elements } from '../contexts/configuration/types';\n  import { DocumentType, IDocument, appState } from '../contexts/app-state';\n  import { goToNextStep, goToPrevStep } from '../contexts/navigation';\n  import Title from '../atoms/Title/Title.svelte';\n  import { documents, currentStepId, selectedDocumentInfo } from '../contexts/app-state/stores';\n  import merge from 'deepmerge';\n  import { preloadNextStepByCurrent } from '../services/preload-service';\n  import {\n    EActionNames,\n    EVerificationStatuses,\n    sendButtonClickEvent,\n  } from '../utils/event-service';\n  import { getLayoutStyles, getStepConfiguration, uiPack } from '../ui-packs';\n  import { createToggle } from '../hooks/createToggle/createToggle';\n\n  export let stepId;\n\n  let video: HTMLVideoElement;\n  let container: HTMLDivElement;\n  let cameraPhoto: CameraPhoto | undefined = undefined;\n\n  const step = getStepConfiguration($configuration, $uiPack, stepId);\n  const style = getLayoutStyles($configuration, $uiPack, step);\n\n  const [isDisabled, , toggleOnIsDisabled] = createToggle();\n\n  const documentOptionsConfiguration = merge(\n    $uiPack.documentOptions,\n    $configuration.documentOptions || {},\n  );\n\n  const documentType =\n    (($configuration.steps && $configuration.steps[$currentStepId].type) as DocumentType) ||\n    ($uiPack.steps[$currentStepId].type as DocumentType) ||\n    $selectedDocumentInfo.type;\n\n  let stream: MediaStream;\n  const stepNamespace = `${step.namespace}.${documentType}`;\n\n  $: {\n    if (!documentType) goToPrevStep(currentStepId, $configuration, $currentStepId);\n  }\n\n  onMount(() => {\n    if (!video) return;\n    cameraPhoto = new CameraPhoto(video);\n    cameraPhoto\n      .startCamera(FACING_MODES.ENVIRONMENT, {\n        width: 1920,\n        height: 1080,\n      })\n      .then(cameraStream => {\n        console.log('stream', cameraStream);\n        stream = cameraStream;\n      })\n      .catch(error => {\n        console.log('error', error);\n      });\n  });\n\n  onDestroy(() => {\n    cameraPhoto?.stopCamera();\n  });\n\n  const clearDocs = (type: DocumentType): IDocument[] => {\n    const { options } = documentOptionsConfiguration;\n    const isFromOptions = Object.keys(options).find(key => key === type);\n    if (isFromOptions) {\n      return $documents.filter(d => !Object.keys(options).find(key => key === d.type));\n    }\n    return $documents.filter(d => type !== d.type);\n  };\n\n  const addDocument = (type: DocumentType, base64: string, document: IDocument): IDocument[] => {\n    const clearedDocuments = clearDocs(type);\n    return [\n      ...clearedDocuments,\n      {\n        ...document,\n        pages: [{ side: 'front', base64 }],\n      },\n    ];\n  };\n\n  const handleTakePhoto = () => {\n    if (!cameraPhoto || $isDisabled) return;\n\n    toggleOnIsDisabled();\n    const base64 = cameraPhoto.getDataUri(\n      $configuration.settings?.cameraSettings || $uiPack.settings.cameraSettings,\n    );\n    if (documentType) {\n      const document = { type: documentType, pages: [], metadata: {} };\n      $documents = addDocument(document.type, base64, document);\n      return goToNextStep(currentStepId, $configuration, $currentStepId);\n    }\n    return goToPrevStep(currentStepId, $configuration, $currentStepId);\n  };\n\n  preloadNextStepByCurrent($configuration, configuration, $currentStepId, $uiPack);\n</script>\n\n<div class=\"container\" {style} bind:this={container}>\n  {#each step.elements as element}\n    {#if element.type === Elements.IconButton}\n      <IconButton\n        configuration={element.props}\n        on:click={() => goToPrevStep(currentStepId, $configuration, $currentStepId)}\n      />\n    {/if}\n    {#if element.type === Elements.IconCloseButton}\n      <IconCloseButton\n        configuration={element.props}\n        on:click={() => {\n          sendButtonClickEvent(\n            EActionNames.CLOSE,\n            { status: EVerificationStatuses.DATA_COLLECTION },\n            $appState,\n            true,\n          );\n        }}\n      />\n    {/if}\n    {#if element.type === Elements.VideoContainer}\n      <VideoContainer configuration={element.props}>\n        <!-- svelte-ignore a11y-media-has-caption -->\n        <video bind:this={video} autoplay playsinline />\n      </VideoContainer>\n    {/if}\n    {#if element.type === Elements.Loader && stream === undefined}\n      <Loader />\n    {/if}\n  {/each}\n  <div class=\"header\">\n    {#each step.elements as element}\n      {#if element.type === Elements.Title}\n        <Title configuration={element.props}>\n          <T key={'title'} namespace={stepNamespace} />\n        </Title>\n      {/if}\n      {#if element.type === Elements.Paragraph}\n        <Paragraph configuration={element.props}>\n          <T key={'description'} namespace={stepNamespace} />\n        </Paragraph>\n      {/if}\n    {/each}\n  </div>\n  {#if documentType}\n    <Overlay type={documentType} />\n  {/if}\n  {#each step.elements as element}\n    {#if element.type === Elements.CameraButton}\n      <CameraButton\n        on:click={handleTakePhoto}\n        configuration={element.props}\n        isDisabled={$isDisabled}\n      />\n    {/if}\n  {/each}\n</div>\n\n<style>\n  .container {\n    height: 100%;\n    position: var(--position);\n    background: var(--background);\n    text-align: center;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  .header {\n    text-align: center;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n  }\n</style>\n","<script lang=\"ts\">\n  import { Button, ButtonWithIcon, IconButton, NextStepButton } from '../../atoms';\n  import {\n    configuration as globalConfiguration,\n    ICSSProperties,\n  } from '../../contexts/configuration';\n  import { goToNextStep, goToPrevStep } from '../../contexts/navigation';\n  import { T } from '../../contexts/translation';\n  import { makesLocalStyles } from '../../utils/css-utils';\n  import { currentStepId } from '../../contexts/app-state';\n  import merge from 'deepmerge';\n  import { uiPack } from '../../ui-packs';\n\n  const { navigationButtons: userConfiguration } = $globalConfiguration;\n\n  const configuration = userConfiguration\n    ? merge($uiPack.navigationButtons, userConfiguration)\n    : $uiPack.navigationButtons;\n\n  export let skipBackSide = false;\n\n  const style = makesLocalStyles(configuration.props.style as ICSSProperties);\n\n  const skipType = skipBackSide ? 'back-side' : undefined;\n</script>\n\n<div {style} class=\"navigation-buttons\">\n  {#if configuration.backButton.type === 'button'}\n    <Button\n      isBack\n      configuration={configuration.backButton.props}\n      on:click={() => goToPrevStep(currentStepId, $globalConfiguration, $currentStepId, skipType)}\n    >\n      <T key=\"back\" namespace=\"navigation-buttons\" />\n    </Button>\n  {:else if configuration.backButton.type === 'iconButton'}\n    <IconButton\n      configuration={configuration.backButton.props}\n      on:click={() => goToPrevStep(currentStepId, $globalConfiguration, $currentStepId, skipType)}\n    />\n  {:else}\n    <ButtonWithIcon\n      configuration={configuration.backButton.props}\n      on:click={() => goToPrevStep(currentStepId, $globalConfiguration, $currentStepId, skipType)}\n    >\n      <T key=\"back\" namespace=\"navigation-buttons\" />\n    </ButtonWithIcon>\n  {/if}\n  {#if configuration.nextButton.type === 'button'}\n    <NextStepButton configuration={configuration.nextButton.props} {skipType}>\n      <T key=\"next\" namespace=\"navigation-buttons\" />\n    </NextStepButton>\n  {:else if configuration.nextButton.type === 'iconButton'}\n    <IconButton\n      configuration={configuration.nextButton.props}\n      on:click={() => goToNextStep(currentStepId, $globalConfiguration, $currentStepId, skipType)}\n    />\n  {:else}\n    <ButtonWithIcon\n      configuration={configuration.nextButton.props}\n      on:click={() => goToNextStep(currentStepId, $globalConfiguration, $currentStepId, skipType)}\n    >\n      <T key=\"next\" namespace=\"navigation-buttons\" />\n    </ButtonWithIcon>\n  {/if}\n</div>\n\n<style>\n  .navigation-buttons {\n    display: var(--display);\n    padding: var(--padding);\n    position: var(--position);\n    bottom: var(--bottom);\n    left: var(--left);\n    width: var(--width);\n    box-shadow: var(--box-shadow);\n    justify-content: var(--justify-content);\n    align-items: var(--align-items);\n    flex-direction: var(--flex-direction);\n  }\n</style>\n","<script lang=\"ts\">\n  import { T } from '../contexts/translation';\n  import { Title, IconButton, Photo, Paragraph, IconCloseButton } from '../atoms';\n  import { configuration } from '../contexts/configuration';\n  import { Elements } from '../contexts/configuration/types';\n  import { goToPrevStep } from '../contexts/navigation';\n  import { DocumentType, getDocImage, appState } from '../contexts/app-state';\n  import { NavigationButtons } from '../molecules';\n  import { documents, currentStepId, selectedDocumentInfo } from '../contexts/app-state/stores';\n  import { preloadNextStepByCurrent } from '../services/preload-service';\n  import {\n    EActionNames,\n    sendButtonClickEvent,\n    EVerificationStatuses,\n  } from '../utils/event-service';\n  import { getLayoutStyles, getStepConfiguration, uiPack } from '../ui-packs';\n  import { getFlowConfig } from '../contexts/flows/hooks';\n\n  export let stepId;\n\n  const step = getStepConfiguration($configuration, $uiPack, stepId);\n  const flow = getFlowConfig($configuration);\n  const style = getLayoutStyles($configuration, $uiPack, step);\n\n  const stepNamespace = step.namespace!;\n  const documentType =\n    (($configuration.steps && $configuration.steps[$currentStepId].type) as DocumentType || $uiPack.steps[$currentStepId].type as DocumentType) || $selectedDocumentInfo.type;\n\n\n  let image = '';\n  let skipBackSide = false;\n\n  $: {\n    if (!documentType) {\n      goToPrevStep(currentStepId, $configuration, $currentStepId);\n    }\n    if (documentType) {\n      image = getDocImage(documentType, $documents);\n    }\n    if ($selectedDocumentInfo && !$selectedDocumentInfo.backSide) {\n      skipBackSide = true;\n    }\n    preloadNextStepByCurrent(\n      $configuration,\n      configuration,\n      $currentStepId,\n      $uiPack,\n      skipBackSide ? 'back-side' : undefined,\n    );\n  }\n</script>\n\n<div class=\"container\" {style}>\n  {#each step.elements as element}\n    {#if element.type === Elements.IconButton}\n      <IconButton\n        configuration={element.props}\n        on:click={() => goToPrevStep(currentStepId, $configuration, $currentStepId)}\n      />\n    {/if}\n    {#if element.type === Elements.IconCloseButton && flow.showCloseButton}\n      <IconCloseButton\n        configuration={element.props}\n        on:click={() => {\n          sendButtonClickEvent(\n            EActionNames.CLOSE,\n            { status: EVerificationStatuses.DATA_COLLECTION },\n            $appState,\n            true,\n          );\n        }}\n      />\n    {/if}\n    {#if element.type === Elements.Title}\n      <Title configuration={element.props}>\n        <T key={'title'} namespace={stepNamespace} />\n      </Title>\n    {/if}\n    {#if element.type === Elements.Paragraph}\n      <Paragraph configuration={element.props}>\n        <T key={'description'} namespace={stepNamespace} />\n      </Paragraph>\n    {/if}\n    {#if element.type === Elements.Photo}\n      <Photo configuration={element.props} src={image} />\n    {/if}\n  {/each}\n  <NavigationButtons {skipBackSide} />\n</div>\n\n<style>\n  .container {\n    padding: var(--padding);\n    position: var(--position);\n    background: var(--background);\n    text-align: center;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n  }\n</style>\n","<script lang=\"ts\">\n  import { T } from '../contexts/translation';\n  import { Image, Button, Title, Paragraph, IconButton, IconCloseButton } from '../atoms';\n  import { configuration } from '../contexts/configuration';\n  import { goToNextStep, goToPrevStep } from '../contexts/navigation';\n  import { Elements } from '../contexts/configuration/types';\n  import { ICameraEvent, nativeCameraHandler, updateDocument } from '../utils/photo-utils';\n  import { IDocument, IDocumentInfo, currentStepId, appState } from '../contexts/app-state';\n  import { isNativeCamera } from '../contexts/flows';\n  import { documents, selectedDocumentInfo } from '../contexts/app-state/stores';\n  import { preloadNextStepByCurrent } from '../services/preload-service';\n  import {\n    EActionNames,\n    sendButtonClickEvent,\n    EVerificationStatuses,\n  } from '../utils/event-service';\n  import { getLayoutStyles, getStepConfiguration, uiPack } from '../ui-packs';\n  import { getFlowConfig } from '../contexts/flows/hooks';\n\n  export let stepId;\n\n  const step = getStepConfiguration($configuration, $uiPack, stepId);\n  const flow = getFlowConfig($configuration);\n  const style = getLayoutStyles($configuration, $uiPack, step);\n\n  const stepNamespace = step.namespace!;\n\n  let documentInfo: IDocumentInfo | undefined = undefined;\n  let document: IDocument | undefined;\n\n  $: {\n    documentInfo = step.documentInfo || $selectedDocumentInfo;\n    if (!documentInfo) goToPrevStep(currentStepId, $configuration, $currentStepId);\n    document = $documents.find(d => d.type === documentInfo?.type);\n    if (!document) goToPrevStep(currentStepId, $configuration, $currentStepId);\n  }\n\n  const handler = async (e: ICameraEvent) => {\n    const image = await nativeCameraHandler(e);\n    if (!documentInfo) {\n      throw Error(\"document context wasn't provided\");\n    }\n    if (!document) return;\n    const newDocumentsState = updateDocument(document.type, image, $documents);\n    $documents = newDocumentsState;\n    goToNextStep(currentStepId, $configuration, $currentStepId);\n  };\n\n  preloadNextStepByCurrent($configuration, configuration, $currentStepId, $uiPack);\n</script>\n\n<div class=\"container\" {style}>\n  {#each step.elements as element}\n    {#if element.type === Elements.IconButton}\n      <IconButton\n        configuration={element.props}\n        on:click={() => goToPrevStep(currentStepId, $configuration, $currentStepId)}\n      />\n    {/if}\n    {#if element.type === Elements.IconCloseButton && flow.showCloseButton}\n      <IconCloseButton\n        configuration={element.props}\n        on:click={() => {\n          sendButtonClickEvent(\n            EActionNames.CLOSE,\n            { status: EVerificationStatuses.DATA_COLLECTION },\n            $appState,\n            true,\n          );\n        }}\n      />\n    {/if}\n    {#if element.type === Elements.Image}\n      <Image configuration={element.props} />\n    {/if}\n    {#if element.type === Elements.Title}\n      <Title configuration={element.props}>\n        <T key=\"title\" namespace={stepNamespace} />\n      </Title>\n    {/if}\n    {#if element.type === Elements.Paragraph}\n      <Paragraph configuration={element.props}>\n        <T key=\"description\" namespace={stepNamespace} />\n      </Paragraph>\n    {/if}\n    {#if element.type === Elements.Button}\n      <div class=\"button-container\">\n        {#if isNativeCamera($configuration)}\n          <input\n            class=\"camera-input\"\n            type=\"file\"\n            accept=\"image/*\"\n            capture=\"environment\"\n            on:change={handler}\n          />\n        {/if}\n        <Button\n          on:click={() => goToNextStep(currentStepId, $configuration, $currentStepId)}\n          configuration={element.props}\n        >\n          <T key=\"button\" namespace={stepNamespace} />\n        </Button>\n      </div>\n    {/if}\n  {/each}\n</div>\n\n<style>\n  .container {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    padding: var(--padding);\n    position: var(--position);\n    background: var(--background);\n    text-align: center;\n  }\n\n  .button-container {\n    position: relative;\n  }\n  .camera-input {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0px;\n    left: 0px;\n    z-index: 3;\n    opacity: 0;\n  }\n</style>\n","<script lang=\"ts\">\n  import CameraPhoto, { FACING_MODES } from 'jslib-html5-camera-photo';\n  import { T } from '../contexts/translation';\n  import { configuration } from '../contexts/configuration';\n  import { onDestroy, onMount } from 'svelte';\n  import {\n    CameraButton,\n    IconButton,\n    Overlay,\n    Paragraph,\n    Title,\n    VideoContainer,\n    Loader,\n  } from '../atoms';\n  import { Elements } from '../contexts/configuration/types';\n  import { goToNextStep, goToPrevStep } from '../contexts/navigation';\n  import { currentStepId, DocumentType } from '../contexts/app-state';\n  import { documents, selectedDocumentInfo } from '../contexts/app-state/stores';\n  import { updateDocument } from '../utils/photo-utils';\n  import { createToggle } from '../hooks/createToggle/createToggle';\n  import { preloadNextStepByCurrent } from '../services/preload-service';\n  import { getLayoutStyles, getStepConfiguration, uiPack } from '../ui-packs';\n\n  export let stepId;\n\n  let video: HTMLVideoElement;\n  let cameraPhoto: CameraPhoto | undefined = undefined;\n\n  const step = getStepConfiguration($configuration, $uiPack, stepId);\n  const style = getLayoutStyles($configuration, $uiPack, step);\n\n  const [isDisabled, , toggleOnIsDisabled] = createToggle();\n\n  const documentType =\n    ($uiPack.steps[$currentStepId].type as DocumentType || ($configuration.steps && $configuration.steps[$currentStepId].type) as DocumentType) || $selectedDocumentInfo.type;\n\n  let stream: MediaStream;\n  const stepNamespace = `${step.namespace}.${documentType}`;\n  $: {\n    if (!documentType) goToPrevStep(currentStepId, $configuration, $currentStepId);\n  }\n\n  onMount(() => {\n    if (!video) return;\n    cameraPhoto = new CameraPhoto(video);\n    cameraPhoto\n      .startCamera(FACING_MODES.ENVIRONMENT, {\n        width: 1920,\n        height: 1080,\n      })\n      .then(cameraStream => {\n        console.log('stream', cameraStream);\n        stream = cameraStream;\n      })\n      .catch(error => {\n        console.log('error', error);\n      });\n  });\n\n  onDestroy(() => {\n    cameraPhoto?.stopCamera();\n  });\n\n  const handleTakePhoto = () => {\n    const document = $documents.find(d => d.type === documentType);\n    if (!cameraPhoto || !document || $isDisabled) return;\n    const base64 = cameraPhoto.getDataUri(\n      $configuration.settings?.cameraSettings || $uiPack.settings.cameraSettings,\n    );\n    const newDocumentsState = updateDocument(document.type, base64, $documents);\n    $documents = newDocumentsState;\n    goToNextStep(currentStepId, $configuration, $currentStepId);\n    toggleOnIsDisabled();\n  };\n\n  preloadNextStepByCurrent($configuration, configuration, $currentStepId, $uiPack);\n</script>\n\n<div class=\"container\" {style}>\n  {#each step.elements as element}\n    {#if element.type === Elements.IconButton}\n      <IconButton\n        configuration={element.props}\n        on:click={() => goToPrevStep(currentStepId, $configuration, $currentStepId)}\n      />\n    {/if}\n    {#if element.type === Elements.VideoContainer}\n      <VideoContainer configuration={element.props}>\n        <!-- svelte-ignore a11y-media-has-caption -->\n        <video bind:this={video} autoplay playsinline />\n      </VideoContainer>\n    {/if}\n    {#if element.type === Elements.Loader && stream === undefined}\n      <Loader />\n    {/if}\n  {/each}\n  <div class=\"header\">\n    {#each step.elements as element}\n      {#if element.type === Elements.Title}\n        <Title configuration={element.props}>\n          <T key={`title`} namespace={stepNamespace} />\n        </Title>\n      {/if}\n      {#if element.type === Elements.Paragraph}\n        <Paragraph configuration={element.props}>\n          <T key={`description`} namespace={stepNamespace} />\n        </Paragraph>\n      {/if}\n    {/each}\n  </div>\n  {#if documentType}\n    <Overlay type={documentType} />\n  {/if}\n  {#each step.elements as element}\n    {#if element.type === Elements.CameraButton}\n      <CameraButton\n        on:click={handleTakePhoto}\n        configuration={element.props}\n        isDisabled={$isDisabled}\n      />\n    {/if}\n  {/each}\n</div>\n\n<style>\n  .container {\n    height: 100%;\n    position: var(--position);\n    background: var(--background);\n    text-align: center;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-between;\n  }\n  .header {\n    text-align: center;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n  }\n</style>\n","<script lang=\"ts\">\n  import { T } from '../contexts/translation';\n  import { Title, IconButton, Photo, Paragraph, IconCloseButton } from '../atoms';\n  import { configuration } from '../contexts/configuration';\n  import { Elements } from '../contexts/configuration/types';\n  import { goToPrevStep } from '../contexts/navigation';\n  import { getDocImage, IDocumentInfo } from '../contexts/app-state';\n  import { NavigationButtons } from '../molecules';\n  import { getLayoutStyles, getStepConfiguration, uiPack } from '../ui-packs';\n  import { preloadNextStepByCurrent } from '../services/preload-service';\n  import { documents, selectedDocumentInfo, currentStepId, appState } from '../contexts/app-state';\n  import {\n    EActionNames,\n    sendButtonClickEvent,\n    EVerificationStatuses,\n  } from '../utils/event-service';\n  import { getFlowConfig } from '../contexts/flows/hooks';\n\n  export let stepId;\n\n  const step = getStepConfiguration($configuration, $uiPack, stepId);\n  const flow = getFlowConfig($configuration);\n  const style = getLayoutStyles($configuration, $uiPack, step);\n\n  const stepNamespace = step.namespace!;\n\n  let image: string;\n  let documentInfo: IDocumentInfo | undefined = undefined;\n\n  $: {\n    documentInfo = step.documentInfo || $selectedDocumentInfo;\n    if ($documents.length === 0 || !documentInfo) {\n      goToPrevStep(currentStepId, $configuration, $currentStepId);\n    }\n    if (documentInfo) {\n      image = getDocImage(documentInfo.type, $documents, 'back');\n    }\n  }\n\n  preloadNextStepByCurrent($configuration, configuration, $currentStepId, $uiPack);\n</script>\n\n<div class=\"container\" {style}>\n  {#each step.elements as element}\n    {#if element.type === Elements.IconButton}\n      <IconButton\n        configuration={element.props}\n        on:click={() => goToPrevStep(currentStepId, $configuration, $currentStepId)}\n      />\n    {/if}\n    {#if element.type === Elements.IconCloseButton && flow.showCloseButton}\n      <IconCloseButton\n        configuration={element.props}\n        on:click={() => {\n          sendButtonClickEvent(\n            EActionNames.CLOSE,\n            { status: EVerificationStatuses.DATA_COLLECTION },\n            $appState,\n            true,\n          );\n        }}\n      />\n    {/if}\n    {#if element.type === Elements.Title}\n      <Title configuration={element.props}>\n        <T key=\"title\" namespace={stepNamespace} />\n      </Title>\n    {/if}\n    {#if element.type === Elements.Paragraph}\n      <Paragraph configuration={element.props}>\n        <T key=\"description\" namespace={stepNamespace} />\n      </Paragraph>\n    {/if}\n    {#if element.type === Elements.Photo}\n      <Photo configuration={element.props} src={image} />\n    {/if}\n  {/each}\n  <NavigationButtons />\n</div>\n\n<style>\n  .container {\n    padding: var(--padding);\n    position: var(--position);\n    background: var(--background);\n    text-align: center;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n  }\n</style>\n","export const flowStart = () => {\n  return;\n};\n\nexport const visitedPage = (pathname: string, search: string) => {\n  return;\n};\n\nexport const flowApproved = () => {\n  return;\n};\n\nexport const flowDeclined = () => {\n  return;\n};\n\nexport const flowResubmission = () => {\n  return;\n};\n\nexport const flowUploadLoader = () => {\n  return;\n};\n\nexport const flowError = () => {\n  return;\n};\n","<script lang=\"ts\">\n  import { onDestroy } from 'svelte';\n  import { T } from '../contexts/translation';\n  import { Image, Button, Title, Paragraph, IconButton, IconCloseButton } from '../atoms';\n  import { configuration } from '../contexts/configuration';\n  import { appState, currentParams } from '../contexts/app-state';\n  import { Elements } from '../contexts/configuration/types';\n  import { flowApproved } from '../services/analytics';\n  import {\n    EActionNames,\n    sendButtonClickEvent,\n    sendFlowCompleteEvent,\n    EVerificationStatuses,\n  } from '../utils/event-service';\n  import { DecisionStatus } from '../contexts/app-state/types';\n  import { getLayoutStyles, getStepConfiguration, uiPack } from '../ui-packs';\n  import { getFlowConfig } from '../contexts/flows/hooks';\n\n  export let stepId;\n\n  const step = getStepConfiguration($configuration, $uiPack, stepId);\n  const flow = getFlowConfig($configuration);\n  const style = getLayoutStyles($configuration, $uiPack, step);\n\n  const stepNamespace = step.namespace!;\n\n  flowApproved();\n\n  const handleClose = () => {\n    sendFlowCompleteEvent({\n      status: EVerificationStatuses.COMPLETED,\n      idvResult: DecisionStatus.APPROVED,\n    });\n  };\n\n  onDestroy(() => {\n    $currentParams = null;\n  });\n</script>\n\n<div class=\"container\" {style}>\n  {#each step.elements as element}\n    {#if element.type === Elements.IconButton}\n      <IconButton configuration={element.props} />\n    {/if}\n    {#if element.type === Elements.IconCloseButton && flow.showCloseButton}\n      <IconCloseButton\n        configuration={element.props}\n        on:click={() => {\n          sendButtonClickEvent(\n            EActionNames.CLOSE,\n            { status: EVerificationStatuses.DATA_COLLECTION },\n            $appState,\n            true,\n          );\n        }}\n      />\n    {/if}\n    {#if element.type === Elements.Image}\n      <Image configuration={element.props} />\n    {/if}\n    {#if element.type === Elements.Title}\n      <Title configuration={element.props}>\n        <T key=\"title\" namespace={stepNamespace} />\n      </Title>\n    {/if}\n    {#if element.type === Elements.Paragraph}\n      <Paragraph configuration={element.props}>\n        <T key={element.props.context || 'description'} namespace={stepNamespace} />\n      </Paragraph>\n    {/if}\n    {#if element.type === Elements.Button}\n      <Button on:click={handleClose} configuration={element.props}>\n        <T key=\"button\" namespace={stepNamespace} />\n      </Button>\n    {/if}\n  {/each}\n</div>\n\n<style>\n  .container {\n    display: flex;\n    flex-direction: column;\n    padding: var(--padding);\n    position: relative;\n    background: var(--background);\n    text-align: center;\n    height: 100%;\n  }\n</style>\n","<script lang=\"ts\">\n  import { T } from '../contexts/translation';\n  import { IconButton, IconCloseButton, Image, NextStepButton, Paragraph, Title } from '../atoms';\n  import { configuration } from '../contexts/configuration';\n  import { goToNextStep, goToPrevStep } from '../contexts/navigation/hooks';\n  import { Elements, Steps } from '../contexts/configuration/types';\n  import { ICameraEvent, nativeCameraHandler } from '../utils/photo-utils';\n  import { getFlowConfig, isNativeCamera } from '../contexts/flows/hooks';\n  import { preloadNextStepByCurrent } from '../services/preload-service';\n  import {\n    selectedDocumentInfo,\n    selfieUri,\n    currentStepId,\n    appState,\n  } from '../contexts/app-state/stores';\n  import {\n    EActionNames,\n    EVerificationStatuses,\n    sendButtonClickEvent,\n  } from '../utils/event-service';\n  import { getLayoutStyles, getStepConfiguration, uiPack } from '../ui-packs';\n  import { createToggle } from '../hooks/createToggle/createToggle';\n\n  export let stepId;\n\n  const step = getStepConfiguration($configuration, $uiPack, stepId);\n  const flow = getFlowConfig($configuration);\n  const style = getLayoutStyles($configuration, $uiPack, step);\n\n  const stepNamespace = step.namespace!;\n\n  let skipBackSide = false;\n\n  $: {\n    if ($selectedDocumentInfo && !$selectedDocumentInfo.backSide) {\n      skipBackSide = true;\n    }\n  }\n\n  const [isDisabled, , toggleOnIsDisabled] = createToggle();\n  const handler = async (e: ICameraEvent) => {\n    if (!e.target || $isDisabled) return;\n    $selfieUri = await nativeCameraHandler(e);\n    goToNextStep(currentStepId, $configuration, $currentStepId);\n    toggleOnIsDisabled();\n  };\n\n  preloadNextStepByCurrent($configuration, configuration, $currentStepId, $uiPack);\n</script>\n\n<div class=\"container\" {style}>\n  {#each step.elements as element}\n    {#if element.type === Elements.IconButton}\n      <IconButton\n        configuration={element.props}\n        on:click={() =>\n          goToPrevStep(\n            currentStepId,\n            $configuration,\n            $currentStepId,\n            skipBackSide ? 'back-side' : undefined,\n          )}\n      />\n    {/if}\n    {#if element.type === Elements.IconCloseButton && flow.showCloseButton}\n      <IconCloseButton\n        configuration={element.props}\n        on:click={() => {\n          sendButtonClickEvent(\n            EActionNames.CLOSE,\n            { status: EVerificationStatuses.DATA_COLLECTION },\n            $appState,\n            true,\n          );\n        }}\n      />\n    {/if}\n    {#if element.type === Elements.Image}\n      <Image configuration={element.props} />\n    {/if}\n    {#if element.type === Elements.Title}\n      <Title configuration={element.props}>\n        <T key=\"title\" namespace={stepNamespace} />\n      </Title>\n    {/if}\n    {#if element.type === Elements.Paragraph}\n      <Paragraph configuration={element.props}>\n        <T key={element.props.context || 'description'} namespace={stepNamespace} />\n      </Paragraph>\n    {/if}\n    {#if element.type === Elements.Button}\n      <div class=\"button-container\">\n        {#if isNativeCamera($configuration)}\n          <input\n            class=\"camera-input\"\n            type=\"file\"\n            accept=\"image/*\"\n            capture=\"user\"\n            on:change={handler}\n          />\n        {/if}\n        <NextStepButton configuration={element.props} disabled={$isDisabled}>\n          <T key=\"button\" namespace={stepNamespace} />\n        </NextStepButton>\n      </div>\n    {/if}\n  {/each}\n</div>\n\n<style>\n  .container {\n    display: flex;\n    flex-direction: column;\n    padding: var(--padding);\n    position: var(--position);\n    text-align: center;\n    height: 100%;\n    background: var(--background);\n  }\n  .button-container {\n    position: relative;\n  }\n  .camera-input {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0px;\n    left: 0px;\n    z-index: 3;\n    opacity: 0;\n    cursor: pointer;\n  }\n</style>\n","export const isMobile = () => {\n  const toMatch = [\n    /Android/i,\n    /webOS/i,\n    /iPhone/i,\n    /iPad/i,\n    /iPod/i,\n    /BlackBerry/i,\n    /Windows Phone/i,\n  ];\n\n  return toMatch.some(toMatchItem => {\n    return navigator.userAgent.match(toMatchItem);\n  });\n};\n","<script lang=\"ts\">\n  import CameraPhoto, { FACING_MODES } from 'jslib-html5-camera-photo';\n  import { T } from '../contexts/translation';\n  import { configuration } from '../contexts/configuration';\n  import { onDestroy, onMount } from 'svelte';\n  import {\n    CameraButton,\n    IconButton,\n    IconCloseButton,\n    Overlay,\n    Paragraph,\n    VideoContainer,\n    Loader,\n  } from '../atoms';\n  import { Elements } from '../contexts/configuration/types';\n  import { goToNextStep, goToPrevStep } from '../contexts/navigation';\n  import { currentStepId, DocumentType } from '../contexts/app-state';\n  import Title from '../atoms/Title/Title.svelte';\n  import { appState, selfieUri } from '../contexts/app-state/stores';\n  import { isMobile } from '../utils/is-mobile';\n  import { createToggle } from '../hooks/createToggle/createToggle';\n  import { preloadNextStepByCurrent } from '../services/preload-service';\n  import {\n    EActionNames,\n    EVerificationStatuses,\n    sendButtonClickEvent,\n  } from '../utils/event-service';\n  import { getLayoutStyles, getStepConfiguration, uiPack } from '../ui-packs';\n\n  let video: HTMLVideoElement;\n  let cameraPhoto: CameraPhoto | undefined = undefined;\n\n  export let stepId;\n\n  const step = getStepConfiguration($configuration, $uiPack, stepId);\n  const stepNamespace = step.namespace!;\n  const style = getLayoutStyles($configuration, $uiPack, step);\n\n  const [isDisabled, , toggleOnIsDisabled] = createToggle();\n\n  const facingMode = isMobile() ? FACING_MODES.USER : FACING_MODES.ENVIRONMENT;\n  let stream: MediaStream;\n\n  onMount(() => {\n    if (!video) return;\n    cameraPhoto = new CameraPhoto(video);\n    cameraPhoto\n      .startCamera(facingMode, {\n        width: 1920,\n        height: 1080,\n      })\n      .then(cameraStream => {\n        console.log('stream', cameraStream);\n        stream = cameraStream\n      })\n      .catch(error => {\n        console.log('error', error);\n      });\n  });\n\n  onDestroy(() => {\n    cameraPhoto?.stopCamera();\n  });\n\n  const handleTakePhoto = () => {\n    if (!cameraPhoto || $isDisabled) return;\n\n    const dataUri = cameraPhoto.getDataUri(\n      $configuration.settings?.selfieCameraSettings || $uiPack.settings.cameraSettings,\n    );\n    $selfieUri = dataUri;\n    goToNextStep(currentStepId, $configuration, $currentStepId);\n    toggleOnIsDisabled();\n  };\n\n  preloadNextStepByCurrent($configuration, configuration, $currentStepId, $uiPack);\n</script>\n\n<div class=\"container\" {style}>\n  {#each step.elements as element}\n    {#if element.type === Elements.IconButton}\n      <IconButton\n        configuration={element.props}\n        on:click={() => goToPrevStep(currentStepId, $configuration, $currentStepId)}\n      />\n    {/if}\n    {#if element.type === Elements.IconCloseButton}\n      <IconCloseButton\n        configuration={element.props}\n        on:click={() => {\n          sendButtonClickEvent(\n            EActionNames.CLOSE,\n            { status: EVerificationStatuses.DATA_COLLECTION },\n            $appState,\n            true,\n          );\n        }}\n      />\n    {/if}\n    {#if element.type === Elements.VideoContainer}\n      <VideoContainer configuration={element.props} isSelfie>\n        <!-- svelte-ignore a11y-media-has-caption -->\n        <video bind:this={video} autoplay playsinline />\n      </VideoContainer>\n    {/if}\n    {#if element.type === Elements.Loader && stream === undefined}\n      <Loader />\n    {/if}\n    {#if element.type === Elements.Title}\n      <Title configuration={element.props}>\n        <T key=\"title\" namespace={stepNamespace} />\n      </Title>\n    {/if}\n    {#if element.type === Elements.Paragraph}\n      <Paragraph configuration={element.props}>\n        <T key=\"description\" namespace={stepNamespace} />\n      </Paragraph>\n    {/if}\n  {/each}\n  <Overlay type={DocumentType.SELFIE} />\n  {#each step.elements as element}\n    {#if element.type === Elements.CameraButton}\n      <CameraButton\n        on:click={handleTakePhoto}\n        configuration={element.props}\n        isDisabled={$isDisabled}\n      />\n    {/if}\n  {/each}\n</div>\n\n<style>\n  .container {\n    height: 100%;\n    position: var(--position);\n    background: var(--background);\n    text-align: center;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n  }\n</style>\n","<script lang=\"ts\">\n  import { T } from '../contexts/translation';\n  import { Title, IconButton, IconCloseButton } from '../atoms';\n  import { configuration } from '../contexts/configuration';\n  import { Elements } from '../contexts/configuration/types';\n  import { goToPrevStep } from '../contexts/navigation';\n  import Paragraph from '../atoms/Paragraph/Paragraph.svelte';\n  import NavigationButtons from '../molecules/NavigationButtons/NavigationButtons.svelte';\n  import Photo from '../atoms/Photo/Photo.svelte';\n  import { selfieUri, currentStepId, appState } from '../contexts/app-state';\n  import {\n    EActionNames,\n    sendButtonClickEvent,\n    EVerificationStatuses,\n  } from '../utils/event-service';\n  import { getLayoutStyles, getStepConfiguration, uiPack } from '../ui-packs';\n  import { getFlowConfig } from '../contexts/flows/hooks';\n\n  export let stepId;\n\n  const step = getStepConfiguration($configuration, $uiPack, stepId);\n  const flow = getFlowConfig($configuration);\n  const style = getLayoutStyles($configuration, $uiPack, step);\n\n  const stepNamespace = step.namespace!;\n\n</script>\n\n<div class=\"container\" {style}>\n  {#each step.elements as element}\n    {#if element.type === Elements.Photo}\n      <Photo src={$selfieUri} configuration={element.props} />\n    {/if}\n    {#if element.type === Elements.IconButton}\n      <IconButton\n        configuration={element.props}\n        on:click={() => goToPrevStep(currentStepId, $configuration, $currentStepId)}\n      />\n    {/if}\n    {#if element.type === Elements.IconCloseButton && flow.showCloseButton}\n      <IconCloseButton\n        configuration={element.props}\n        on:click={() => {\n          sendButtonClickEvent(\n            EActionNames.CLOSE,\n            { status: EVerificationStatuses.DATA_COLLECTION },\n            $appState,\n            true,\n          );\n        }}\n      />\n    {/if}\n    {#if element.type === Elements.Title}\n      <Title configuration={element.props}>\n        <T key=\"title\" namespace={stepNamespace} />\n      </Title>\n    {/if}\n    {#if element.type === Elements.Paragraph}\n      <Paragraph configuration={element.props}>\n        <T key=\"description\" namespace={stepNamespace} />\n      </Paragraph>\n    {/if}\n  {/each}\n  <NavigationButtons />\n</div>\n\n<style>\n  .container {\n    padding: var(--padding);\n    position: var(--position);\n    background: var(--background);\n    text-align: center;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n  }\n</style>\n","import { DevMocks, IDocument, ISelectedParams, IStoreData } from '../../contexts/app-state';\nimport { IDocumentVerificationResponse, ISendDocumentsResponse } from './types';\nimport { getFlowConfig } from '../../contexts/flows/hooks';\nimport { IAppConfiguration } from '../../contexts/configuration';\nimport {\n  getAuthorizationHeader,\n  getIsDevelopment,\n  getStartVerificationEndpoint,\n  getVerificationStatusEndpoint,\n} from '../../contexts/configuration/getters';\nimport { DecisionStatus } from '../../contexts/app-state/types';\nimport { AnyRecord } from '../../../types';\n\nconst outerScopeContext = window.__blrn_context;\nconst docTypeMapping = {\n  documentBack: 'document-back',\n  documentFront: 'document-front',\n  selfie: 'face',\n};\n\nexport const generateParams = (data: IDocumentVerificationResponse): ISelectedParams => {\n  const params: ISelectedParams = { sync: true };\n  Object.keys(data).forEach(key => {\n    const value = data[key as keyof IDocumentVerificationResponse] as string;\n    params[key] = value;\n  });\n  return params;\n};\n\nconst staticHeaders = {\n  mode: 'no-cors',\n  'Content-Type': 'application/json',\n};\n\nconst httpPost = async <TResponse>(url: string, body: AnyRecord) => {\n  const response = await fetch(url, {\n    method: 'POST',\n    headers: {\n      Authorization: getAuthorizationHeader(),\n      ...staticHeaders,\n    },\n    body: JSON.stringify(body),\n  });\n  if (!response.ok) {\n    throw new Error(\n      `Error fetching ${url}. http code: ${response.status}, ${response.statusText}.`,\n    );\n  }\n  return response.json() as Promise<TResponse>;\n};\n\nconst httpGet = async (url: string) => {\n  const response = await fetch(url, {\n    method: 'GET',\n    headers: {\n      Authorization: getAuthorizationHeader(),\n    },\n  });\n  if (!response.ok) {\n    throw new Error(\n      `Error fetching ${url}. http code: ${response.status}, ${response.statusText}.`,\n    );\n  }\n  return response.json();\n};\n\nexport const getVerificationStatus = async (endUserId: string) => {\n  const verificationId = localStorage.getItem('verificationId') as string;\n  const endpointUrl = getVerificationStatusEndpoint({ verificationId });\n  // Enter a validation step here that would infer the response's type\n  return httpGet(endpointUrl) as Promise<IDocumentVerificationResponse>;\n};\n\nexport const verifyDocuments = async (\n  data: IStoreData,\n  endUserId: string,\n  configuration: IAppConfiguration,\n): Promise<ISendDocumentsResponse> => {\n  const documentsForUpload: {\n    metadata: Record<string, string>;\n    type: string;\n    pages: any;\n  }[] = [];\n  if (data.selfie) {\n    documentsForUpload.push({\n      type: docTypeMapping['selfie'],\n      metadata: {},\n      pages: [{ base64: data.selfie }],\n    });\n  }\n  documentsForUpload.push(...data.docs);\n\n  const endUserInfo = {\n    firstName: configuration.endUserInfo.firstName,\n    lastName: configuration.endUserInfo.lastName,\n    id: endUserId,\n    type: getFlowConfig(configuration).userType,\n    phone: configuration.endUserInfo.phone,\n    email: configuration.endUserInfo.email,\n    language: configuration.endUserInfo.language,\n  };\n  const payload: {\n    endUserInfo: typeof endUserInfo;\n    documents: typeof documentsForUpload;\n    devMocks?: DevMocks;\n  } = {\n    endUserInfo,\n    documents: documentsForUpload,\n  };\n\n  if (getIsDevelopment()) {\n    const devMocks: DevMocks = {\n      resultTime: (outerScopeContext && outerScopeContext.mockResultTime) || 7, // 3 seconds default\n      reasonCode: outerScopeContext && outerScopeContext.mockReasonCode,\n      code: outerScopeContext && outerScopeContext.mockCode,\n      idvResult: (outerScopeContext && outerScopeContext.mockIdvResult) || DecisionStatus.APPROVED,\n    };\n    payload.devMocks = devMocks;\n  }\n\n  const verificationRes = await httpPost<\n    ISendDocumentsResponse & {\n      verificationId: string;\n    }\n  >(getStartVerificationEndpoint(), payload);\n  localStorage.setItem('verificationId', verificationRes.verificationId);\n  return verificationRes;\n};\n","<script lang=\"ts\">\n  import { toast } from '@zerodevx/svelte-toast';\n  import { FlyingText, Loader } from '../atoms';\n  import { configuration } from '../contexts/configuration';\n  import {\n    currentParams,\n    currentStepId,\n    documents,\n    ISelectedParams,\n    IStoreData,\n    selectedDocumentInfo,\n    selfieUri,\n  } from '../contexts/app-state';\n  import { sendVerificationUpdateEvent } from '../utils/event-service';\n  import { ISendDocumentsResponse, EVerificationStatuses } from '../utils/event-service/types';\n  import { onDestroy, onMount } from 'svelte';\n  import { t } from '../contexts/translation/hooks';\n  import { flowUploadLoader } from '../services/analytics';\n  import { getFlowConfig } from '../contexts/flows/hooks';\n  import { generateParams, getVerificationStatus, verifyDocuments } from '../services/http';\n  import { DecisionStatus } from '../contexts/app-state/types';\n  import { preloadStepById } from '../services/preload-service';\n  import { getLayoutStyles, getStepConfiguration, uiPack } from '../ui-packs';\n  flowUploadLoader();\n\n  const WAITING_TIME = 1000 * 60 * 3; // 3 minutes\n\n  export let stepId;\n\n  const step = getStepConfiguration($configuration, $uiPack, stepId);\n  const style = getLayoutStyles($configuration, $uiPack, step);\n\n  const stepNamespace = step.namespace!;\n\n  let timeout: number;\n  let veryficationTimeout: number;\n  let dataVerified = false;\n  let review = false;\n  let showText = true;\n\n  const broofa = () => {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      var r = (Math.random() * 16) | 0,\n        v = c == 'x' ? r : (r & 0x3) | 0x8;\n      return v.toString(16);\n    });\n  };\n\n  const endUserId = $configuration.endUserInfo.id || broofa();\n  const checkStatus = async (data: ISendDocumentsResponse) => {\n    try {\n      const response = await getVerificationStatus(endUserId);\n      if (response.status === EVerificationStatuses.PENDING) {\n        veryficationTimeout = setTimeout(() => checkStatus(data), 2000);\n        return;\n      }\n      const params = generateParams(response);\n      sendVerificationUpdateEvent(response, response.idvResult === DecisionStatus.APPROVED);\n\n      showText = false;\n      if (\n        response.idvResult === DecisionStatus.DECLINED ||\n        response.idvResult === DecisionStatus.REVIEW\n      ) {\n        $currentParams = params;\n        await preloadStepById($configuration, configuration, 'decline', $uiPack);\n        $currentStepId = 'decline';\n      }\n      if (response.idvResult === DecisionStatus.RESUBMISSION_REQUESTED) {\n        $currentParams = params;\n        await preloadStepById($configuration, configuration, 'resubmission', $uiPack);\n        $currentStepId = 'resubmission';\n      }\n      if (response.idvResult === DecisionStatus.APPROVED) {\n        $currentParams = params;\n        await preloadStepById($configuration, configuration, 'final', $uiPack);\n        $currentStepId = 'final';\n      }\n    } catch (error) {\n      toast.push(t('general', 'errorDocumentVerification'));\n      veryficationTimeout = setTimeout(() => checkStatus(data), 2000);\n    }\n  };\n\n  const makeRequest = async (data: IStoreData) => {\n    let res;\n    try {\n      res = await verifyDocuments(data, endUserId, $configuration);\n    } catch (error) {\n      toast.push(t('general', 'errorDocuments'));\n      console.error('Error sending documents', error);\n      $currentParams = { message: error } as ISelectedParams;\n      await preloadStepById($configuration, configuration, 'error', $uiPack);\n      $currentStepId = 'error';\n      return;\n    }\n\n    dataVerified = true;\n    const flowConfig = getFlowConfig($configuration);\n    if (flowConfig.syncFlow) {\n      checkStatus(res);\n      return;\n    }\n    showText = false;\n    await preloadStepById($configuration, configuration, 'final', $uiPack);\n    $currentStepId = 'final';\n  };\n\n  onMount(() => {\n    const data: IStoreData = {\n      docs: $documents,\n      selectedDocumentInfo: $selectedDocumentInfo,\n      selfie: $selfieUri,\n    };\n    makeRequest(data);\n    timeout = setTimeout(async () => {\n      showText = false;\n      await preloadStepById($configuration, configuration, 'decline', $uiPack);\n      $currentStepId = 'decline';\n    }, WAITING_TIME);\n  });\n\n  onDestroy(() => {\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n    if (veryficationTimeout) {\n      clearTimeout(veryficationTimeout);\n    }\n  });\n</script>\n\n<div class=\"container\" {style}>\n  {#if showText}\n    {#if !review}\n      <div class=\"text-container\">\n        <FlyingText\n          texts={[\n            { text: t('loader', 'text-one'), startTime: 10, endTime: 5000 },\n            { text: t('loader', 'text-two'), startTime: 6000, endTime: 'infinity' },\n          ]}\n        />\n      </div>\n    {:else}\n      <div class=\"text-container\">\n        <FlyingText\n          texts={[{ text: t('loader', 'text-three'), startTime: 1000, endTime: 'infinity' }]}\n        />\n      </div>\n    {/if}\n  {/if}\n  <Loader />\n</div>\n\n<style>\n  .container {\n    padding: var(--padding);\n    position: relative;\n    background: var(--background);\n    text-align: center;\n    height: 100%;\n  }\n\n  .text-container {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, calc(-50% + -86px));\n    z-index: 100;\n  }\n</style>\n","<script lang=\"ts\">\n  import {\n    configuration as globalConfiguration,\n    ICSSProperties,\n    IElementProps,\n  } from '../../contexts/configuration';\n  import { getComponentStyles, uiPack } from '../../ui-packs';\n\n  export let configuration: IElementProps;\n\n  const styleProps = configuration.style as ICSSProperties;\n\n  const style = getComponentStyles($uiPack.errorText, $globalConfiguration.errorText, styleProps);\n</script>\n\n<div {style}>\n  <slot />\n</div>\n\n<style>\n  div {\n    background: var(--background);\n    border: var(--border);\n    color: var(--color);\n    border-radius: var(--border-radius);\n    padding: var(--padding);\n    margin: var(--margin);\n    font-size: var(--font-size);\n    text-align: var(--text-align);\n  }\n</style>\n","<script lang=\"ts\">\n  import { T } from '../contexts/translation';\n  import { Image, Button, Title, IconCloseButton } from '../atoms';\n  import { configuration, Steps } from '../contexts/configuration';\n  import { currentStepId, currentParams, appState } from '../contexts/app-state';\n  import { Elements } from '../contexts/configuration/types';\n  import ErrorText from '../atoms/ErrorText/ErrorText.svelte';\n  import { flowResubmission } from '../services/analytics';\n  import { onDestroy } from 'svelte';\n  import {\n    EActionNames,\n    sendButtonClickEvent,\n    EVerificationStatuses,\n  } from '../utils/event-service';\n  import { getLayoutStyles, getStepConfiguration, uiPack } from '../ui-packs';\n  import { getFlowConfig } from '../contexts/flows/hooks';\n\n  export let stepId;\n\n  const step = getStepConfiguration($configuration, $uiPack, stepId);\n  const flow = getFlowConfig($configuration);\n  const style = getLayoutStyles($configuration, $uiPack, step);\n\n  const stepNamespace = step.namespace!;\n  const hasDocumentSelection = !!($configuration.steps && $configuration.steps[Steps.DocumentSelection]) && !!$uiPack.steps[Steps.DocumentSelection];\n\n\n  const reasonCode = $currentParams ? $currentParams.reasonCode : null;\n\n  const handleNavigate = () => {\n    if (hasDocumentSelection) {\n      $currentStepId = 'select-document';\n      return;\n    }\n    $currentStepId = 'document-start';\n  };\n\n  onDestroy(() => {\n    $currentParams = null;\n  });\n\n  flowResubmission();\n</script>\n\n<div class=\"container\" {style}>\n  {#each step.elements as element}\n    {#if element.type === Elements.Image}\n      <Image configuration={element.props} />\n    {/if}\n    {#if element.type === Elements.IconCloseButton && flow.showCloseButton}\n      <IconCloseButton\n        configuration={element.props}\n        on:click={() => {\n          sendButtonClickEvent(\n            EActionNames.CLOSE,\n            { status: EVerificationStatuses.DATA_COLLECTION },\n            $appState,\n            true,\n          );\n        }}\n      />\n    {/if}\n    {#if element.type === Elements.Title}\n      <Title configuration={element.props}>\n        <T key={`${reasonCode}-title`} namespace={stepNamespace} />\n      </Title>\n    {/if}\n    {#if element.type === Elements.ErrorText}\n      <ErrorText configuration={element.props}>\n        <T key={`${reasonCode}-description`} namespace={stepNamespace} />\n      </ErrorText>\n    {/if}\n    {#if element.type === Elements.Button}\n      <Button configuration={element.props} on:click={handleNavigate}>\n        <T key={`${reasonCode}-button`} namespace={stepNamespace} />\n      </Button>\n    {/if}\n  {/each}\n</div>\n\n<style>\n  .container {\n    padding: var(--padding);\n    position: relative;\n    background: var(--background);\n    text-align: center;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n  }\n</style>\n","<script lang=\"ts\">\n  import { onDestroy } from 'svelte';\n  import { T } from '../contexts/translation';\n  import { Image, Button, Title, IconCloseButton } from '../atoms';\n  import { configuration } from '../contexts/configuration';\n  import { Elements } from '../contexts/configuration/types';\n  import ErrorText from '../atoms/ErrorText/ErrorText.svelte';\n  import {\n    EActionNames,\n    sendButtonClickEvent,\n    sendFlowCompleteEvent,\n    EVerificationStatuses,\n  } from '../utils/event-service';\n  import { flowDeclined } from '../services/analytics';\n  import { currentParams, appState } from '../contexts/app-state';\n  import { DecisionStatus } from '../contexts/app-state/types';\n  import { getLayoutStyles, getStepConfiguration, uiPack } from '../ui-packs';\n  import { getFlowConfig } from '../contexts/flows/hooks';\n\n  export let stepId;\n\n  const step = getStepConfiguration($configuration, $uiPack, stepId);\n  const flow = getFlowConfig($configuration);\n  const style = getLayoutStyles($configuration, $uiPack, step);\n\n  const stepNamespace = step.namespace!;\n\n  const handleClose = () => {\n    sendFlowCompleteEvent({\n      status: EVerificationStatuses.COMPLETED,\n      idvResult: DecisionStatus.DECLINED,\n    });\n  };\n\n  onDestroy(() => {\n    $currentParams = null;\n  });\n\n  flowDeclined();\n</script>\n\n<div class=\"container\" {style}>\n  {#each step.elements as element}\n    {#if element.type === Elements.IconCloseButton && flow.showCloseButton}\n      <IconCloseButton\n        configuration={element.props}\n        on:click={() => {\n          sendButtonClickEvent(\n            EActionNames.CLOSE,\n            { status: EVerificationStatuses.DATA_COLLECTION },\n            $appState,\n            true,\n          );\n        }}\n      />\n    {/if}\n    {#if element.type === Elements.Image}\n      <Image configuration={element.props} />\n    {/if}\n    {#if element.type === Elements.Title}\n      <Title configuration={element.props}>\n        <T key=\"title\" namespace={stepNamespace} />\n      </Title>\n    {/if}\n    {#if element.type === Elements.ErrorText}\n      <ErrorText configuration={element.props}>\n        <T key=\"description\" namespace={stepNamespace} />\n      </ErrorText>\n    {/if}\n    {#if element.type === Elements.Button}\n      <Button configuration={element.props} on:click={handleClose}>\n        <T key=\"button\" namespace={stepNamespace} />\n      </Button>\n    {/if}\n  {/each}\n</div>\n\n<style>\n  .container {\n    padding: var(--padding);\n    position: relative;\n    background: var(--background);\n    text-align: center;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n  }\n</style>\n","<script lang=\"ts\">\n  import { T } from '../contexts/translation';\n  import { onDestroy } from 'svelte';\n  import { Image, Button, Title, IconCloseButton } from '../atoms';\n  import { configuration } from '../contexts/configuration';\n  import { appState, currentParams } from '../contexts/app-state';\n  import { Elements } from '../contexts/configuration/types';\n  import ErrorText from '../atoms/ErrorText/ErrorText.svelte';\n  import {\n    EActionNames,\n    sendButtonClickEvent,\n    sendFlowCompleteEvent,\n    EVerificationStatuses,\n  } from '../utils/event-service';\n  import { flowError } from '../services/analytics';\n  import { DecisionStatus } from '../contexts/app-state/types';\n  import { getLayoutStyles, getStepConfiguration, uiPack } from '../ui-packs';\n  import { getFlowConfig } from '../contexts/flows/hooks';\n\n  export let stepId;\n\n  const step = getStepConfiguration($configuration, $uiPack, stepId);\n  const flow = getFlowConfig($configuration);\n  const style = getLayoutStyles($configuration, $uiPack, step);\n\n  const stepNamespace = step.namespace!;\n  const message = $currentParams ? $currentParams.message : '';\n\n  const handleClose = () => {\n    sendFlowCompleteEvent({\n      status: EVerificationStatuses.ERROR,\n      idvResult: DecisionStatus.DECLINED,\n    });\n  };\n\n  flowError();\n\n  onDestroy(() => {\n    $currentParams = null;\n  });\n</script>\n\n<div class=\"container\" {style}>\n  {#each step.elements as element}\n    {#if element.type === Elements.Image}\n      <Image configuration={element.props} />\n    {/if}\n    {#if element.type === Elements.IconCloseButton && flow.showCloseButton}\n      <IconCloseButton\n        configuration={element.props}\n        on:click={() => {\n          sendButtonClickEvent(\n            EActionNames.CLOSE,\n            { status: EVerificationStatuses.DATA_COLLECTION },\n            $appState,\n            true,\n          );\n        }}\n      />\n    {/if}\n    {#if element.type === Elements.Title}\n      <Title configuration={element.props}>\n        <T key=\"title\" namespace={stepNamespace} />\n      </Title>\n    {/if}\n    {#if element.type === Elements.ErrorText}\n      <ErrorText configuration={element.props}>\n        {#if message}\n          {message}\n        {:else}\n          <T key=\"description\" namespace={stepNamespace} />\n        {/if}\n      </ErrorText>\n    {/if}\n    {#if element.type === Elements.Button}\n      <Button configuration={element.props} on:click={handleClose}>\n        <T key=\"button\" namespace={stepNamespace} />\n      </Button>\n    {/if}\n  {/each}\n</div>\n\n<style>\n  .container {\n    padding: var(--padding);\n    position: relative;\n    background: var(--background);\n    text-align: center;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n  }\n</style>\n","import { Steps } from '../configuration';\nimport {\n  Welcome,\n  DocumentSelection,\n  DocumentStart,\n  DocumentPhoto,\n  CheckDocument,\n  DocumentPhotoBack,\n  CheckDocumentPhotoBack,\n  SelfieStart,\n  Selfie,\n  CheckSelfie,\n  Final,\n  DocumentPhotoBackStart,\n  Loading,\n  Resubmission,\n  Decline,\n  ErrorPage,\n} from '../../pages';\n\nexport const steps = [\n  { name: Steps.Welcome, component: Welcome },\n  { name: Steps.DocumentSelection, component: DocumentSelection },\n  { name: Steps.DocumentStart, component: DocumentStart },\n  { name: Steps.DocumentPhoto, component: DocumentPhoto },\n  { name: Steps.CheckDocument, component: CheckDocument },\n  {\n    name: Steps.DocumentPhotoBackStart,\n    component: DocumentPhotoBackStart,\n    type: 'back-side',\n  },\n  {\n    name: Steps.DocumentPhotoBack,\n    component: DocumentPhotoBack,\n    type: 'back-side',\n  },\n  {\n    name: Steps.CheckDocumentPhotoBack,\n    component: CheckDocumentPhotoBack,\n    type: 'back-side',\n  },\n  { name: Steps.SelfieStart, component: SelfieStart },\n  { name: Steps.Selfie, component: Selfie },\n  { name: Steps.CheckSelfie, component: CheckSelfie },\n  { name: Steps.Loading, component: Loading },\n  {\n    name: Steps.Resubmission,\n    component: Resubmission,\n    type: 'no-flow-part',\n  },\n  { name: Steps.Decline, component: Decline, type: 'no-flow-part' },\n  { name: Steps.Error, component: ErrorPage, type: 'no-flow-part' },\n  { name: Steps.Final, component: Final, type: 'no-flow-part' },\n];\n","import { IAppConfiguration } from '../configuration';\nimport { steps } from './constants';\nimport { getFlowOrders } from '../flows/hooks';\nimport { Writable } from '../../../../node_modules/svelte/types/runtime/store/index';\n\nconst filterOutByType = (flowIds: string[], configuration: IAppConfiguration, type?: string) => {\n  if (!type) return flowIds;\n  return flowIds.filter(id => {\n    const stepConfiguration = configuration.steps[id];\n    const step = steps.find(s => s.name === stepConfiguration.name);\n    return step?.type !== type;\n  });\n};\n\nexport const getNextStepId = (\n  globalConfiguration: IAppConfiguration,\n  currentStepId: string,\n  skipType?: string,\n) => {\n  const stepsOrder = getFlowOrders(globalConfiguration) as string[];\n  const filteredFlows = filterOutByType(stepsOrder, globalConfiguration, skipType);\n  const currentFlowIndex = filteredFlows.findIndex(i => i === currentStepId);\n  if (currentFlowIndex === filteredFlows.length) {\n    throw Error(\"Next step doesn't exist\");\n  }\n  return filteredFlows[currentFlowIndex + 1];\n};\n\nexport const goToNextStep = (\n  currentStepIdStore: Writable<string>,\n  globalConfiguration: IAppConfiguration,\n  currentStepId: string,\n  skipType?: string,\n) => {\n  const nextStepId = getNextStepId(globalConfiguration, currentStepId, skipType);\n  currentStepIdStore.set(nextStepId);\n};\n\nexport const goToPrevStep = (\n  currentStepIdStore: Writable<string>,\n  globalConfiguration: IAppConfiguration,\n  currentStepId: string,\n  skipType?: string,\n) => {\n  const flows = getFlowOrders(globalConfiguration) as string[];\n  const filteredFlows = filterOutByType(flows, globalConfiguration, skipType);\n  const currentFlowIndex = filteredFlows.findIndex(i => i === currentStepId);\n  if (currentFlowIndex === 0) {\n    throw Error('Error moving step back, this is the first step');\n  }\n  currentStepIdStore.set(filteredFlows[currentFlowIndex - 1]);\n};\n","import merge from 'deepmerge';\nimport { Writable } from 'svelte/store';\nimport { IAppConfiguration, IAppConfigurationUI, IStepConfiguration } from '../../contexts/configuration';\nimport { getNextStepId } from '../../contexts/navigation';\n\nconst preloadByExtension = async (src: string): Promise<string> => {\n  if (src.includes('</svg>')) return src;\n  const extension = src.split('.').pop();\n  let svg: string | undefined;\n\n  if (extension === 'svg') {\n    const response = await fetch(src);\n\n    svg = await response.text();\n  }\n\n  return new Promise((resolve, reject) => {\n    if (svg) return resolve(svg);\n\n    const img = new Image();\n    img.onload = () => resolve(img.src);\n    img.onerror = reject;\n    img.src = src;\n  });\n};\n\nexport const preloadStepImages = async (step: IStepConfiguration, uiPack: IAppConfigurationUI): Promise<IStepConfiguration> => {\n  const defaultStepKey = Object.keys(uiPack.steps).find(\n    s => s === step.name,\n  ) as string;\n  const defaultStep = uiPack.steps[defaultStepKey];\n  const mergedStep = merge(defaultStep, step);\n  // TODO: Think about merging elements\n  mergedStep.elements = step.elements || defaultStep.elements;\n  const elements = [];\n  for (let index = 0; index < mergedStep.elements.length; index++) {\n    const element = mergedStep.elements[index];\n    if (element.props.attributes?.src) {\n      const src = await preloadByExtension(element.props.attributes?.src);\n      elements.push({\n        ...element,\n        props: {\n          ...element.props,\n          attributes: {\n            ...element.props.attributes,\n            src,\n          },\n        },\n      });\n    } else {\n      elements.push(element);\n    }\n  }\n  return {\n    ...step,\n    elements,\n  };\n};\n\n// To prevent preload twice\nconst preloadedSteps: Record<string, boolean> = {};\n\nexport const preloadNextStepByCurrent = async (\n  globalConfiguration: IAppConfiguration,\n  configuration: Writable<IAppConfiguration>,\n  currentStepId: string,\n  uiPack: IAppConfigurationUI,\n  skipType?: string,\n) => {\n  const nextStepId = getNextStepId(globalConfiguration, currentStepId, skipType);\n  if (preloadedSteps[nextStepId]) return;\n  const step = globalConfiguration.steps ? globalConfiguration.steps[nextStepId] : uiPack.steps[nextStepId];\n  const updatedStep = await preloadStepImages(step, uiPack);\n  const updatedConfiguration = {\n    ...globalConfiguration,\n    steps: {\n      ...globalConfiguration.steps,\n      [nextStepId]: updatedStep,\n    },\n  };\n  configuration.set(updatedConfiguration);\n  preloadedSteps[nextStepId] = true;\n};\n\nexport const preloadStepById = async (\n  globalConfiguration: IAppConfiguration,\n  configuration: Writable<IAppConfiguration>,\n  currentStepId: string,\n  uiPack: IAppConfigurationUI,\n) => {\n  if (preloadedSteps[currentStepId]) return;\n  const step = uiPack.steps[currentStepId];\n  const updatedStep = await preloadStepImages(step, uiPack);\n  const updatedConfiguration = {\n    ...globalConfiguration,\n    steps: {\n      ...globalConfiguration.steps,\n      [currentStepId]: updatedStep,\n    },\n  };\n  configuration.set(updatedConfiguration);\n  preloadedSteps[currentStepId] = true;\n};\n","/* eslint-disable @typescript-eslint/no-unsafe-argument */\n/* eslint-disable @typescript-eslint/no-unsafe-return */\n/* eslint-disable @typescript-eslint/no-unsafe-assignment */\n/* eslint-disable @typescript-eslint/ban-types */\n/* eslint-disable @typescript-eslint/no-unsafe-call */\nimport mergeObj from 'deepmerge';\nimport translation from '../configuration/translation.json';\nimport { TranslationType } from '../contexts/translation';\nimport {\n  configuration,\n  IAppConfiguration,\n  IStepConfiguration,\n  Steps,\n} from '../contexts/configuration';\nimport { FlowsEventsConfig, FlowsInitOptions, FlowsTranslations } from '../../types/BallerineSDK';\nimport { IFlow } from '../contexts/flows';\nimport { IDocumentOptionItem } from '../organisms/DocumentOptions/types';\nimport { AnyRecord } from '../../types';\nimport { preloadStepImages } from '../services/preload-service/utils';\nimport { packs, uiPack } from '../ui-packs';\nimport { isUrl } from '../services/merge-service';\n\nconst keyBy = (array: any[], key: string | Function): any =>\n  (array || []).reduce((r, x) => {\n    const calcluatedKey = typeof key === 'function' ? key(x) : key;\n    return { ...r, [calcluatedKey]: x };\n  }, {});\nconst toObjByKey = (collection: any, key: string | Function) => {\n  const c = collection || {};\n  return Array.isArray(c) ? keyBy(c, key) : keyBy(Object.values(c), key);\n};\n\nexport let texts: TranslationType = translation;\n\nexport const updateConfiguration = async (configOverrides: RecursivePartial<FlowsInitOptions>) => {\n  let configurationResult: IAppConfiguration | undefined = undefined;\n  let uiTheme = packs.default;\n\n  configuration.update(currentConfig => {\n    const mergedConfig = mergeConfig(currentConfig, configOverrides);\n    configurationResult = mergedConfig;\n    return mergedConfig;\n  });\n\n  const config = (configurationResult as unknown as IAppConfiguration);\n\n  const pack = configOverrides.uiConfig?.uiPack as string;\n\n  if (isUrl(pack)) {\n    const packConfigResponse = await fetch(pack);\n    const packConfig = await packConfigResponse.json();\n    uiPack.set(packConfig);\n  } else {\n    uiPack.update(currentPack => {\n      // Check by existing ui pack names\n      if (!Object.keys(packs).includes(pack)) return currentPack;\n      const packName = pack as 'default' | 'future';\n      const updatedPack = packs[packName];\n      uiTheme = packs[packName];\n      return updatedPack;\n    });\n  }\n\n  uiPack.update(currentPack => {\n    // Check by existing ui pack names\n    if (!Object.keys(packs).includes(pack)) return currentPack;\n    const packName = pack as 'default' | 'future';\n    const updatedPack = packs[packName];\n    uiTheme = packs[packName];\n    return updatedPack;\n  });\n\n  config.steps[Steps.Welcome] = await preloadStepImages(config.steps[Steps.Welcome], uiTheme);\n  configuration.update(() => config);\n};\n\nexport const updateTranslations = async (translations: FlowsTranslations) => {\n  if (translations.overrides) {\n    texts = mergeObj(texts, translations.overrides);\n  }\n  if (translations.remoteUrl) {\n    try {\n      const response = await fetch(translations.remoteUrl);\n      const overrides = (await response.json()) as TranslationType;\n      texts = mergeObj(texts, overrides);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n};\n\nexport const mergeConfig = (\n  originalConfig: IAppConfiguration,\n  overrides: RecursivePartial<FlowsInitOptions>,\n) => {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  const newConfig: IAppConfiguration = mergeObj(\n    originalConfig,\n    v1adapter(overrides, originalConfig),\n  );\n  if (\n    newConfig.steps &&\n    newConfig.steps[Steps.DocumentSelection] &&\n    newConfig.steps[Steps.DocumentSelection].documentOptions &&\n    newConfig.documentOptions\n  ) {\n    const documentOptions = newConfig.steps[Steps.DocumentSelection].documentOptions?.reduce(\n      (docOpts, docType) => {\n        docOpts[docType] = newConfig.documentOptions?.options[docType];\n        return docOpts;\n      },\n      {} as IDocumentOptionItem,\n    );\n\n    if (!documentOptions) return newConfig;\n\n    newConfig.documentOptions.options = documentOptions;\n  }\n  return newConfig;\n};\n\nconst calcualteStepId = (step: RecursivePartial<IStepConfiguration>): string => {\n  if (!step.id || step.id === step.name) return `${step.name!}${step.type ? '-' + step.type : ''}`;\n  return step.id;\n};\n\nconst v1adapter = (\n  config: RecursivePartial<FlowsInitOptions>,\n  originalConfig: IAppConfiguration,\n):\n  | IAppConfiguration\n  // We should either infer the return type or correct it. endUserInfo is not supposed to be a partial and general not undefined.\n  | AnyRecord => {\n  const { uiConfig = {}, endUserInfo = {}, backendConfig = {} } = config;\n  const { flows = {}, general, components } = uiConfig;\n  const newFlows = {} as { [key: string]: IFlow };\n  let flowSteps = {};\n  for (const [flowName, flow] of Object.entries(flows)) {\n    if (flow) {\n      const { steps, ...flowConfig } = flow;\n      newFlows[flowName] = {\n        name: flowName,\n        ...flowConfig,\n      };\n      if (steps) {\n        newFlows[flowName].stepsOrder = steps\n          .map(e => calcualteStepId(e!))\n          // Not using !!v | Boolean(v) to be more explicit.\n          .filter((v): v is string => typeof v === 'string'); // check ts\n      }\n      const stepsConfig = toObjByKey(steps, calcualteStepId);\n      flowSteps = {\n        ...flowSteps,\n        ...stepsConfig,\n      };\n    }\n  }\n\n  return {\n    endUserInfo,\n    backendConfig,\n    flows: newFlows,\n    steps: flowSteps,\n    general: general || originalConfig.general,\n    ...components,\n  };\n};\n\n/**\n * @description Updates the configuration Svelte store callbacks object of a given flow by name.\n * @param flowName\n * @param callbacks\n */\nexport const setFlowCallbacks = async (flowName: string, callbacks: FlowsEventsConfig) => {\n  return updateConfiguration({\n    uiConfig: {\n      flows: {\n        [flowName]: {\n          callbacks,\n        },\n      },\n    },\n  });\n};\n","import { writable } from 'svelte/store';\nimport { Languages } from './types';\nimport { texts } from '../../utils/configuration-manager';\n\nexport const currentLanguage = writable<Languages>('en');\n\nlet language: string;\n\ncurrentLanguage.subscribe(lang => {\n  language = lang;\n});\n\nexport const t = (namespace: string, key: string) => {\n  let path = `${language}.${namespace}.${key}`;\n\n  let text = get(texts, path);\n  if (!text) {\n    const namespacePath = namespace.split('.');\n    const lastKey = namespacePath.pop();\n    path = `${language}.${namespacePath.join('.')}.${key}`;\n    text = get(texts, path);\n    console.log('fallback to default translation, missing key', lastKey);\n  }\n  return text || 'Missing translation: ' + path;\n};\n\nconst get = (obj: Record<string, unknown>, path: string): string => {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  const result = path.split('.').reduce((res, key) => res && res[key], obj);\n  return result;\n};\n","<script lang=\"ts\">\n  import { t } from './hooks';\n  import { currentLanguage } from './hooks';\n\n  export let namespace: string;\n  export let key: string;\n  let text: string;\n\n  currentLanguage.subscribe(() => {\n    text = t(namespace, key);\n  });\n</script>\n\n{text}\n","<script lang=\"ts\">\n  import { fly } from 'svelte/transition';\n  import { steps } from './lib/contexts/navigation';\n  import { configuration, IAppConfiguration } from './lib/contexts/configuration';\n  import { sendNavigationUpdateEvent } from './lib/utils/event-service';\n  import { visitedPage } from './lib/services/analytics';\n  import { currentStepId, currentStepIdx, currentParams } from './lib/contexts/app-state';\n\n  const configurationStepIds = Object.keys($configuration.steps);\n  let stepId = configurationStepIds[0];\n  let step = steps.find(s => s.name === $configuration.steps[stepId].name);\n\n  const routeInit = (currentStepId: string, currentStepIdx: number) => {\n    const configurationStepId = configurationStepIds.find((key: string) => key === currentStepId);\n    if (configurationStepId === stepId) return;\n    if (!configurationStepId) {\n      step = steps.find(s => s.name === currentStepId);\n    } else {\n      stepId = configurationStepId;\n      step = steps.find(s => s.name === $configuration.steps[stepId].name);\n      const newStepIndex = configurationStepIds.indexOf(stepId);\n      if (newStepIndex !== currentStepIdx) {\n        currentStepIdx = newStepIndex;\n        sendNavigationUpdateEvent();\n        visitedPage(currentStepId, $currentParams ? $currentParams.toString() : '');\n      } else {\n        // 404 error handling here\n      }\n    }\n  };\n\n  $: {\n    routeInit($currentStepId, $currentStepIdx);\n  }\n</script>\n\n{#if step}\n  {#key step.component}\n    <div\n      class=\"container\"\n      in:fly={{ x: -50, duration: 250, delay: 300 }}\n      out:fly={{ x: -50, duration: 250 }}\n    >\n      <svelte:component this={step.component} {stepId} />\n    </div>\n  {/key}\n{/if}\n\n<style>\n  .container {\n    height: 100%;\n  }\n</style>\n","<script lang=\"ts\">\n  import { SvelteToast } from '@zerodevx/svelte-toast';\n  import { initConnectionCheck } from './lib/utils/check-connection';\n  import { configuration } from './lib/contexts/configuration';\n  import { currentLanguage, Languages } from './lib/contexts/translation';\n  import { subscribe } from './lib/utils/event-service';\n  import Routes from './Routes.svelte';\n  import { t } from './lib/contexts/translation/hooks';\n  import { setFlowName } from './lib/contexts/flows';\n  import { uiPack } from './lib/ui-packs';\n\n  subscribe();\n  initConnectionCheck(t);\n\n  const urlParams = new URLSearchParams(window.location.search);\n\n  // const flowName = urlParams.get(\"b_fid\");\n  export let flowName;\n  setFlowName($configuration.flows, flowName);\n\n  $currentLanguage =\n    ($configuration.endUserInfo.language as Languages) || $configuration.defaultLanguage;\n\n  const style = `\n    --font-family: ${$configuration.general?.fonts?.name || $uiPack.general.fonts.name};\n    --primary-color: ${$configuration.general?.colors?.primary || $uiPack.general.colors.primary};\n    --secondary-color: ${\n      $configuration.general?.colors?.secondary || $uiPack.general.colors.secondary\n    };\n  `;\n</script>\n\n<svelte:head>\n  {#if $configuration.general?.fonts?.link || $uiPack.general.fonts.link}\n    <link\n      href={$configuration.general?.fonts?.link || $uiPack.general.fonts.link}\n      rel=\"stylesheet\"\n    />\n  {/if}\n</svelte:head>\n\n<main {style} id=\"blrn-app\">\n  <!-- <button on:click={handle}>Change</button> -->\n  <Routes />\n  <SvelteToast\n    options={{\n      theme: {\n        '--toastBackground':\n          $configuration.general?.colors?.primary || $uiPack.general.colors.primary,\n        '--toastBarBackground':\n          $configuration.general?.colors?.primary || $uiPack.general.colors.primary,\n      },\n    }}\n  />\n</main>\n\n<style>\n  main {\n    max-width: 500px;\n    width: 100%;\n    margin: 0 auto;\n    height: 100%;\n    overflow: hidden;\n  }\n\n  :global(html, body, #app) {\n    height: 100%;\n  }\n\n  :global(html, body, p, div, input) {\n    box-sizing: border-box;\n  }\n\n  :global(body) {\n    margin: 0px;\n  }\n\n  :global(p, div, body, button) {\n    font-family: var(--font-family);\n  }\n</style>\n","<script lang=\"ts\">\n  import { onMount } from 'svelte';\n  import App from './App.svelte';\n  import { BALLERINE_EVENT } from './lib/utils/event-service';\n  import { IOuterEvent } from './lib/utils/event-service/types';\n  import { isMobile } from './lib/utils/is-mobile';\n\n  let loading = true;\n  let modalOpened = true;\n  let mounted = true;\n\n  onMount(async () => {\n    loading = false;\n\n    const loader = document.getElementById('blrn-loader') as HTMLDivElement;\n    loader.style.display = 'none';\n  });\n  export let flowName: string;\n\n  export let useModal = false;\n\n  window.addEventListener(\n    'message',\n    e => {\n      const event = e.data as IOuterEvent;\n      if (event.eventName !== BALLERINE_EVENT) return;\n      if (event.shouldExit) {\n        modalOpened = false;\n        mounted = false;\n      }\n    },\n    false,\n  );\n</script>\n\n{#if !isMobile() && useModal}\n  {#if !loading && modalOpened}\n    <div class=\"background\">\n      <div class=\"content \">\n        <App {flowName} />\n      </div>\n    </div>\n  {/if}\n{:else if !loading}\n  {#if mounted}\n    <App {flowName} />\n  {/if}\n{/if}\n\n<style>\n  .background {\n    z-index: 9999;\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    overflow: hidden;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.6);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  .content {\n    width: 415px;\n    height: 660px;\n    box-shadow: 0px 20px 40px rgba(0, 0, 0, 0.05);\n    border-radius: 35px;\n    overflow: hidden;\n  }\n</style>\n","/**\n * @description Gets config specific query params as an object - see -docs url here-\n */\nexport const getConfigFromQueryParams = () => {\n  // Make sure non-unrelated query params are passed to the config\n  const {\n    b_uid,\n    b_cid,\n    b_t,\n    b_fn,\n    b_ln,\n    b_fid,\n    b_ph,\n    b_em,\n    b_lang,\n    b_eut,\n    // /?b_uid=&b_cid= --> { b_uid: '', b_cid: '' };\n  } = Object.fromEntries(new URLSearchParams(window.location.search));\n\n  const queryParamsConfig = {\n    flowName: b_fid,\n    clientId: b_cid,\n    id: b_uid,\n    token: b_t,\n    firstName: b_fn,\n    lastName: b_ln,\n    phone: b_ph,\n    email: b_em,\n    language: b_lang,\n    type: b_eut,\n  };\n\n  // Make sure no empty strings are passed to the config\n  return Object.entries(queryParamsConfig).reduce((acc, [key, value]) => {\n    if (!value) return acc;\n\n    // TODO: Remove casting and fix the type\n    acc[key as keyof typeof queryParamsConfig] = value;\n\n    return acc;\n  }, {} as typeof queryParamsConfig);\n};\n","import ConfigurationProvider from './ConfigurationProvider.svelte';\nimport type { BallerineSDKFlows, FlowsInitOptions } from './types/BallerineSDK';\nimport {\n  setFlowCallbacks,\n  updateConfiguration,\n  updateTranslations,\n} from './lib/utils/configuration-manager';\nimport { getConfigFromQueryParams } from './lib/utils/get-config-from-query-params';\n\nexport const flows: BallerineSDKFlows = {\n  // Use the b_fid query param as the default flowName, fallback to the passed flowName arg.\n  // Optional args/args with default values should probably be last.\n  // Async due to setFlowCallbacks using updateConfiguration, which is async.\n  async mount(flowName = getConfigFromQueryParams().flowName, elementId, config) {\n    const hostElement = document.getElementById(elementId);\n    if (hostElement) {\n      hostElement.innerHTML = `<div class=\"loader-container\" id=\"blrn-loader\">\n      <div class=\"loader\"></div>\n    </div>\n    `;\n    } else {\n      console.error('BallerineSDK: Could not find element with id', elementId);\n    }\n\n    new ConfigurationProvider({\n      target: document.getElementById(elementId) as HTMLElement,\n      props: {\n        flowName,\n      },\n    });\n\n    // Merge the passed in callbacks into the Svelte configuration store of the specified flow.\n    if (!config.callbacks) return;\n\n    await setFlowCallbacks(flowName, config.callbacks);\n  },\n  openModal(flowName, config) {\n    const hostElement = document.querySelector('body');\n    if (hostElement) {\n      hostElement.innerHTML = `<div class=\"loader-container\" id=\"blrn-loader\">\n      <div class=\"loader\"></div>\n    </div>\n    `;\n    } else {\n      console.error('BallerineSDK: Could not find element body');\n    }\n\n    new ConfigurationProvider({\n      target: hostElement as HTMLElement,\n      props: {\n        flowName,\n        useModal: true,\n      },\n    });\n  },\n  init: config => {\n    return new Promise((resolve, reject) => {\n      console.log(\n        'BallerineSDK: Initializing BallerineSDK with version: ',\n        __APP_VERSION__,\n        config,\n      );\n      const { translations, ...restConfig } = config;\n      // Extract config from query params\n      const {\n        clientId: _clientId,\n        flowName: _flowName,\n        ...endUserInfo\n      } = getConfigFromQueryParams();\n      // Merge the two config objects\n      const mergedConfig = {\n        ...restConfig,\n        endUserInfo: {\n          ...restConfig.endUserInfo,\n          ...endUserInfo,\n        },\n      };\n      const configPromise = updateConfiguration(mergedConfig);\n      const translationsPromise = config.translations\n        ? updateTranslations(config.translations)\n        : undefined;\n      Promise.all([configPromise, translationsPromise])\n        .then(() => resolve())\n        .catch(reject);\n    });\n  },\n  setConfig: function (config: FlowsInitOptions): Promise<void> {\n    throw new Error('Function not implemented.');\n  },\n};\n"],"names":["noop","identity","x","assign","tar","src","k","run","fn","blank_object","run_all","fns","is_function","thing","safe_not_equal","a","b","src_url_equal_anchor","src_url_equal","element_src","url","is_empty","obj","subscribe","store","callbacks","unsub","get_store_value","value","_","component_subscribe","component","callback","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","get_slot_changes","dirty","lets","merged","len","i","update_slot_base","slot","slot_definition","slot_changes","get_slot_context_fn","slot_context","get_all_dirty_from_scope","length","null_to_empty","set_store_value","ret","split_css_unit","split","is_client","now","raf","cb","tasks","run_tasks","task","loop","fulfill","append","target","node","append_styles","style_sheet_id","styles","append_styles_to","get_root_for_style","style","element","append_stylesheet","root","append_empty_stylesheet","style_element","insert","anchor","detach","destroy_each","iterations","detaching","name","svg_element","text","data","space","empty","listen","event","handler","options","attr","attribute","children","set_data","toggle_class","toggle","custom_event","type","detail","bubbles","cancelable","e","HtmlTag","is_svg","html","construct_svelte_component","props","managed_styles","active","hash","str","create_style_information","doc","info","create_rule","duration","delay","ease","uid","step","keyframes","p","t","rule","stylesheet","rules","animation","delete_rule","previous","next","anim","deleted","clear_rules","ownerNode","create_animation","from","params","to","easing","start_time","end","tick","css","running","started","start","stop","fix_position","width","height","add_transform","transform","current_component","set_current_component","get_current_component","onMount","onDestroy","createEventDispatcher","bubble","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","update_scheduled","schedule_update","flush","add_render_callback","seen_callbacks","flushidx","saved_component","update","$$","flush_render_callbacks","filtered","targets","c","promise","wait","dispatch","direction","kind","outroing","outros","group_outros","check_outros","transition_in","block","local","transition_out","null_transition","create_in_transition","config","animation_name","cleanup","go","end_time","create_out_transition","group","reset","outro_and_destroy_block","lookup","fix_and_outro_and_destroy_block","update_keyed_each","old_blocks","get_key","dynamic","list","destroy","create_each_block","get_context","o","n","old_indexes","new_blocks","new_lookup","deltas","updates","child_ctx","key","will_move","did_move","new_block","old_block","new_key","old_key","get_spread_update","levels","to_null_out","accounted_for","get_spread_object","spread_props","create_component","mount_component","customElement","fragment","after_update","new_on_destroy","destroy_component","make_dirty","init","instance","create_fragment","not_equal","parent_component","ready","rest","nodes","SvelteComponent","index","$$props","cubicOut","f","fade","linear","fly","y","opacity","target_opacity","od","xValue","xUnit","yValue","yUnit","u","flip","ox","oy","dx","dy","d","sx","sy","subscriber_queue","readable","writable","subscribers","set","new_value","run_queue","subscriber","invalidate","derived","stores","initial_value","single","stores_array","auto","values","pending","sync","result","unsubscribers","defaults","toast","count","_obj","msg","opts","param","conf","entry","id","idx","is_date","get_interpolator","arr","bi","delta","keys","interpolators","tweened","target_value","previous_task","interpolate","elapsed","raw_value","html_tag","div","if_block1","create_if_block","div0","div1","progress_1","item","progress","close","autoclose","$progress","prev","paused","pause","resume","componentProps","check","prop","unlisten","$$invalidate","sendIdTo","li","li_class_value","current","stop_animation","rect","li_intro","ul","items","getCss","theme","$toast","initConnectionCheck","Steps","Elements","defaultFlowOrder","configuration","isObjectEmpty","resolveStringTemplate","g","getBackendConfig","get","resolveEndpoint","endpointName","templateParams","backendConfig","_a","_c","_b","getStartVerificationEndpoint","getVerificationStatusEndpoint","getAuthorizationHeader","auth","getIsDevelopment","isMergeableObject","isNonNullObject","isSpecial","stringValue","isReactElement","canUseSymbol","REACT_ELEMENT_TYPE","emptyTarget","val","cloneUnlessOtherwiseSpecified","deepmerge","defaultArrayMerge","source","getMergeFunction","customMerge","getEnumerableOwnPropertySymbols","symbol","getKeys","propertyIsOnObject","object","property","propertyIsUnsafe","mergeObject","destination","sourceIsArray","targetIsArray","sourceAndTargetTypesMatch","array","deepmerge_1","cjs","hexTransparencies","cssProperties","setBackgroundWithOpacity","prefix","app","color","makeStylesFromConfiguration","globalComponentStyles","configStyles","setProperties","globalCss","localCss","hoverProperty","globalHoverProperties","localHoverProperties","globalActiveProperties","localActiveHoverProperties","makesLocalStyles","cssHoverProperties","cssActiveProperties","module","this","r","l","s","v","selfieUri","documents","selectedDocumentInfo","currentStepIdx","currentParams","currentRoute","previousPage","appState","$currentRoute","steps","currentStepId","DocumentType","DocumentVariant","DecisionStatus","getDocImage","docs","pageSide","page","backIconButton","closeIconButton","backWhiteIconButton","stepsTheme","uiTheme","IMAGE_TYPES","uiPack","mergeStepConfig","defaultConfig","overrides","mergedConfig","merge","isUrl","injectPrimaryIntoLayoutGradient","layoutStyles","primaryColor","getStepConfiguration","stepId","uiStep","getLayoutStyles","getComponentStyles","uiPackComponentStyle","configurationStyles","packs","future","blue","button","isBack","background","$globalConfiguration","$uiPack","styleProps","buttonConfiguration","loader","$configuration","isDisabled","isLoading","skipType","disabled","onClick","goToNextStep","$currentStepId","h1","attributes","img","img_src_value","div2","size","fullPage","defaultStyle","span","isSelfie","p_intro","p_outro","texts","intervals","interval","getOverlayDocumentType","documentType","overlayType","FLOW_STORE_KEY","setFlowName","flows","savedFlow","getFlowName","getFlowOrders","flowName","flowConfiguration","getFlowConfig","isNativeCamera","getListLength","language","namespace","each_blocks","globalListStyles","titleProps","listElementProps","flowId","listItems","$currentLanguage","EEventTypes","EActionNames","EVerificationStatuses","EFlowEvent","flowEventBus","payload","_d","BALLERINE_EVENT","outerScopeContext","outerScopeContext$1","currentLanguage","sendIframeEvent","eventOptions","sendFlowCompleteEvent","verificationResponse","status","idvResult","sendVerificationUpdateEvent","details","shouldExit","sendNavigationUpdateEvent","as","sendButtonClickEvent","actionName","create_if_block_6","create_if_block_5","if_block2","create_if_block_4","if_block3","create_if_block_3","if_block4","create_if_block_2","if_block5","create_if_block_1","if_block6","if_block0","each_value","flow","stepNamespace","preloadNextStepByCurrent","$appState","svg","rect0","rect1","path","icons","Card","Passport","License","PassportTwo","Voter","icon","ownKeys","enumerableOnly","symbols","sym","_objectSpread2","_defineProperty","_classCallCheck","Constructor","_defineProperties","descriptor","_toPropertyKey","_createClass","protoProps","staticProps","_extends","_toPrimitive","input","hint","prim","res","arg","canvasToBlob","window","CanvasPrototype","hasBlobConstructor","hasArrayBufferViewSupport","BlobBuilder","dataURIPattern","dataURLtoBlob","dataURI","matches","mediaType","isBase64","dataString","byteString","arrayBuffer","intArray","bb","quality","self","toBlob","isBlob","DEFAULTS","IS_BROWSER","WINDOW","isPositiveNumber","slice","toArray","REGEXP_IMAGE_TYPE","isImageType","imageTypeToExtension","extension","fromCharCode","getStringFromCharCode","dataView","btoa","arrayBufferToDataURL","mimeType","chunks","chunkSize","uint8","resetAndGetOrientation","orientation","littleEndian","app1Start","ifdStart","offset","exifIDCode","tiffOffset","endianness","firstIFDOffset","_length","_offset","parseOrientation","rotate","scaleX","scaleY","REGEXP_DECIMALS","normalizeDecimalNumber","times","getAdjustedSizes","_ref","aspectRatio","isValidWidth","isValidHeight","adjustedWidth","getExif","segments","segment","exifArray","insertExif","app0Length","newArrayBuffer","ArrayBuffer$1","FileReader","URL","REGEXP_EXTENSION","AnotherCompressor","Compressor","file","_this","isJPEGImage","checkOrientation","retainExif","reader","_this2","image","_ref2","_this3","naturalWidth","naturalHeight","_ref2$rotate","_ref2$scaleX","_ref2$scaleY","canvas","context","is90DegreesRotated","resizable","maxWidth","maxHeight","minWidth","minHeight","_ref3","_ref4","_ref5","_getAdjustedSizes","_getAdjustedSizes2","_getAdjustedSizes3","_getAdjustedSizes4","_getAdjustedSizes4$wi","_getAdjustedSizes4$he","destX","destY","destWidth","destHeight","srcX","srcY","srcWidth","srcHeight","_getAdjustedSizes5","_ref6","fillStyle","blob","done","_ref7","_ref8","date","err","nativeCameraHandler","resolve","reject","reader1","clearDocs","documentOptionsConfiguration","addDocument","base64","document","getUpdatedPages","updateDocument","newPagesState","createToggle","initialState","nextState","prevState","icon_changes","t_changes","paragraph_changes","show_if","container_changes","toggleOnIsDisabled","hover","setHover","handleSelect","$isDisabled","mouseover_handler","focus_handler","mouseleave_handler","checkIsCameraAvailable","stream","track","error","documentoption_changes","ducumentOptions","option","handleSelectOption","$selectedDocumentInfo","handleTakePhoto","newDocumentsState","$documents","click_handler","goToPrevStep","handleGoToNextStep","video_1","create_if_block_7","if_block","each_value_2","each_value_1","each_blocks_2","each_blocks_1","video","container","cameraPhoto","CameraPhoto","FACING_MODES","cameraStream","$$value","userConfiguration","skipBackSide","click_handler_1","click_handler_2","click_handler_3","click_handler_4","documentInfo","visitedPage","pathname","search","handleClose","$currentParams","$selfieUri","isMobile","toMatchItem","overlay","Overlay","facingMode","dataUri","docTypeMapping","generateParams","staticHeaders","httpPost","body","response","httpGet","getVerificationStatus","endUserId","verificationId","endpointUrl","verifyDocuments","documentsForUpload","devMocks","verificationRes","WAITING_TIME","timeout","veryficationTimeout","showText","broofa","checkStatus","preloadStepById","makeRequest","hasDocumentSelection","reasonCode","handleNavigate","message","Welcome","DocumentSelection","DocumentStart","DocumentPhoto","CheckDocument","DocumentPhotoBackStart","DocumentPhotoBack","CheckDocumentPhotoBack","SelfieStart","Selfie","CheckSelfie","Loading","Resubmission","Decline","ErrorPage","Final","filterOutByType","flowIds","stepConfiguration","getNextStepId","globalConfiguration","stepsOrder","filteredFlows","currentFlowIndex","currentStepIdStore","nextStepId","preloadByExtension","preloadStepImages","defaultStepKey","defaultStep","mergedStep","elements","preloadedSteps","updatedStep","updatedConfiguration","keyBy","calcluatedKey","toObjByKey","collection","translation","updateConfiguration","configOverrides","configurationResult","currentConfig","mergeConfig","pack","packConfig","currentPack","packName","updatedPack","updateTranslations","translations","mergeObj","originalConfig","newConfig","v1adapter","documentOptions","docOpts","docType","calcualteStepId","uiConfig","endUserInfo","general","components","newFlows","flowSteps","flowConfig","stepsConfig","setFlowCallbacks","lang","namespacePath","lastKey","previous_key","switch_value","div_outro","configurationStepIds","routeInit","configurationStepId","newStepIndex","$currentStepIdx","link","link_href_value","_f","_e","main","loading","modalOpened","mounted","useModal","getConfigFromQueryParams","b_uid","b_cid","b_t","b_fn","b_ln","b_fid","b_ph","b_em","b_lang","b_eut","acc","elementId","hostElement","ConfigurationProvider","restConfig","_clientId","_flowName","configPromise","translationsPromise"],"mappings":"2SAAA,SAASA,GAAO,CAAG,CACnB,MAAMC,GAAWC,GAAKA,EACtB,SAASC,GAAOC,EAAKC,EAAK,CAEtB,UAAWC,KAAKD,EACZD,EAAIE,GAAKD,EAAIC,GACjB,OAAOF,CACX,CAWA,SAASG,GAAIC,EAAI,CACb,OAAOA,EAAE,CACb,CACA,SAASC,IAAe,CACpB,OAAO,OAAO,OAAO,IAAI,CAC7B,CACA,SAASC,GAAQC,EAAK,CAClBA,EAAI,QAAQJ,EAAG,CACnB,CACA,SAASK,GAAYC,EAAO,CACxB,OAAO,OAAOA,GAAU,UAC5B,CACA,SAASC,EAAeC,EAAGC,EAAG,CAC1B,OAAOD,GAAKA,EAAIC,GAAKA,EAAID,IAAMC,GAAOD,GAAK,OAAOA,GAAM,UAAa,OAAOA,GAAM,UACtF,CACA,IAAIE,GACJ,SAASC,GAAcC,EAAaC,EAAK,CACrC,OAAKH,KACDA,GAAuB,SAAS,cAAc,GAAG,GAErDA,GAAqB,KAAOG,EACrBD,IAAgBF,GAAqB,IAChD,CAIA,SAASI,GAASC,EAAK,CACnB,OAAO,OAAO,KAAKA,CAAG,EAAE,SAAW,CACvC,CAMA,SAASC,GAAUC,KAAUC,EAAW,CACpC,GAAID,GAAS,KACT,OAAOxB,EAEX,MAAM0B,EAAQF,EAAM,UAAU,GAAGC,CAAS,EAC1C,OAAOC,EAAM,YAAc,IAAMA,EAAM,YAAW,EAAKA,CAC3D,CACA,SAASC,GAAgBH,EAAO,CAC5B,IAAII,EACJL,OAAAA,GAAUC,EAAOK,GAAKD,EAAQC,CAAC,EAAC,EACzBD,CACX,CACA,SAASE,EAAoBC,EAAWP,EAAOQ,EAAU,CACrDD,EAAU,GAAG,WAAW,KAAKR,GAAUC,EAAOQ,CAAQ,CAAC,CAC3D,CACA,SAASC,GAAYC,EAAYC,EAAKC,EAAS5B,EAAI,CAC/C,GAAI0B,EAAY,CACZ,MAAMG,EAAWC,GAAiBJ,EAAYC,EAAKC,EAAS5B,CAAE,EAC9D,OAAO0B,EAAW,GAAGG,CAAQ,CAChC,CACL,CACA,SAASC,GAAiBJ,EAAYC,EAAKC,EAAS5B,EAAI,CACpD,OAAO0B,EAAW,IAAM1B,EAClBL,GAAOiC,EAAQ,IAAI,MAAO,EAAEF,EAAW,GAAG1B,EAAG2B,CAAG,CAAC,CAAC,EAClDC,EAAQ,GAClB,CACA,SAASG,GAAiBL,EAAYE,EAASI,EAAOhC,EAAI,CACtD,GAAI0B,EAAW,IAAM1B,EAAI,CACrB,MAAMiC,EAAOP,EAAW,GAAG1B,EAAGgC,CAAK,CAAC,EACpC,GAAIJ,EAAQ,QAAU,OAClB,OAAOK,EAEX,GAAI,OAAOA,GAAS,SAAU,CAC1B,MAAMC,EAAS,CAAA,EACTC,EAAM,KAAK,IAAIP,EAAQ,MAAM,OAAQK,EAAK,MAAM,EACtD,QAASG,EAAI,EAAGA,EAAID,EAAKC,GAAK,EAC1BF,EAAOE,GAAKR,EAAQ,MAAMQ,GAAKH,EAAKG,GAExC,OAAOF,CACV,CACD,OAAON,EAAQ,MAAQK,CAC1B,CACD,OAAOL,EAAQ,KACnB,CACA,SAASS,GAAiBC,EAAMC,EAAiBZ,EAAKC,EAASY,EAAcC,EAAqB,CAC9F,GAAID,EAAc,CACd,MAAME,EAAeZ,GAAiBS,EAAiBZ,EAAKC,EAASa,CAAmB,EACxFH,EAAK,EAAEI,EAAcF,CAAY,CACpC,CACL,CAKA,SAASG,GAAyBf,EAAS,CACvC,GAAIA,EAAQ,IAAI,OAAS,GAAI,CACzB,MAAMI,EAAQ,CAAA,EACRY,EAAShB,EAAQ,IAAI,OAAS,GACpC,QAASQ,EAAI,EAAGA,EAAIQ,EAAQR,IACxBJ,EAAMI,GAAK,GAEf,OAAOJ,CACV,CACD,MAAO,EACX,CAgCA,SAASa,GAAczB,EAAO,CAC1B,OAAOA,GAAS,KAAO,GAAKA,CAChC,CACA,SAAS0B,EAAgB9B,EAAO+B,EAAK3B,EAAO,CACxC,OAAAJ,EAAM,IAAII,CAAK,EACR2B,CACX,CAKA,SAASC,GAAe5B,EAAO,CAC3B,MAAM6B,EAAQ,OAAO7B,GAAU,UAAYA,EAAM,MAAM,4BAA4B,EACnF,OAAO6B,EAAQ,CAAC,WAAWA,EAAM,EAAE,EAAGA,EAAM,IAAM,IAAI,EAAI,CAAC7B,EAAO,IAAI,CAC1E,CAGA,MAAM8B,GAAY,OAAO,QAAW,YACpC,IAAIC,GAAMD,GACJ,IAAM,OAAO,YAAY,IAAK,EAC9B,IAAM,KAAK,MACbE,GAAMF,GAAYG,GAAM,sBAAsBA,CAAE,EAAI7D,EASxD,MAAM8D,GAAQ,IAAI,IAClB,SAASC,GAAUJ,EAAK,CACpBG,GAAM,QAAQE,GAAQ,CACbA,EAAK,EAAEL,CAAG,IACXG,GAAM,OAAOE,CAAI,EACjBA,EAAK,EAAC,EAElB,CAAK,EACGF,GAAM,OAAS,GACfF,GAAIG,EAAS,CACrB,CAWA,SAASE,GAAKjC,EAAU,CACpB,IAAIgC,EACJ,OAAIF,GAAM,OAAS,GACfF,GAAIG,EAAS,EACV,CACH,QAAS,IAAI,QAAQG,GAAW,CAC5BJ,GAAM,IAAIE,EAAO,CAAE,EAAGhC,EAAU,EAAGkC,CAAO,CAAE,CACxD,CAAS,EACD,OAAQ,CACJJ,GAAM,OAAOE,CAAI,CACpB,CACT,CACA,CA6IA,SAASG,EAAOC,EAAQC,EAAM,CAC1BD,EAAO,YAAYC,CAAI,CAC3B,CACA,SAASC,EAAcF,EAAQG,EAAgBC,EAAQ,CACnD,MAAMC,EAAmBC,GAAmBN,CAAM,EAClD,GAAI,CAACK,EAAiB,eAAeF,CAAc,EAAG,CAClD,MAAMI,EAAQC,EAAQ,OAAO,EAC7BD,EAAM,GAAKJ,EACXI,EAAM,YAAcH,EACpBK,GAAkBJ,EAAkBE,CAAK,CAC5C,CACL,CACA,SAASD,GAAmBL,EAAM,CAC9B,GAAI,CAACA,EACD,OAAO,SACX,MAAMS,EAAOT,EAAK,YAAcA,EAAK,YAAa,EAAGA,EAAK,cAC1D,OAAIS,GAAQA,EAAK,KACNA,EAEJT,EAAK,aAChB,CACA,SAASU,GAAwBV,EAAM,CACnC,MAAMW,EAAgBJ,EAAQ,OAAO,EACrC,OAAAC,GAAkBH,GAAmBL,CAAI,EAAGW,CAAa,EAClDA,EAAc,KACzB,CACA,SAASH,GAAkBR,EAAMM,EAAO,CACpC,OAAAR,EAAOE,EAAK,MAAQA,EAAMM,CAAK,EACxBA,EAAM,KACjB,CAyBA,SAASM,EAAOb,EAAQC,EAAMa,EAAQ,CAClCd,EAAO,aAAaC,EAAMa,GAAU,IAAI,CAC5C,CASA,SAASC,EAAOd,EAAM,CACdA,EAAK,YACLA,EAAK,WAAW,YAAYA,CAAI,CAExC,CACA,SAASe,GAAaC,EAAYC,EAAW,CACzC,QAAS1C,EAAI,EAAGA,EAAIyC,EAAW,OAAQzC,GAAK,EACpCyC,EAAWzC,IACXyC,EAAWzC,GAAG,EAAE0C,CAAS,CAErC,CACA,SAASV,EAAQW,EAAM,CACnB,OAAO,SAAS,cAAcA,CAAI,CACtC,CAgBA,SAASC,GAAYD,EAAM,CACvB,OAAO,SAAS,gBAAgB,6BAA8BA,CAAI,CACtE,CACA,SAASE,GAAKC,EAAM,CAChB,OAAO,SAAS,eAAeA,CAAI,CACvC,CACA,SAASC,GAAQ,CACb,OAAOF,GAAK,GAAG,CACnB,CACA,SAASG,GAAQ,CACb,OAAOH,GAAK,EAAE,CAClB,CAIA,SAASI,GAAOxB,EAAMyB,EAAOC,EAASC,EAAS,CAC3C,OAAA3B,EAAK,iBAAiByB,EAAOC,EAASC,CAAO,EACtC,IAAM3B,EAAK,oBAAoByB,EAAOC,EAASC,CAAO,CACjE,CAoCA,SAASC,EAAK5B,EAAM6B,EAAWtE,EAAO,CAC9BA,GAAS,KACTyC,EAAK,gBAAgB6B,CAAS,EACzB7B,EAAK,aAAa6B,CAAS,IAAMtE,GACtCyC,EAAK,aAAa6B,EAAWtE,CAAK,CAC1C,CAuHA,SAASuE,GAASvB,EAAS,CACvB,OAAO,MAAM,KAAKA,EAAQ,UAAU,CACxC,CA6HA,SAASwB,GAASX,EAAMC,EAAM,CAC1BA,EAAO,GAAKA,EACRD,EAAK,OAASC,IAElBD,EAAK,KAAOC,EAChB,CAsHA,SAASW,GAAazB,EAASW,EAAMe,EAAQ,CACzC1B,EAAQ,UAAU0B,EAAS,MAAQ,UAAUf,CAAI,CACrD,CACA,SAASgB,GAAaC,EAAMC,EAAQ,CAAE,QAAAC,EAAU,GAAO,WAAAC,EAAa,EAAO,EAAG,GAAI,CAC9E,MAAMC,EAAI,SAAS,YAAY,aAAa,EAC5C,OAAAA,EAAE,gBAAgBJ,EAAME,EAASC,EAAYF,CAAM,EAC5CG,CACX,CAyBA,MAAMC,EAAQ,CACV,YAAYC,EAAS,GAAO,CACxB,KAAK,OAAS,GACd,KAAK,OAASA,EACd,KAAK,EAAI,KAAK,EAAI,IACrB,CACD,EAAEC,EAAM,CACJ,KAAK,EAAEA,CAAI,CACd,CACD,EAAEA,EAAM3C,EAAQc,EAAS,KAAM,CACtB,KAAK,IACF,KAAK,OACL,KAAK,EAAIM,GAAYpB,EAAO,QAAQ,EAGpC,KAAK,EAAIQ,EAASR,EAAO,WAAa,GAAK,WAAaA,EAAO,UACnE,KAAK,EAAIA,EAAO,UAAY,WAAaA,EAASA,EAAO,QACzD,KAAK,EAAE2C,CAAI,GAEf,KAAK,EAAE7B,CAAM,CAChB,CACD,EAAE6B,EAAM,CACJ,KAAK,EAAE,UAAYA,EACnB,KAAK,EAAI,MAAM,KAAK,KAAK,EAAE,WAAa,WAAa,KAAK,EAAE,QAAQ,WAAa,KAAK,EAAE,UAAU,CACrG,CACD,EAAE7B,EAAQ,CACN,QAAStC,EAAI,EAAGA,EAAI,KAAK,EAAE,OAAQA,GAAK,EACpCqC,EAAO,KAAK,EAAG,KAAK,EAAErC,GAAIsC,CAAM,CAEvC,CACD,EAAE6B,EAAM,CACJ,KAAK,EAAC,EACN,KAAK,EAAEA,CAAI,EACX,KAAK,EAAE,KAAK,CAAC,CAChB,CACD,GAAI,CACA,KAAK,EAAE,QAAQ5B,CAAM,CACxB,CACL,CAmCA,SAAS6B,GAA2BjF,EAAWkF,EAAO,CAClD,OAAO,IAAIlF,EAAUkF,CAAK,CAC9B,CAIA,MAAMC,GAAiB,IAAI,IAC3B,IAAIC,GAAS,EAEb,SAASC,GAAKC,EAAK,CACf,IAAID,EAAO,KACPxE,EAAIyE,EAAI,OACZ,KAAOzE,KACHwE,GAASA,GAAQ,GAAKA,EAAQC,EAAI,WAAWzE,CAAC,EAClD,OAAOwE,IAAS,CACpB,CACA,SAASE,GAAyBC,EAAKlD,EAAM,CACzC,MAAMmD,EAAO,CAAE,WAAYzC,GAAwBV,CAAI,EAAG,MAAO,CAAA,GACjE,OAAA6C,GAAe,IAAIK,EAAKC,CAAI,EACrBA,CACX,CACA,SAASC,GAAYpD,EAAMtD,EAAGC,EAAG0G,EAAUC,EAAOC,EAAMpH,EAAIqH,EAAM,EAAG,CACjE,MAAMC,EAAO,OAASJ,EACtB,IAAIK,EAAY;AAAA,EAChB,QAASC,EAAI,EAAGA,GAAK,EAAGA,GAAKF,EAAM,CAC/B,MAAMG,EAAIlH,GAAKC,EAAID,GAAK6G,EAAKI,CAAC,EAC9BD,GAAaC,EAAI,IAAM,KAAKxH,EAAGyH,EAAG,EAAIA,CAAC;AAAA,CAC1C,CACD,MAAMC,EAAOH,EAAY,SAASvH,EAAGQ,EAAG,EAAIA,CAAC;AAAA,GACvCuE,EAAO,YAAY6B,GAAKc,CAAI,KAAKL,IACjCN,EAAM7C,GAAmBL,CAAI,EAC7B,CAAE,WAAA8D,EAAY,MAAAC,CAAO,EAAGlB,GAAe,IAAIK,CAAG,GAAKD,GAAyBC,EAAKlD,CAAI,EACtF+D,EAAM7C,KACP6C,EAAM7C,GAAQ,GACd4C,EAAW,WAAW,cAAc5C,KAAQ2C,IAAQC,EAAW,SAAS,MAAM,GAElF,MAAME,EAAYhE,EAAK,MAAM,WAAa,GAC1C,OAAAA,EAAK,MAAM,UAAY,GAAGgE,EAAY,GAAGA,MAAgB,KAAK9C,KAAQmC,cAAqBC,aAC3FR,IAAU,EACH5B,CACX,CACA,SAAS+C,GAAYjE,EAAMkB,EAAM,CAC7B,MAAMgD,GAAYlE,EAAK,MAAM,WAAa,IAAI,MAAM,IAAI,EAClDmE,EAAOD,EAAS,OAAOhD,EACvBkD,GAAQA,EAAK,QAAQlD,CAAI,EAAI,EAC7BkD,GAAQA,EAAK,QAAQ,UAAU,IAAM,EAC/C,EACUC,EAAUH,EAAS,OAASC,EAAK,OACnCE,IACArE,EAAK,MAAM,UAAYmE,EAAK,KAAK,IAAI,EACrCrB,IAAUuB,EACLvB,IACDwB,KAEZ,CACA,SAASA,IAAc,CACnB/E,GAAI,IAAM,CACFuD,KAEJD,GAAe,QAAQM,GAAQ,CAC3B,KAAM,CAAE,UAAAoB,CAAS,EAAKpB,EAAK,WAEvBoB,GACAzD,EAAOyD,CAAS,CAChC,CAAS,EACD1B,GAAe,MAAK,EAC5B,CAAK,CACL,CAEA,SAAS2B,GAAiBxE,EAAMyE,EAAMtI,EAAIuI,EAAQ,CAC9C,GAAI,CAACD,EACD,OAAO9I,EACX,MAAMgJ,EAAK3E,EAAK,wBAChB,GAAIyE,EAAK,OAASE,EAAG,MAAQF,EAAK,QAAUE,EAAG,OAASF,EAAK,MAAQE,EAAG,KAAOF,EAAK,SAAWE,EAAG,OAC9F,OAAOhJ,EACX,KAAM,CAAE,MAAA2H,EAAQ,EAAG,SAAAD,EAAW,IAAK,OAAAuB,EAAShJ,GAE5C,MAAOiJ,EAAavF,GAAG,EAAKgE,EAE5B,IAAAwB,EAAMD,EAAaxB,EAAU,KAAA0B,EAAOpJ,EAAM,IAAAqJ,CAAG,EAAK7I,EAAG6D,EAAM,CAAE,KAAAyE,EAAM,GAAAE,CAAI,EAAED,CAAM,EAC/E,IAAIO,EAAU,GACVC,EAAU,GACVhE,EACJ,SAASiE,GAAQ,CACTH,IACA9D,EAAOkC,GAAYpD,EAAM,EAAG,EAAGqD,EAAUC,EAAOsB,EAAQI,CAAG,GAE1D1B,IACD4B,EAAU,GAEjB,CACD,SAASE,GAAO,CACRJ,GACAf,GAAYjE,EAAMkB,CAAI,EAC1B+D,EAAU,EACb,CACD,OAAArF,GAAKN,GAAO,CAQR,GAPI,CAAC4F,GAAW5F,GAAOuF,IACnBK,EAAU,IAEVA,GAAW5F,GAAOwF,IAClBC,EAAK,EAAG,CAAC,EACTK,KAEA,CAACH,EACD,MAAO,GAEX,GAAIC,EAAS,CACT,MAAMvB,EAAIrE,EAAMuF,EACVjB,EAAI,EAAI,EAAIgB,EAAOjB,EAAIN,CAAQ,EACrC0B,EAAKnB,EAAG,EAAIA,CAAC,CAChB,CACD,MAAO,EACf,CAAK,EACDuB,IACAJ,EAAK,EAAG,CAAC,EACFK,CACX,CACA,SAASC,GAAarF,EAAM,CACxB,MAAMM,EAAQ,iBAAiBN,CAAI,EACnC,GAAIM,EAAM,WAAa,YAAcA,EAAM,WAAa,QAAS,CAC7D,KAAM,CAAE,MAAAgF,EAAO,OAAAC,CAAQ,EAAGjF,EACpB5D,EAAIsD,EAAK,wBACfA,EAAK,MAAM,SAAW,WACtBA,EAAK,MAAM,MAAQsF,EACnBtF,EAAK,MAAM,OAASuF,EACpBC,GAAcxF,EAAMtD,CAAC,CACxB,CACL,CACA,SAAS8I,GAAcxF,EAAMtD,EAAG,CAC5B,MAAMC,EAAIqD,EAAK,wBACf,GAAItD,EAAE,OAASC,EAAE,MAAQD,EAAE,MAAQC,EAAE,IAAK,CACtC,MAAM2D,EAAQ,iBAAiBN,CAAI,EAC7ByF,EAAYnF,EAAM,YAAc,OAAS,GAAKA,EAAM,UAC1DN,EAAK,MAAM,UAAY,GAAGyF,eAAuB/I,EAAE,KAAOC,EAAE,WAAWD,EAAE,IAAMC,EAAE,QACpF,CACL,CAEA,IAAI+I,GACJ,SAASC,GAAsBjI,EAAW,CACtCgI,GAAoBhI,CACxB,CACA,SAASkI,IAAwB,CAC7B,GAAI,CAACF,GACD,MAAM,IAAI,MAAM,kDAAkD,EACtE,OAAOA,EACX,CAoBA,SAASG,GAAQ1J,EAAI,CACjByJ,GAAuB,EAAC,GAAG,SAAS,KAAKzJ,CAAE,CAC/C,CAiBA,SAAS2J,GAAU3J,EAAI,CACnByJ,GAAuB,EAAC,GAAG,WAAW,KAAKzJ,CAAE,CACjD,CAaA,SAAS4J,IAAwB,CAC7B,MAAMrI,EAAYkI,KAClB,MAAO,CAACzD,EAAMC,EAAQ,CAAE,WAAAE,EAAa,EAAO,EAAG,KAAO,CAClD,MAAMlF,EAAYM,EAAU,GAAG,UAAUyE,GACzC,GAAI/E,EAAW,CAGX,MAAMqE,EAAQS,GAAaC,EAAMC,EAAQ,CAAE,WAAAE,CAAU,CAAE,EACvD,OAAAlF,EAAU,MAAK,EAAG,QAAQjB,GAAM,CAC5BA,EAAG,KAAKuB,EAAW+D,CAAK,CACxC,CAAa,EACM,CAACA,EAAM,gBACjB,CACD,MAAO,EACf,CACA,CA6CA,SAASuE,GAAOtI,EAAW+D,EAAO,CAC9B,MAAMrE,EAAYM,EAAU,GAAG,UAAU+D,EAAM,MAC3CrE,GAEAA,EAAU,QAAQ,QAAQjB,GAAMA,EAAG,KAAK,KAAMsF,CAAK,CAAC,CAE5D,CAEA,MAAMwE,GAAmB,CAAA,EAEnBC,GAAoB,CAAA,EAC1B,IAAIC,GAAmB,CAAA,EACvB,MAAMC,GAAkB,CAAA,EAClBC,GAAmC,QAAQ,UACjD,IAAIC,GAAmB,GACvB,SAASC,IAAkB,CAClBD,KACDA,GAAmB,GACnBD,GAAiB,KAAKG,EAAK,EAEnC,CAKA,SAASC,GAAoBtK,EAAI,CAC7BgK,GAAiB,KAAKhK,CAAE,CAC5B,CAsBA,MAAMuK,GAAiB,IAAI,IAC3B,IAAIC,GAAW,EACf,SAASH,IAAQ,CAIb,GAAIG,KAAa,EACb,OAEJ,MAAMC,EAAkBlB,GACxB,EAAG,CAGC,GAAI,CACA,KAAOiB,GAAWV,GAAiB,QAAQ,CACvC,MAAMvI,EAAYuI,GAAiBU,IACnCA,KACAhB,GAAsBjI,CAAS,EAC/BmJ,GAAOnJ,EAAU,EAAE,CACtB,CACJ,OACM,EAAP,CAEI,MAAAuI,GAAiB,OAAS,EAC1BU,GAAW,EACL,CACT,CAID,IAHAhB,GAAsB,IAAI,EAC1BM,GAAiB,OAAS,EAC1BU,GAAW,EACJT,GAAkB,QACrBA,GAAkB,IAAG,IAIzB,QAAS3H,EAAI,EAAGA,EAAI4H,GAAiB,OAAQ5H,GAAK,EAAG,CACjD,MAAMZ,EAAWwI,GAAiB5H,GAC7BmI,GAAe,IAAI/I,CAAQ,IAE5B+I,GAAe,IAAI/I,CAAQ,EAC3BA,IAEP,CACDwI,GAAiB,OAAS,CAClC,OAAaF,GAAiB,QAC1B,KAAOG,GAAgB,QACnBA,GAAgB,IAAG,IAEvBE,GAAmB,GACnBI,GAAe,MAAK,EACpBf,GAAsBiB,CAAe,CACzC,CACA,SAASC,GAAOC,EAAI,CAChB,GAAIA,EAAG,WAAa,KAAM,CACtBA,EAAG,OAAM,EACTzK,GAAQyK,EAAG,aAAa,EACxB,MAAM3I,EAAQ2I,EAAG,MACjBA,EAAG,MAAQ,CAAC,EAAE,EACdA,EAAG,UAAYA,EAAG,SAAS,EAAEA,EAAG,IAAK3I,CAAK,EAC1C2I,EAAG,aAAa,QAAQL,EAAmB,CAC9C,CACL,CAIA,SAASM,GAAuBzK,EAAK,CACjC,MAAM0K,EAAW,CAAA,EACXC,EAAU,CAAA,EAChBd,GAAiB,QAASe,GAAM5K,EAAI,QAAQ4K,CAAC,IAAM,GAAKF,EAAS,KAAKE,CAAC,EAAID,EAAQ,KAAKC,CAAC,CAAC,EAC1FD,EAAQ,QAASC,GAAMA,EAAG,CAAA,EAC1Bf,GAAmBa,CACvB,CAEA,IAAIG,GACJ,SAASC,IAAO,CACZ,OAAKD,KACDA,GAAU,QAAQ,UAClBA,GAAQ,KAAK,IAAM,CACfA,GAAU,IACtB,CAAS,GAEEA,EACX,CACA,SAASE,GAASrH,EAAMsH,EAAWC,EAAM,CACrCvH,EAAK,cAAckC,GAAa,GAAGoF,EAAY,QAAU,UAAUC,GAAM,CAAC,CAC9E,CACA,MAAMC,GAAW,IAAI,IACrB,IAAIC,GACJ,SAASC,GAAe,CACpBD,GAAS,CACL,EAAG,EACH,EAAG,CAAE,EACL,EAAGA,EACX,CACA,CACA,SAASE,GAAe,CACfF,GAAO,GACRpL,GAAQoL,GAAO,CAAC,EAEpBA,GAASA,GAAO,CACpB,CACA,SAASG,EAAcC,EAAOC,EAAO,CAC7BD,GAASA,EAAM,IACfL,GAAS,OAAOK,CAAK,EACrBA,EAAM,EAAEC,CAAK,EAErB,CACA,SAASC,EAAeF,EAAOC,EAAOhH,EAAQnD,EAAU,CACpD,GAAIkK,GAASA,EAAM,EAAG,CAClB,GAAIL,GAAS,IAAIK,CAAK,EAClB,OACJL,GAAS,IAAIK,CAAK,EAClBJ,GAAO,EAAE,KAAK,IAAM,CAChBD,GAAS,OAAOK,CAAK,EACjBlK,IACImD,GACA+G,EAAM,EAAE,CAAC,EACblK,IAEhB,CAAS,EACDkK,EAAM,EAAEC,CAAK,CAChB,MACQnK,GACLA,GAER,CACA,MAAMqK,GAAkB,CAAE,SAAU,GACpC,SAASC,GAAqBjI,EAAM7D,EAAIuI,EAAQ,CAC5C,MAAM/C,EAAU,CAAE,UAAW,MAC7B,IAAIuG,EAAS/L,EAAG6D,EAAM0E,EAAQ/C,CAAO,EACjCsD,EAAU,GACVkD,EACAxI,EACA6D,EAAM,EACV,SAAS4E,GAAU,CACXD,GACAlE,GAAYjE,EAAMmI,CAAc,CACvC,CACD,SAASE,GAAK,CACV,KAAM,CAAE,MAAA/E,EAAQ,EAAG,SAAAD,EAAW,IAAK,OAAAuB,EAAShJ,GAAU,KAAAmJ,EAAOpJ,EAAM,IAAAqJ,GAAQkD,GAAUF,GACjFhD,IACAmD,EAAiB/E,GAAYpD,EAAM,EAAG,EAAGqD,EAAUC,EAAOsB,EAAQI,EAAKxB,GAAK,GAChFuB,EAAK,EAAG,CAAC,EACT,MAAMF,EAAavF,GAAK,EAAGgE,EACrBgF,EAAWzD,EAAaxB,EAC1B1D,GACAA,EAAK,MAAK,EACdsF,EAAU,GACVwB,GAAoB,IAAMY,GAASrH,EAAM,GAAM,OAAO,CAAC,EACvDL,EAAOC,GAAKN,GAAO,CACf,GAAI2F,EAAS,CACT,GAAI3F,GAAOgJ,EACP,OAAAvD,EAAK,EAAG,CAAC,EACTsC,GAASrH,EAAM,GAAM,KAAK,EAC1BoI,IACOnD,EAAU,GAErB,GAAI3F,GAAOuF,EAAY,CACnB,MAAMjB,EAAIgB,GAAQtF,EAAMuF,GAAcxB,CAAQ,EAC9C0B,EAAKnB,EAAG,EAAIA,CAAC,CAChB,CACJ,CACD,OAAOqB,CACnB,CAAS,CACJ,CACD,IAAIC,EAAU,GACd,MAAO,CACH,OAAQ,CACAA,IAEJA,EAAU,GACVjB,GAAYjE,CAAI,EACZzD,GAAY2L,CAAM,GAClBA,EAASA,EAAOvG,CAAO,EACvByF,GAAM,EAAC,KAAKiB,CAAE,GAGdA,IAEP,EACD,YAAa,CACTnD,EAAU,EACb,EACD,KAAM,CACED,IACAmD,IACAnD,EAAU,GAEjB,CACT,CACA,CACA,SAASsD,GAAsBvI,EAAM7D,EAAIuI,EAAQ,CAC7C,MAAM/C,EAAU,CAAE,UAAW,OAC7B,IAAIuG,EAAS/L,EAAG6D,EAAM0E,EAAQ/C,CAAO,EACjCsD,EAAU,GACVkD,EACJ,MAAMK,EAAQf,GACde,EAAM,GAAK,EACX,SAASH,GAAK,CACV,KAAM,CAAE,MAAA/E,EAAQ,EAAG,SAAAD,EAAW,IAAK,OAAAuB,EAAShJ,GAAU,KAAAmJ,EAAOpJ,EAAM,IAAAqJ,GAAQkD,GAAUF,GACjFhD,IACAmD,EAAiB/E,GAAYpD,EAAM,EAAG,EAAGqD,EAAUC,EAAOsB,EAAQI,CAAG,GACzE,MAAMH,EAAavF,GAAK,EAAGgE,EACrBgF,EAAWzD,EAAaxB,EAC9BoD,GAAoB,IAAMY,GAASrH,EAAM,GAAO,OAAO,CAAC,EACxDJ,GAAKN,GAAO,CACR,GAAI2F,EAAS,CACT,GAAI3F,GAAOgJ,EACP,OAAAvD,EAAK,EAAG,CAAC,EACTsC,GAASrH,EAAM,GAAO,KAAK,EACtB,EAAEwI,EAAM,GAGTnM,GAAQmM,EAAM,CAAC,EAEZ,GAEX,GAAIlJ,GAAOuF,EAAY,CACnB,MAAMjB,EAAIgB,GAAQtF,EAAMuF,GAAcxB,CAAQ,EAC9C0B,EAAK,EAAInB,EAAGA,CAAC,CAChB,CACJ,CACD,OAAOqB,CACnB,CAAS,CACJ,CACD,OAAI1I,GAAY2L,CAAM,EAClBd,GAAI,EAAG,KAAK,IAAM,CAEdc,EAASA,EAAOvG,CAAO,EACvB0G,GACZ,CAAS,EAGDA,IAEG,CACH,IAAII,EAAO,CACHA,GAASP,EAAO,MAChBA,EAAO,KAAK,EAAG,CAAC,EAEhBjD,IACIkD,GACAlE,GAAYjE,EAAMmI,CAAc,EACpClD,EAAU,GAEjB,CACT,CACA,CAkMA,SAASyD,GAAwBb,EAAOc,EAAQ,CAC5CZ,EAAeF,EAAO,EAAG,EAAG,IAAM,CAC9Bc,EAAO,OAAOd,EAAM,GAAG,CAC/B,CAAK,CACL,CAKA,SAASe,GAAgCf,EAAOc,EAAQ,CACpDd,EAAM,EAAC,EACPa,GAAwBb,EAAOc,CAAM,CACzC,CACA,SAASE,GAAkBC,EAAY3K,EAAO4K,EAASC,EAASlL,EAAKmL,EAAMN,EAAQ3I,EAAMkJ,EAASC,EAAmBhF,EAAMiF,EAAa,CACpI,IAAIC,EAAIP,EAAW,OACfQ,EAAIL,EAAK,OACT1K,EAAI8K,EACR,MAAME,EAAc,CAAA,EACpB,KAAOhL,KACHgL,EAAYT,EAAWvK,GAAG,KAAOA,EACrC,MAAMiL,EAAa,CAAA,EACbC,EAAa,IAAI,IACjBC,EAAS,IAAI,IACbC,EAAU,CAAA,EAEhB,IADApL,EAAI+K,EACG/K,KAAK,CACR,MAAMqL,EAAYR,EAAYtL,EAAKmL,EAAM1K,CAAC,EACpCsL,EAAMd,EAAQa,CAAS,EAC7B,IAAI/B,EAAQc,EAAO,IAAIkB,CAAG,EACrBhC,EAIImB,GAELW,EAAQ,KAAK,IAAM9B,EAAM,EAAE+B,EAAWzL,CAAK,CAAC,GAL5C0J,EAAQsB,EAAkBU,EAAKD,CAAS,EACxC/B,EAAM,EAAC,GAMX4B,EAAW,IAAII,EAAKL,EAAWjL,GAAKsJ,CAAK,EACrCgC,KAAON,GACPG,EAAO,IAAIG,EAAK,KAAK,IAAItL,EAAIgL,EAAYM,EAAI,CAAC,CACrD,CACD,MAAMC,EAAY,IAAI,IAChBC,EAAW,IAAI,IACrB,SAASnJ,EAAOiH,EAAO,CACnBD,EAAcC,EAAO,CAAC,EACtBA,EAAM,EAAE7H,EAAMmE,CAAI,EAClBwE,EAAO,IAAId,EAAM,IAAKA,CAAK,EAC3B1D,EAAO0D,EAAM,MACbyB,GACH,CACD,KAAOD,GAAKC,GAAG,CACX,MAAMU,EAAYR,EAAWF,EAAI,GAC3BW,EAAYnB,EAAWO,EAAI,GAC3Ba,EAAUF,EAAU,IACpBG,GAAUF,EAAU,IACtBD,IAAcC,GAEd9F,EAAO6F,EAAU,MACjBX,IACAC,KAEMG,EAAW,IAAIU,EAAO,EAKvB,CAACxB,EAAO,IAAIuB,CAAO,GAAKJ,EAAU,IAAII,CAAO,EAClDtJ,EAAOoJ,CAAS,EAEXD,EAAS,IAAII,EAAO,EACzBd,IAEKK,EAAO,IAAIQ,CAAO,EAAIR,EAAO,IAAIS,EAAO,GAC7CJ,EAAS,IAAIG,CAAO,EACpBtJ,EAAOoJ,CAAS,IAGhBF,EAAU,IAAIK,EAAO,EACrBd,MAfAH,EAAQe,EAAWtB,CAAM,EACzBU,IAgBP,CACD,KAAOA,KAAK,CACR,MAAMY,EAAYnB,EAAWO,GACxBI,EAAW,IAAIQ,EAAU,GAAG,GAC7Bf,EAAQe,EAAWtB,CAAM,CAChC,CACD,KAAOW,GACH1I,EAAO4I,EAAWF,EAAI,EAAE,EAC5B,OAAAjN,GAAQsN,CAAO,EACRH,CACX,CAYA,SAASY,GAAkBC,EAAQV,EAAS,CACxC,MAAM9C,EAAS,CAAA,EACTyD,EAAc,CAAA,EACdC,EAAgB,CAAE,QAAS,GACjC,IAAIhM,EAAI8L,EAAO,OACf,KAAO9L,KAAK,CACR,MAAM8K,EAAIgB,EAAO9L,GACX+K,EAAIK,EAAQpL,GAClB,GAAI+K,EAAG,CACH,UAAWO,KAAOR,EACRQ,KAAOP,IACTgB,EAAYT,GAAO,GAE3B,UAAWA,KAAOP,EACTiB,EAAcV,KACfhD,EAAOgD,GAAOP,EAAEO,GAChBU,EAAcV,GAAO,GAG7BQ,EAAO9L,GAAK+K,CACf,KAEG,WAAWO,KAAOR,EACdkB,EAAcV,GAAO,CAGhC,CACD,UAAWA,KAAOS,EACRT,KAAOhD,IACTA,EAAOgD,GAAO,QAEtB,OAAOhD,CACX,CACA,SAAS2D,GAAkBC,EAAc,CACrC,OAAO,OAAOA,GAAiB,UAAYA,IAAiB,KAAOA,EAAe,EACtF,CA8NA,SAASC,EAAiB7C,EAAO,CAC7BA,GAASA,EAAM,GACnB,CAIA,SAAS8C,EAAgBjN,EAAWqC,EAAQc,EAAQ+J,EAAe,CAC/D,KAAM,CAAE,SAAAC,EAAU,aAAAC,GAAiBpN,EAAU,GAC7CmN,GAAYA,EAAS,EAAE9K,EAAQc,CAAM,EAChC+J,GAEDnE,GAAoB,IAAM,CACtB,MAAMsE,EAAiBrN,EAAU,GAAG,SAAS,IAAIxB,EAAG,EAAE,OAAOK,EAAW,EAIpEmB,EAAU,GAAG,WACbA,EAAU,GAAG,WAAW,KAAK,GAAGqN,CAAc,EAK9C1O,GAAQ0O,CAAc,EAE1BrN,EAAU,GAAG,SAAW,EACpC,CAAS,EAELoN,EAAa,QAAQrE,EAAmB,CAC5C,CACA,SAASuE,EAAkBtN,EAAWuD,EAAW,CAC7C,MAAM6F,EAAKpJ,EAAU,GACjBoJ,EAAG,WAAa,OAChBC,GAAuBD,EAAG,YAAY,EACtCzK,GAAQyK,EAAG,UAAU,EACrBA,EAAG,UAAYA,EAAG,SAAS,EAAE7F,CAAS,EAGtC6F,EAAG,WAAaA,EAAG,SAAW,KAC9BA,EAAG,IAAM,GAEjB,CACA,SAASmE,GAAWvN,EAAWa,EAAG,CAC1Bb,EAAU,GAAG,MAAM,KAAO,KAC1BuI,GAAiB,KAAKvI,CAAS,EAC/B6I,KACA7I,EAAU,GAAG,MAAM,KAAK,CAAC,GAE7BA,EAAU,GAAG,MAAOa,EAAI,GAAM,IAAO,GAAMA,EAAI,EACnD,CACA,SAAS2M,EAAKxN,EAAWiE,EAASwJ,EAAUC,EAAiBC,EAAWzI,EAAO3C,EAAe9B,EAAQ,CAAC,EAAE,EAAG,CACxG,MAAMmN,EAAmB5F,GACzBC,GAAsBjI,CAAS,EAC/B,MAAMoJ,EAAKpJ,EAAU,GAAK,CACtB,SAAU,KACV,IAAK,CAAE,EAEP,MAAAkF,EACA,OAAQjH,EACR,UAAA0P,EACA,MAAOjP,GAAc,EAErB,SAAU,CAAE,EACZ,WAAY,CAAE,EACd,cAAe,CAAE,EACjB,cAAe,CAAE,EACjB,aAAc,CAAE,EAChB,QAAS,IAAI,IAAIuF,EAAQ,UAAY2J,EAAmBA,EAAiB,GAAG,QAAU,CAAA,EAAG,EAEzF,UAAWlP,GAAc,EACzB,MAAA+B,EACA,WAAY,GACZ,KAAMwD,EAAQ,QAAU2J,EAAiB,GAAG,IACpD,EACIrL,GAAiBA,EAAc6G,EAAG,IAAI,EACtC,IAAIyE,EAAQ,GAkBZ,GAjBAzE,EAAG,IAAMqE,EACHA,EAASzN,EAAWiE,EAAQ,OAAS,CAAE,EAAE,CAACpD,EAAGW,KAAQsM,IAAS,CAC5D,MAAMjO,EAAQiO,EAAK,OAASA,EAAK,GAAKtM,EACtC,OAAI4H,EAAG,KAAOuE,EAAUvE,EAAG,IAAIvI,GAAIuI,EAAG,IAAIvI,GAAKhB,CAAK,IAC5C,CAACuJ,EAAG,YAAcA,EAAG,MAAMvI,IAC3BuI,EAAG,MAAMvI,GAAGhB,CAAK,EACjBgO,GACAN,GAAWvN,EAAWa,CAAC,GAExBW,CACnB,CAAS,EACC,GACN4H,EAAG,OAAM,EACTyE,EAAQ,GACRlP,GAAQyK,EAAG,aAAa,EAExBA,EAAG,SAAWsE,EAAkBA,EAAgBtE,EAAG,GAAG,EAAI,GACtDnF,EAAQ,OAAQ,CAChB,GAAIA,EAAQ,QAAS,CAEjB,MAAM8J,EAAQ3J,GAASH,EAAQ,MAAM,EAErCmF,EAAG,UAAYA,EAAG,SAAS,EAAE2E,CAAK,EAClCA,EAAM,QAAQ3K,CAAM,CACvB,MAGGgG,EAAG,UAAYA,EAAG,SAAS,EAAC,EAE5BnF,EAAQ,OACRiG,EAAclK,EAAU,GAAG,QAAQ,EACvCiN,EAAgBjN,EAAWiE,EAAQ,OAAQA,EAAQ,OAAQA,EAAQ,aAAa,EAEhF6E,IACH,CACDb,GAAsB2F,CAAgB,CAC1C,CAoDA,MAAMI,CAAgB,CAClB,UAAW,CACPV,EAAkB,KAAM,CAAC,EACzB,KAAK,SAAWrP,CACnB,CACD,IAAIwG,EAAMxE,EAAU,CAChB,GAAI,CAACpB,GAAYoB,CAAQ,EACrB,OAAOhC,EAEX,MAAMyB,EAAa,KAAK,GAAG,UAAU+E,KAAU,KAAK,GAAG,UAAUA,GAAQ,CAAA,GACzE,OAAA/E,EAAU,KAAKO,CAAQ,EAChB,IAAM,CACT,MAAMgO,EAAQvO,EAAU,QAAQO,CAAQ,EACpCgO,IAAU,IACVvO,EAAU,OAAOuO,EAAO,CAAC,CACzC,CACK,CACD,KAAKC,EAAS,CACN,KAAK,OAAS,CAAC5O,GAAS4O,CAAO,IAC/B,KAAK,GAAG,WAAa,GACrB,KAAK,MAAMA,CAAO,EAClB,KAAK,GAAG,WAAa,GAE5B,CACL,CCtqEA,SAASC,GAASjI,EAAG,CACjB,MAAMkI,EAAIlI,EAAI,EACd,OAAOkI,EAAIA,EAAIA,EAAI,CACvB,CCrBA,SAASC,GAAK/L,EAAM,CAAE,MAAAsD,EAAQ,EAAG,SAAAD,EAAW,IAAK,OAAAuB,EAASoH,EAAQ,EAAG,GAAI,CACrE,MAAM3C,EAAI,CAAC,iBAAiBrJ,CAAI,EAAE,QAClC,MAAO,CACH,MAAAsD,EACA,SAAAD,EACA,OAAAuB,EACA,IAAKhB,GAAK,YAAYA,EAAIyF,GAClC,CACA,CACA,SAAS4C,GAAIjM,EAAM,CAAE,MAAAsD,EAAQ,EAAG,SAAAD,EAAW,IAAK,OAAAuB,EAASiH,GAAU,EAAAhQ,EAAI,EAAG,EAAAqQ,EAAI,EAAG,QAAAC,EAAU,CAAG,EAAG,GAAI,CACjG,MAAM7L,EAAQ,iBAAiBN,CAAI,EAC7BoM,EAAiB,CAAC9L,EAAM,QACxBmF,EAAYnF,EAAM,YAAc,OAAS,GAAKA,EAAM,UACpD+L,EAAKD,GAAkB,EAAID,GAC3B,CAACG,EAAQC,CAAK,EAAIpN,GAAetD,CAAC,EAClC,CAAC2Q,EAAQC,CAAK,EAAItN,GAAe+M,CAAC,EACxC,MAAO,CACH,MAAA5I,EACA,SAAAD,EACA,OAAAuB,EACA,IAAK,CAAChB,EAAG8I,IAAM;AAAA,gBACPjH,gBAAwB,EAAI7B,GAAK0I,IAASC,OAAW,EAAI3I,GAAK4I,IAASC;AAAA,cACzEL,EAAkBC,EAAKK,GACrC,CACA,CChEA,SAASC,GAAK3M,EAAM,CAAE,KAAAyE,EAAM,GAAAE,CAAI,EAAED,EAAS,GAAI,CAC3C,MAAMpE,EAAQ,iBAAiBN,CAAI,EAC7ByF,EAAYnF,EAAM,YAAc,OAAS,GAAKA,EAAM,UACpD,CAACsM,EAAIC,CAAE,EAAIvM,EAAM,gBAAgB,MAAM,GAAG,EAAE,IAAI,UAAU,EAC1DwM,EAAMrI,EAAK,KAAOA,EAAK,MAAQmI,EAAKjI,EAAG,OAAUA,EAAG,KAAOiI,GAC3DG,EAAMtI,EAAK,IAAMA,EAAK,OAASoI,EAAKlI,EAAG,QAAWA,EAAG,IAAMkI,GAC3D,CAAE,MAAAvJ,EAAQ,EAAG,SAAAD,EAAY2J,GAAM,KAAK,KAAKA,CAAC,EAAI,IAAK,OAAApI,EAASiH,EAAQ,EAAKnH,EAC/E,MAAO,CACH,MAAApB,EACA,SAAU/G,GAAY8G,CAAQ,EAAIA,EAAS,KAAK,KAAKyJ,EAAKA,EAAKC,EAAKA,CAAE,CAAC,EAAI1J,EAC3E,OAAAuB,EACA,IAAK,CAAChB,EAAG8I,IAAM,CACX,MAAM7Q,EAAI6Q,EAAII,EACRZ,EAAIQ,EAAIK,EACRE,EAAKrJ,EAAI8I,EAAIjI,EAAK,MAAQE,EAAG,MAC7BuI,EAAKtJ,EAAI8I,EAAIjI,EAAK,OAASE,EAAG,OACpC,MAAO,cAAcc,eAAuB5J,QAAQqQ,cAAce,MAAOC,KAC5E,CACT,CACA,CCnBA,MAAMC,GAAmB,CAAA,EAMzB,SAASC,GAAS7P,EAAO4H,EAAO,CAC5B,MAAO,CACH,UAAWkI,GAAS9P,EAAO4H,CAAK,EAAE,SAC1C,CACA,CAMA,SAASkI,GAAS9P,EAAO4H,EAAQxJ,EAAM,CACnC,IAAIyJ,EACJ,MAAMkI,EAAc,IAAI,IACxB,SAASC,EAAIC,EAAW,CACpB,GAAI/Q,EAAec,EAAOiQ,CAAS,IAC/BjQ,EAAQiQ,EACJpI,GAAM,CACN,MAAMqI,EAAY,CAACN,GAAiB,OACpC,UAAWO,KAAcJ,EACrBI,EAAW,KACXP,GAAiB,KAAKO,EAAYnQ,CAAK,EAE3C,GAAIkQ,EAAW,CACX,QAASlP,EAAI,EAAGA,EAAI4O,GAAiB,OAAQ5O,GAAK,EAC9C4O,GAAiB5O,GAAG,GAAG4O,GAAiB5O,EAAI,EAAE,EAElD4O,GAAiB,OAAS,CAC7B,CACJ,CAER,CACD,SAAStG,EAAO1K,EAAI,CAChBoR,EAAIpR,EAAGoB,CAAK,CAAC,CAChB,CACD,SAASL,EAAUhB,EAAKyR,EAAahS,EAAM,CACvC,MAAM+R,EAAa,CAACxR,EAAKyR,CAAU,EACnC,OAAAL,EAAY,IAAII,CAAU,EACtBJ,EAAY,OAAS,IACrBlI,EAAOD,EAAMoI,CAAG,GAAK5R,GAEzBO,EAAIqB,CAAK,EACF,IAAM,CACT+P,EAAY,OAAOI,CAAU,EACzBJ,EAAY,OAAS,GAAKlI,IAC1BA,IACAA,EAAO,KAEvB,CACK,CACD,MAAO,CAAE,IAAAmI,EAAK,OAAA1G,EAAQ,UAAA3J,EAC1B,CACA,SAAS0Q,GAAQC,EAAQ1R,EAAI2R,EAAe,CACxC,MAAMC,EAAS,CAAC,MAAM,QAAQF,CAAM,EAC9BG,EAAeD,EACf,CAACF,CAAM,EACPA,EACAI,EAAO9R,EAAG,OAAS,EACzB,OAAOiR,GAASU,EAAgBP,GAAQ,CACpC,IAAIrI,EAAU,GACd,MAAMgJ,EAAS,CAAA,EACf,IAAIC,EAAU,EACV/F,EAAUzM,EACd,MAAMyS,EAAO,IAAM,CACf,GAAID,EACA,OAEJ/F,IACA,MAAMiG,EAASlS,EAAG4R,EAASG,EAAO,GAAKA,EAAQX,CAAG,EAC9CU,EACAV,EAAIc,CAAM,EAGVjG,EAAU7L,GAAY8R,CAAM,EAAIA,EAAS1S,CAEzD,EACc2S,EAAgBN,EAAa,IAAI,CAAC7Q,EAAOoB,IAAMrB,GAAUC,EAAQI,GAAU,CAC7E2Q,EAAO3P,GAAKhB,EACZ4Q,GAAW,EAAE,GAAK5P,GACd2G,GACAkJ,GAEhB,EAAW,IAAM,CACLD,GAAY,GAAK5P,CACpB,CAAA,CAAC,EACF,OAAA2G,EAAU,GACVkJ,IACO,UAAgB,CACnB/R,GAAQiS,CAAa,EACrBlG,IAIAlD,EAAU,EACtB,CACA,CAAK,CACL,CCtGA,MAAMqJ,GAAW,CACf,SAAU,IACV,QAAS,EACT,KAAM,EACN,SAAU,GACV,YAAa,GACb,SAAU,GACV,MAAO,CAAE,EAAG,GAAK,CACnB,EA8CaC,IA5CO,IAAM,CACxB,KAAM,CAAE,UAAAtR,EAAW,OAAA2J,GAAWwG,GAAS,CAAA,CAAE,EACzC,IAAIoB,EAAQ,EACZ,MAAM9M,EAAU,CAAE,EACZ+M,EAAQzR,GAAQA,aAAe,OAqCrC,MAAO,CAAE,UAAAC,EAAW,KApCP,CAACyR,EAAKC,EAAO,CAAA,IAAO,CAC/B,MAAMC,EAAQ,CAAE,OAAQ,UAAW,GAAIH,EAAKC,CAAG,EAAIA,EAAM,CAAE,GAAGC,EAAM,IAAAD,CAAK,CAAG,EACtEG,EAAOnN,EAAQkN,EAAM,SAAW,CAAE,EAClCE,EAAQ,CACZ,GAAGR,GACH,GAAGO,EACH,GAAGD,EACH,MAAO,CAAE,GAAGC,EAAK,MAAO,GAAGD,EAAM,KAAO,EACxC,QAAS,CAAC,GAAIC,EAAK,SAAW,CAAA,EAAK,GAAID,EAAM,SAAW,CAAA,CAAG,EAC3D,GAAI,EAAEJ,CACP,EACD,OAAA5H,EAAQyC,GAAOyF,EAAM,SAAW,CAAC,GAAGzF,EAAGyF,CAAK,EAAI,CAACA,EAAO,GAAGzF,CAAC,CAAE,EACvDmF,CACR,EAuByB,IAtBbO,GAAO,CAClBnI,EAAQyC,GAAM,CACZ,GAAI,CAACA,EAAE,QAAU0F,IAAO,EAAG,MAAO,CAAE,EACpC,GAAIN,EAAKM,CAAE,EAAG,OAAO1F,EAAE,OAAQ/K,GAAMyQ,EAAGzQ,CAAC,CAAC,EAC1C,MAAMwB,EAASiP,GAAM,KAAK,IAAI,GAAG1F,EAAE,IAAK/K,GAAMA,EAAE,EAAE,CAAC,EACnD,OAAO+K,EAAE,OAAQ/K,GAAMA,EAAE,KAAOwB,CAAM,CAC5C,CAAK,CACF,EAe8B,IAdnB,CAACiP,EAAIJ,EAAO,CAAA,IAAO,CAC7B,MAAMC,EAAQH,EAAKM,CAAE,EAAI,CAAE,GAAGA,GAAO,CAAE,GAAGJ,EAAM,GAAAI,CAAI,EACpDnI,EAAQyC,GAAM,CACZ,MAAM2F,EAAM3F,EAAE,UAAW/K,GAAMA,EAAE,KAAOsQ,EAAM,EAAE,EAChD,OAAII,EAAM,KACR3F,EAAE2F,GAAO,CAAE,GAAG3F,EAAE2F,GAAM,GAAGJ,CAAO,GAE3BvF,CACb,CAAK,CACF,EAKmC,MAJtB,CAACvJ,EAAS,UAAW6O,EAAO,CAAA,KACxCjN,EAAQ5B,GAAU6O,EACXjN,EAEkC,CAC7C,GAEgC,ECpDhC,SAASuN,GAAQjS,EAAK,CAClB,OAAO,OAAO,UAAU,SAAS,KAAKA,CAAG,IAAM,eACnD,CA6GA,SAASkS,GAAiBzS,EAAGC,EAAG,CAC5B,GAAID,IAAMC,GAAKD,IAAMA,EACjB,MAAO,IAAMA,EACjB,MAAMyF,EAAO,OAAOzF,EACpB,GAAIyF,IAAS,OAAOxF,GAAK,MAAM,QAAQD,CAAC,IAAM,MAAM,QAAQC,CAAC,EACzD,MAAM,IAAI,MAAM,6CAA6C,EAEjE,GAAI,MAAM,QAAQD,CAAC,EAAG,CAClB,MAAM0S,EAAMzS,EAAE,IAAI,CAAC0S,EAAI9Q,IACZ4Q,GAAiBzS,EAAE6B,GAAI8Q,CAAE,CACnC,EACD,OAAOzL,GAAKwL,EAAI,IAAIjT,GAAMA,EAAGyH,CAAC,CAAC,CAClC,CACD,GAAIzB,IAAS,SAAU,CACnB,GAAI,CAACzF,GAAK,CAACC,EACP,MAAM,IAAI,MAAM,uBAAuB,EAC3C,GAAIuS,GAAQxS,CAAC,GAAKwS,GAAQvS,CAAC,EAAG,CAC1BD,EAAIA,EAAE,UACNC,EAAIA,EAAE,UACN,MAAM2S,EAAQ3S,EAAID,EAClB,OAAOkH,GAAK,IAAI,KAAKlH,EAAIkH,EAAI0L,CAAK,CACrC,CACD,MAAMC,EAAO,OAAO,KAAK5S,CAAC,EACpB6S,EAAgB,CAAA,EACtB,OAAAD,EAAK,QAAQ1F,GAAO,CAChB2F,EAAc3F,GAAOsF,GAAiBzS,EAAEmN,GAAMlN,EAAEkN,EAAI,CAChE,CAAS,EACMjG,GAAK,CACR,MAAMyK,EAAS,CAAA,EACf,OAAAkB,EAAK,QAAQ1F,GAAO,CAChBwE,EAAOxE,GAAO2F,EAAc3F,GAAKjG,CAAC,CAClD,CAAa,EACMyK,CACnB,CACK,CACD,GAAIlM,IAAS,SAAU,CACnB,MAAMmN,EAAQ3S,EAAID,EAClB,OAAOkH,GAAKlH,EAAIkH,EAAI0L,CACvB,CACD,MAAM,IAAI,MAAM,sBAAsBnN,UAAa,CACvD,CACA,SAASsN,GAAQlS,EAAOgR,EAAW,GAAI,CACnC,MAAMpR,EAAQkQ,GAAS9P,CAAK,EAC5B,IAAIoC,EACA+P,EAAenS,EACnB,SAASgQ,EAAIC,EAAWoB,EAAM,CAC1B,GAAIrR,GAAS,KACT,OAAAJ,EAAM,IAAII,EAAQiQ,CAAS,EACpB,QAAQ,UAEnBkC,EAAelC,EACf,IAAImC,EAAgBhQ,EAChBuF,EAAU,GACV,CAAE,MAAA5B,EAAQ,EAAG,SAAAD,EAAW,IAAK,OAAAuB,EAASoH,GAAQ,YAAA4D,EAAcT,EAAkB,EAAGrT,GAAOA,GAAO,CAAE,EAAEyS,CAAQ,EAAGK,CAAI,EACtH,GAAIvL,IAAa,EACb,OAAIsM,IACAA,EAAc,MAAK,EACnBA,EAAgB,MAEpBxS,EAAM,IAAII,EAAQmS,CAAY,EACvB,QAAQ,UAEnB,MAAMvK,EAAQ7F,GAAK,EAAGgE,EACtB,IAAInH,EACJ,OAAAwD,EAAOC,GAAKN,GAAO,CACf,GAAIA,EAAM6F,EACN,MAAO,GACND,IACD/I,EAAKyT,EAAYrS,EAAOiQ,CAAS,EAC7B,OAAOnK,GAAa,aACpBA,EAAWA,EAAS9F,EAAOiQ,CAAS,GACxCtI,EAAU,IAEVyK,IACAA,EAAc,MAAK,EACnBA,EAAgB,MAEpB,MAAME,EAAUvQ,EAAM6F,EACtB,OAAI0K,EAAUxM,GACVlG,EAAM,IAAII,EAAQiQ,CAAS,EACpB,KAGXrQ,EAAM,IAAII,EAAQpB,EAAGyI,EAAOiL,EAAUxM,CAAQ,CAAC,CAAC,EACzC,GACnB,CAAS,EACM1D,EAAK,OACf,CACD,MAAO,CACH,IAAA4N,EACA,OAAQ,CAACpR,EAAIyS,IAASrB,EAAIpR,EAAGuT,EAAcnS,CAAK,EAAGqR,CAAI,EACvD,UAAWzR,EAAM,SACzB,CACA;;;;44CC3Ha2S,EAAAhS,KAAK,IAAG,6EAARK,EAAA,GAAA2R,KAAAA,EAAAhS,KAAK,IAAG,KAAAiS,EAAA,EAAAD,CAAA,qEAFiChS,EAAc,EAAA,QAAtCA,EAAI,GAAC,UAAU,0MAASA,EAAc,EAAA,CAAA,CAAA,oBAAtCA,EAAI,GAAC,UAAU,KAAG,uYAM5C8C,EAQCb,EAAAiQ,EAAAnP,CAAA,sBAJW/C,EAAK,EAAA,yIAXZ,OAAAA,KAAK,UAAS,0BAMhB,IAAAmS,EAAAnS,KAAK,aAAWoS,GAAApS,CAAA,0IAP0BkE,GAAAmO,EAAA,KAAArS,KAAK,SAAS,iDAkB1BA,EAAS,2CAxBlCkE,GAAAoO,EAAA,KAAAtS,KAAK,QAAQ,UAFzB8C,EA2BKb,EAAAqQ,EAAAvP,CAAA,EAnBHf,EAMKsQ,EAAAD,CAAA,8CAYLrQ,EAA+CsQ,EAAAC,CAAA,wDApBhCvS,EAAM,EAAA,iKAE0BkE,GAAAmO,EAAA,KAAArS,KAAK,SAAS,EAOxDA,KAAK,uFAWyBA,EAAS,eAxBlCkE,GAAAoO,EAAA,KAAAtS,KAAK,QAAQ,8GArEd,KAAAwS,CAAA,EAAA1E,EAEL,MAAA2E,EAAWd,GAAQa,EAAK,QAAO,CAAI,SAAUA,EAAK,SAAU,OAAQtE,EAAM,CAAA,qBAC1E,MAAAwE,MAAchC,GAAM,IAAI8B,EAAK,EAAE,EAC/BG,EAAS,IAAA,EACTC,IAAc,GAAKA,IAAc,IACnCF,SAGArM,EAAOmM,EAAK,QACZK,EAAOxM,EACPyM,EAAS,SASPC,EAAK,IAAA,EACJD,GAAUF,IAAcvM,IAC3BoM,EAAS,IAAIG,EAAa,CAAA,SAAU,CAAC,CAAA,EACrCE,EAAS,KAIPE,EAAM,IAAA,IACNF,EAAM,OACF5D,EAAIsD,EAAK,SACTjN,EAAW2J,EAAIA,IAAM0D,EAAYC,IAASxM,EAAOwM,IACvDJ,EAAS,IAAIpM,GAAQ,SAAAd,CAAQ,CAAA,EAAI,KAAKoN,CAAS,EAC/CG,EAAS,SAITG,EAAc,CAAA,QAMZC,EAAK,CAAIC,EAAM1J,EAAO,cAAW,OAAY0J,IAAS1J,MAMxD2J,EAUJrL,GATY,CAAImH,EAAI,WAAQ,IACtBgE,EAAMhE,EAAE,MAAM,EAAA,OACZ,MAAAtL,MAAiBsL,EAAE,OAAS6D,EAAK,EAAKC,IACtC5P,EAAO,mBACb8L,EAAE,iBAAiB9L,EAAMQ,CAAO,EAChCwP,MAAiBlE,EAAE,oBAAoB9L,EAAMQ,CAAO,EACpDA,IAGY,EACdoE,GAAS,IAAA,CACHkL,EAAMV,EAAK,MAAO,UAAU,GAC9BA,EAAK,MAAMA,EAAK,EAAE,EAEpBY,GAAYA,EAAQ,YAyBH3O,GAAC,CACRA,aAAa,eAAkB,CAAA,QAAS,GAAG,EAAE,SAASA,EAAE,GAAG,GAAGiO,YAlBlEF,EAAK,UAAUO,sFA3BfG,EAAMV,EAAK,QAAQ,GACzBa,EAAA,EAAAb,EAAK,KAAOA,EAAK,SAAAA,CAAA,mBAhCZnM,IAASmM,EAAK,WACnBnM,EAAOmM,EAAK,IAAA,EACZK,EAAOD,EACPE,EAAS,GACTL,EAAS,IAAIpM,CAAI,EAAE,KAAKsM,CAAS,iBAoB5BH,EAAK,UAAS,CACX,KAAA,CAAA,MAAA1N,EAAY,CAAA,EAAA,SAAAwO,CAAQ,EAAKd,EAAK,cACtCS,EAAc,IAAQnO,EAAW,GAAAwO,GAAe,CAAA,CAAAA,GAAWd,EAAK,EAAE,ynBCzBvD1O,EAAAyP,EAAA,QAAAC,EAAAtS,GAAAlB,EAAK,GAAA,QAAQ,KAAK,GAAG,CAAA,EAAA,gBAAA,gBAIrBA,EAAM,GAACA,EAAI,GAAC,KAAK,CAAA,uBAL1B8C,EAQIb,EAAAsR,EAAAxQ,CAAA,+EAPK,CAAA0Q,GAAApT,EAAA,GAAAmT,KAAAA,EAAAtS,GAAAlB,EAAK,GAAA,QAAQ,KAAK,GAAG,CAAA,EAAA,oDAIrBA,EAAM,GAACA,EAAI,GAAC,KAAK,qFADR0T,EAAAhN,GAAA6M,EAAAI,EAAA9E,GAAA,CAAA,SAAU,GAAG,CAAA,wDAFrB+E,EAAAzJ,GAAAoJ,EAAApF,GAAAnO,KAAK,KAAK,8JAHfA,EAAK,GAAU,MAAAiL,EAAAjL,GAAAA,KAAK,mBAAzB,OAAIS,GAAA,EAAA,6JADRqC,EAYIb,EAAA4R,EAAA9Q,CAAA,4EAXK/C,EAAK,uJAAV,OAAIS,GAAA,qKAZG,QAAAoD,EAAO,EAAA,EAAAiK,EACP,CAAA,OAAA7L,EAAS,SAAQ,EAAA6L,EAIxBgG,QAGEC,EAAUC,GAAU,OAAO,KAAKA,CAAK,EAAE,OAAM,CAAEpV,EAAGwK,IAAS,GAAAxK,IAAIwK,KAAK4K,EAAM5K,MAAO,EAAE,oHALtFsH,GAAM,MAAMzO,EAAQ4B,CAAO,iBAG3BwP,EAAA,EAAAS,EAAQG,EAAO,OAAQxT,GAAMA,EAAE,SAAWwB,CAAM,CAAA,oGCVtC,MAAAiS,GAAuBpO,GAAkD,CAC7E,OAAA,iBAAiB,SAAU,IAAM,CACtC4K,GAAM,KAAK5K,EAAE,UAAW,QAAQ,CAAC,CAAA,CAClC,EACM,OAAA,iBAAiB,UAAW,IAAM,CACvC4K,GAAM,KAAK5K,EAAE,UAAW,SAAS,CAAC,CAAA,CACnC,CACH,ECDY,IAAAqO,GAAAA,IACVA,EAAA,QAAU,UACVA,EAAA,kBAAoB,qBACpBA,EAAA,cAAgB,iBAChBA,EAAA,cAAgB,iBAChBA,EAAA,cAAgB,iBAChBA,EAAA,uBAAyB,4BACzBA,EAAA,kBAAoB,sBACpBA,EAAA,uBAAyB,4BACzBA,EAAA,YAAc,eACdA,EAAA,OAAS,SACTA,EAAA,YAAc,eACdA,EAAA,gBAAkB,oBAClBA,EAAA,gBAAkB,oBAClBA,EAAA,gBAAkB,oBAClBA,EAAA,aAAe,eACfA,EAAA,MAAQ,QACRA,EAAA,QAAU,UACVA,EAAA,aAAe,eACfA,EAAA,QAAU,UACVA,EAAA,MAAQ,QApBEA,IAAAA,GAAA,CAAA,CAAA,EAuBAC,GAAAA,IACVA,EAAA,MAAQ,QACRA,EAAA,MAAQ,QACRA,EAAA,MAAQ,QACRA,EAAA,UAAY,YACZA,EAAA,OAAS,SACTA,EAAA,MAAQ,QACRA,EAAA,UAAY,YACZA,EAAA,eAAiB,kBACjBA,EAAA,WAAa,cACbA,EAAA,gBAAkB,oBAClBA,EAAA,aAAe,gBACfA,EAAA,eAAiB,kBACjBA,EAAA,KAAO,OACPA,EAAA,UAAY,aACZA,EAAA,OAAS,SAfCA,IAAAA,GAAA,CAAA,CAAA,ECvBZ,MAAMC,GAAmB,CACvBF,EAAM,QACNA,EAAM,kBACNA,EAAM,cACNA,EAAM,cACNA,EAAM,uBACNA,EAAM,kBACNA,EAAM,uBACNA,EAAM,YACNA,EAAM,OACNA,EAAM,YACNA,EAAM,OACR,EChBaG,EAAgB/E,GDkBmB,CAC9C,cAAe,CACb,QAAS,wBACT,KAAM,CACJ,OAAQ,MACR,oBAAqB,uBACvB,EACA,UAAW,CACT,kBAAmB,qBACnB,sBAAuB,6CACvB,gBAAiB,6BACjB,UAAW,+BACb,CACF,EACA,cAAe,GACf,gBAAiB,KACjB,YAAa,CACX,GAAI,YACN,EACA,MAAO,CACL,QAAS,CACP,KAAM,UACN,WAAY8E,GACZ,SAAU,GACV,oBAAqB,EACvB,CACF,CACF,CC7C6E,EAE7E,OAAO,eAAe,OAAQ,cAAe,CAC3C,IAAK,IACIC,EAAc,UAAU7P,GAAK,QAAQ,IAAIA,CAAC,CAAC,CAEtD,CAAC,ECRY,MAAA8P,GAAiBpV,GACrB,OAAO,KAAKA,CAAG,EAAE,SAAW,ECDxBqV,GAAwB,CAACtP,EAAa/F,IAC7C,CAACA,GAAOoV,GAAcpV,CAAG,EAAU+F,EAChCA,EAAI,QAAQ,aAAc,CAACnH,EAAG0W,IAActV,EAAIsV,EAAE,ECC9CC,GAAmB,IACvBC,GAAIL,CAAa,EAAE,cAGfM,GAAkB,CAC7BC,EACAC,IACW,WACX,MAAMC,EAAgBL,KAEf,MAAA,IAAGM,EAAAD,EAAc,UAAd,KAAAC,EAAyB,KAAKR,IACtCS,GAAAC,EAAAH,EAAc,YAAd,YAAAG,EAA0BL,KAA1B,KAAAI,EAA2C,GAC3CH,CACF,GACF,EAEaK,GAAgCL,GAC3CF,GAAgB,oBAAqBE,CAAc,EACxCM,GAAiCN,GAC5CF,GAAgB,wBAAyBE,CAAc,EAM5CO,GAAyB,IAAc,CAClD,MAAMN,EAAgBL,KAChB,CAAE,KAAAY,CAAS,EAAAP,EACjB,OAAKO,GAEEA,EAAK,qBAAuB,EACrC,EAEaC,GAAmB,IACvBZ,GAAIL,CAAa,EAAE,yQCrC5B,IAAIkB,GAAoB,SAA2B/V,EAAO,CACzD,OAAOgW,GAAgBhW,CAAK,GACxB,CAACiW,GAAUjW,CAAK,CACrB,EAEA,SAASgW,GAAgBhW,EAAO,CAC/B,MAAO,CAAC,CAACA,GAAS,OAAOA,GAAU,QACpC,CAEA,SAASiW,GAAUjW,EAAO,CACzB,IAAIkW,EAAc,OAAO,UAAU,SAAS,KAAKlW,CAAK,EAEtD,OAAOkW,IAAgB,mBACnBA,IAAgB,iBAChBC,GAAenW,CAAK,CACzB,CAGA,IAAIoW,GAAe,OAAO,QAAW,YAAc,OAAO,IACtDC,GAAqBD,GAAe,OAAO,IAAI,eAAe,EAAI,MAEtE,SAASD,GAAenW,EAAO,CAC9B,OAAOA,EAAM,WAAaqW,EAC3B,CAEA,SAASC,GAAYC,EAAK,CACzB,OAAO,MAAM,QAAQA,CAAG,EAAI,CAAE,EAAG,CAAE,CACpC,CAEA,SAASC,GAA8BxW,EAAOoE,EAAS,CACtD,OAAQA,EAAQ,QAAU,IAASA,EAAQ,kBAAkBpE,CAAK,EAC/DyW,GAAUH,GAAYtW,CAAK,EAAGA,EAAOoE,CAAO,EAC5CpE,CACJ,CAEA,SAAS0W,GAAkBlU,EAAQmU,EAAQvS,EAAS,CACnD,OAAO5B,EAAO,OAAOmU,CAAM,EAAE,IAAI,SAAS3T,EAAS,CAClD,OAAOwT,GAA8BxT,EAASoB,CAAO,CACvD,CAAE,CACF,CAEA,SAASwS,GAAiBtK,EAAKlI,EAAS,CACvC,GAAI,CAACA,EAAQ,YACZ,OAAOqS,GAER,IAAII,EAAczS,EAAQ,YAAYkI,CAAG,EACzC,OAAO,OAAOuK,GAAgB,WAAaA,EAAcJ,EAC1D,CAEA,SAASK,GAAgCtU,EAAQ,CAChD,OAAO,OAAO,sBACX,OAAO,sBAAsBA,CAAM,EAAE,OAAO,SAASuU,EAAQ,CAC9D,OAAO,OAAO,qBAAqB,KAAKvU,EAAQuU,CAAM,CACzD,CAAG,EACC,CAAE,CACN,CAEA,SAASC,GAAQxU,EAAQ,CACxB,OAAO,OAAO,KAAKA,CAAM,EAAE,OAAOsU,GAAgCtU,CAAM,CAAC,CAC1E,CAEA,SAASyU,GAAmBC,EAAQC,EAAU,CAC7C,GAAI,CACH,OAAOA,KAAYD,CACnB,MAAC,CACD,MAAO,EACP,CACF,CAGA,SAASE,GAAiB5U,EAAQ8J,EAAK,CACtC,OAAO2K,GAAmBzU,EAAQ8J,CAAG,GACjC,EAAE,OAAO,eAAe,KAAK9J,EAAQ8J,CAAG,GACvC,OAAO,qBAAqB,KAAK9J,EAAQ8J,CAAG,EAClD,CAEA,SAAS+K,GAAY7U,EAAQmU,EAAQvS,EAAS,CAC7C,IAAIkT,EAAc,CAAA,EAClB,OAAIlT,EAAQ,kBAAkB5B,CAAM,GACnCwU,GAAQxU,CAAM,EAAE,QAAQ,SAAS8J,EAAK,CACrCgL,EAAYhL,GAAOkK,GAA8BhU,EAAO8J,GAAMlI,CAAO,CACxE,CAAG,EAEF4S,GAAQL,CAAM,EAAE,QAAQ,SAASrK,EAAK,CACjC8K,GAAiB5U,EAAQ8J,CAAG,IAI5B2K,GAAmBzU,EAAQ8J,CAAG,GAAKlI,EAAQ,kBAAkBuS,EAAOrK,EAAI,EAC3EgL,EAAYhL,GAAOsK,GAAiBtK,EAAKlI,CAAO,EAAE5B,EAAO8J,GAAMqK,EAAOrK,GAAMlI,CAAO,EAEnFkT,EAAYhL,GAAOkK,GAA8BG,EAAOrK,GAAMlI,CAAO,EAExE,CAAE,EACMkT,CACR,CAEA,SAASb,GAAUjU,EAAQmU,EAAQvS,EAAS,CAC3CA,EAAUA,GAAW,GACrBA,EAAQ,WAAaA,EAAQ,YAAcsS,GAC3CtS,EAAQ,kBAAoBA,EAAQ,mBAAqB2R,GAGzD3R,EAAQ,8BAAgCoS,GAExC,IAAIe,EAAgB,MAAM,QAAQZ,CAAM,EACpCa,EAAgB,MAAM,QAAQhV,CAAM,EACpCiV,EAA4BF,IAAkBC,EAElD,OAAKC,EAEMF,EACHnT,EAAQ,WAAW5B,EAAQmU,EAAQvS,CAAO,EAE1CiT,GAAY7U,EAAQmU,EAAQvS,CAAO,EAJnCoS,GAA8BG,EAAQvS,CAAO,CAMtD,CAEAqS,GAAU,IAAM,SAAsBiB,EAAOtT,EAAS,CACrD,GAAI,CAAC,MAAM,QAAQsT,CAAK,EACvB,MAAM,IAAI,MAAM,mCAAmC,EAGpD,OAAOA,EAAM,OAAO,SAAStE,EAAMxM,EAAM,CACxC,OAAO6P,GAAUrD,EAAMxM,EAAMxC,CAAO,CACpC,EAAE,EAAE,CACN,EAEA,IAAIuT,GAAclB,GAElBmB,GAAiBD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;s2EClIjB,MAAME,GAAoB,CACxB,IAAK,KACL,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,GAAI,KACJ,EAAG,KACH,EAAG,KACH,EAAG,KACH,EAAG,KACH,EAAG,KACH,EAAG,KACH,EAAG,KACH,EAAG,KACH,EAAG,KACH,EAAG,IACL,EAEMC,GAA0C,CAC9C,SACA,UACA,cACA,YACA,cACA,cACA,iBACA,QACA,SACA,aACA,QACA,gBACA,SACA,UACA,cACA,aACA,kBACA,SACA,WACA,MACA,SACA,OACA,QACA,QACA,SACA,aACA,qBACA,iBACA,aACA,OACA,YACA,wBACA,UACA,SACF,EAEMC,GAA2B,CAAChV,EAAsBH,EAAkBoV,EAAS,KAAiB,CAClG,GAAIjV,EAAM,MAAM,SAAS,SAAS,EAAG,CAC7B,MAAAkV,EAAM,SAAS,eAAe,UAAU,EACxCC,EAAQ,iBAAiBD,CAAG,EAAE,iBAAiB,iBAAiB,EAC/D,MAAA,CAAC,GAAGrV,EAAQ,KAAKoV,gBAAqBE,IAAQL,GAAkB9U,EAAM,QAAU,OAAiB,CAC1G,CACO,OAAAH,CACT,EAEauV,GAA8B,CACzCC,EAAwC,GACxCC,EAA+B,CAAA,IACpB,CACX,IAAIzV,EAAmB,CAAA,EAEvB,MAAM0V,EAAgB,CACpBC,EACAC,EACArB,EACAa,EAAS,KACN,CACC,GAAAQ,GAAYA,EAASrB,GAAW,CAClC,GAAI,OAAOqB,EAASrB,IAAc,UAAYA,IAAa,aAAc,CACvEvU,EAASmV,GAAyBS,EAASrB,GAA4BvU,EAAQoV,CAAM,EACrF,MACF,CACApV,EAAO,KAAK,KAAKoV,IAASb,MAAa,OAAOqB,EAASrB,EAAS,IAAI,EACpE,MACF,CACI,GAAAoB,GAAaA,EAAUpB,GAAW,CACpC,GAAI,OAAOoB,EAAUpB,IAAc,UAAYA,IAAa,aAAc,CACxEvU,EAASmV,GAAyBQ,EAAUpB,GAA4BvU,EAAQoV,CAAM,EACtF,MACF,CACApV,EAAO,KAAK,KAAKoV,IAASb,MAAa,OAAOoB,EAAUpB,EAAS,IAAI,EACrE,MACF,CAAA,EAGF,OAAAW,GAAc,IAAgBX,GAAA,CAC5B,GAAIA,IAAa,QAAS,CACxBW,GAAc,IAAqBW,GAAA,CACjC,MAAMC,EAAwBN,EAAsB,MAC9CO,EAAuBN,EAAa,MAC5BC,EAAAI,EAAuBC,EAAsBF,EAAe,QAAQ,CAAA,CACnF,EACD,MACF,CACA,GAAItB,IAAa,SAAU,CACXW,GAAA,IAAIX,GAAY,CAC5B,MAAMyB,EAAyBR,EAAsB,OAC/CS,EAA6BR,EAAa,OAClCC,EAAAM,EAAwBC,EAA4B1B,EAAU,SAAS,CAAA,CACtF,EACD,MACF,CACcmB,EAAAF,EAAuBC,EAAclB,CAAQ,CAAA,CAC5D,EAEMvU,EAAO,KAAK;AAAA,CAAI,CACzB,EAEakW,GAAoBT,GAAiC,CAChE,IAAIzV,EAAmB,CAAA,EAEvB,MAAM0V,EAAgB,CAAC7Q,EAAqB0P,EAAgCa,EAAS,KAAO,CAC1F,GAAI,OAAOvQ,EAAI0P,IAAc,UAAYA,IAAa,aAAc,CAClEvU,EAASmV,GAAyBtQ,EAAI0P,GAA4BvU,EAAQoV,CAAM,EAChF,MACF,CACIvQ,EAAI0P,IAAWvU,EAAO,KAAK,KAAKoV,IAASb,MAAa,OAAO1P,EAAI0P,EAAS,IAAI,CAAA,EAGpF,OAAAW,GAAc,IAAgBX,GAAA,CACxB,GAAAA,IAAa,SAAWkB,EAAa,MAAO,CAC9CP,GAAc,IAAqBW,GAAA,CACjC,MAAMM,EAAqBV,EAAa,MAC1BC,EAAAS,EAAoBN,EAAe,QAAQ,CAAA,CAC1D,EACD,MACF,CACI,GAAAtB,IAAa,UAAYkB,EAAa,OAAQ,CAClCP,GAAA,IAAIX,GAAY,CAC5B,MAAM6B,EAAsBX,EAAa,OAC3BC,EAAAU,EAAqB7B,EAAU,SAAS,CAAA,CACvD,EACD,MACF,CACAmB,EAAcD,EAAclB,CAAQ,CAAA,CACrC,EAEMvU,EAAO,KAAK;AAAA,CAAI,CACzB,sCC3OC,SAASoC,EAAE,EAAE,CAAwDiU,EAAe,QAAA,EAAG,CAAyI,GAAEC,GAAK,UAAU,CAAC,OAAO,SAASlU,EAAE,CAAC,SAAS,EAAEhE,EAAE,CAAC,GAAG+K,EAAE/K,GAAG,OAAO+K,EAAE/K,GAAG,QAAQ,IAAImY,EAAEpN,EAAE/K,GAAG,CAAC,EAAEA,EAAE,EAAE,GAAG,QAAQ,CAAA,CAAE,EAAE,OAAOgE,EAAEhE,GAAG,KAAKmY,EAAE,QAAQA,EAAEA,EAAE,QAAQ,CAAC,EAAEA,EAAE,EAAE,GAAGA,EAAE,OAAO,CAAC,IAAIpN,EAAE,CAAA,EAAG,OAAO,EAAE,EAAE/G,EAAE,EAAE,EAAE+G,EAAE,EAAE,EAAE,SAAS/G,EAAE+G,EAAE/K,EAAE,CAAC,EAAE,EAAEgE,EAAE+G,CAAC,GAAG,OAAO,eAAe/G,EAAE+G,EAAE,CAAC,aAAa,GAAG,WAAW,GAAG,IAAI/K,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,SAASgE,EAAE,CAAC,IAAI+G,EAAE/G,GAAGA,EAAE,WAAW,UAAU,CAAC,OAAOA,EAAE,OAAO,EAAE,UAAU,CAAC,OAAOA,CAAC,EAAE,OAAO,EAAE,EAAE+G,EAAE,IAAIA,CAAC,EAAEA,CAAC,EAAE,EAAE,EAAE,SAAS/G,EAAEqB,EAAE,CAAC,OAAO,OAAO,UAAU,eAAe,KAAKrB,EAAEqB,CAAC,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,SAASrB,EAAE,EAAE+G,EAAE,CAAcA,EAAE,EAAE,EAAE,IAAI,UAAU,CAAC,OAAOD,CAAC,CAAC,EAAEC,EAAE,EAAE,EAAE,IAAI,UAAU,CAAC,OAAO5M,CAAC,CAAC,EAAE,IAAI6B,EAAE+K,EAAE,CAAC,EAAEoN,EAAEpN,EAAE,CAAC,EAAEA,EAAE,EAAE,EAAE,IAAI,UAAU,CAAC,OAAOoN,EAAE,CAAC,CAAC,EAAEpN,EAAE,EAAE,EAAE,IAAI,UAAU,CAAC,OAAO/K,EAAE,CAAC,CAAC,EAAE,IAAI8K,EAAE9K,EAAE,EAAE,aAAa7B,EAAE6B,EAAE,EAAE,WAAW,EAAE,SAASgE,EAAE,EAAE+G,EAAE,CAAc,IAAI/K,EAAE+K,EAAE,CAAC,EAAEA,EAAE,EAAE,EAAE,IAAI,UAAU,CAAC,OAAO/K,EAAE,CAAC,CAAC,EAAE,IAAImY,EAAEpN,EAAE,CAAC,EAAEA,EAAE,EAAE,EAAE,IAAI,UAAU,CAAC,OAAOoN,EAAE,CAAC,CAAC,CAAC,EAAE,SAASnU,EAAE,EAAE+G,EAAE,CAAc,SAAS/K,EAAEgE,EAAEqB,EAAE,CAAC,GAAG,EAAEA,GAAG,GAAGA,GAAG,GAAG,MAAM,IAAI,MAAMA,EAAE,sDAAsD,EAAE,GAAG,CAAC+S,EAAE,EAAE,SAASpU,CAAC,EAAE,MAAM,IAAI,MAAMA,EAAE,0CAA0CoU,EAAE,EAAE,KAAK,IAAI,CAAC,EAAE,MAAM,EAAE,CAAC,SAASD,EAAEnU,EAAEqB,EAAE,CAAC,IAAI0F,EAAE,CAAA,EAAG,GAAG,CAAC/K,EAAEgE,EAAEqB,CAAC,EAAE0F,EAAE,UAAU/G,EAAE+G,EAAE,iBAAiB1F,CAAC,OAAOrB,EAAN,CAAS,QAAQ,MAAMA,CAAC,EAAE,QAAQ,MAAM,oBAAoBoU,EAAE,EAAE,IAAI,UAAU,EAAErN,EAAE,UAAUqN,EAAE,EAAE,IAAIrN,EAAE,iBAAiB,IAAI,CAAC,OAAOA,CAAC,CAAC,SAASD,GAAG,CAAC,IAAI9G,EAAE,OAAO,UAAU,SAASqB,EAAE,OAAO,UAAU,UAAU,OAAOrB,GAAGqB,CAAC,CAAC,SAASlH,GAAG,CAAC,MAAM,eAAe,QAAQ,CAAC,SAASgQ,EAAEnK,EAAEqB,EAAE0F,EAAE,CAAC,IAAI/K,EAAEgE,EAAE,WAAW+G,CAAC,EAAE,MAAM,CAAC,WAAW/K,EAAE,YAAYqF,GAAGrB,EAAEhE,EAAE,CAAC,CAAC,SAAS2I,EAAE3E,EAAEqB,EAAE0F,EAAE,CAAC,OAAOoN,EAAE9S,EAAE0F,CAAC,EAAE,YAAYqN,EAAE,EAAE,IAAIrN,EAAE/G,EAAE,UAAUoU,EAAE,EAAEA,EAAE,EAAE,KAAKrN,CAAC,EAAE/G,EAAE,UAAUoU,EAAE,EAAEA,EAAE,EAAE,IAAI,EAAEpU,EAAE,UAAUoU,EAAE,EAAE/S,EAAE,CAAC,CAAC,SAASgT,EAAErU,EAAEqB,EAAE,CAAC,OAAOrB,GAAGqB,CAAC,CAAC,SAASkI,GAAG,CAAC,IAAIvJ,EAAE8G,EAAG,EAAC,GAAG,mBAAmB,KAAK9G,CAAC,EAAE,MAAM,GAAG,IAAIqB,EAAElH,EAAC,EAAG,MAAM,EAAE,CAAC,MAAM,KAAK6F,CAAC,GAAG,CAACqB,EAAE,CAAC,SAASoJ,GAAG,CAAC,MAAM,CAAC,UAAU,OAAO,UAAU,UAAU,SAAS,OAAO,UAAU,SAAS,uBAAuB3D,EAAG,EAAC,mBAAmB3M,EAAC,EAAG,SAASoP,EAAG,CAAA,CAAC,CAAC,EAAE,EAAEY,EAAE,EAAE,EAAExF,EAAE,EAAE,EAAE0P,EAAE,EAAE,EAAE9K,EAAE,EAAE,EAAEkB,EAAE,IAAI2J,EAAErN,EAAE,CAAC,CAAC,EAAE,SAAS/G,EAAE,EAAE+G,EAAE,CAAc,SAAS/K,EAAEgE,EAAEqB,EAAE0F,EAAE,CAAC,OAAO1F,KAAKrB,EAAE,OAAO,eAAeA,EAAEqB,EAAE,CAAC,MAAM0F,EAAE,WAAW,GAAG,aAAa,GAAG,SAAS,EAAE,CAAC,EAAE/G,EAAEqB,GAAG0F,EAAE/G,CAAC,CAAC+G,EAAE,EAAE,EAAE,IAAI,UAAU,CAAC,OAAOD,CAAC,CAAC,EAAEC,EAAE,EAAE,EAAE,IAAI,UAAU,CAAC,OAAO5M,CAAC,CAAC,EAAE4M,EAAE,EAAE,EAAE,IAAI,UAAU,CAAC,OAAOoD,CAAC,CAAC,EAAEpD,EAAE,EAAE,EAAE,IAAI,UAAU,CAAC,OAAOpC,CAAC,CAAC,EAAEoC,EAAE,EAAE,EAAE,IAAI,UAAU,CAAC,OAAOsN,CAAC,CAAC,EAAEtN,EAAE,EAAE,EAAE,IAAI,UAAU,CAAC,OAAOwC,CAAC,CAAC,EAAE,IAAI4K,EAAErN,EAAE,CAAC,OAAO,aAAa,EAAE3M,EAAE,CAAC,KAAK,OAAO,YAAY,aAAa,EAAEgQ,EAAE,CAAC,MAAM,KAAK,EAAExF,EAAE,CAAC,IAAI,MAAM,IAAI,KAAK,EAAE0P,GAAGF,EAAE,CAAE,EAACnY,EAAEmY,EAAE,MAAM,YAAY,EAAEnY,EAAEmY,EAAE,MAAM,WAAW,EAAEA,GAAG5K,EAAE,CAAC,MAAM,GAAG,MAAM,EAAE,CAAC,EAAE,SAASvJ,EAAE,EAAE+G,EAAE,CAAC/G,EAAE,QAAQ+G,EAAE,CAAC,CAAC,EAAE,SAAS/G,EAAE,EAAE+G,EAAE,CAAc,OAAO,eAAe,EAAE,aAAa,CAAC,MAAM,EAAE,CAAC,EAAE,IAAI/K,EAAE+K,EAAE,CAAC,EAAEA,EAAE,EAAE,EAAE,eAAe,UAAU,CAAC,OAAO/K,EAAE,CAAC,CAAC,EAAE+K,EAAE,EAAE,EAAE,cAAc,UAAU,CAAC,OAAO/K,EAAE,CAAC,CAAC,EAAE+K,EAAE,EAAE,EAAE,wBAAwB,UAAU,CAAC,OAAO/K,EAAE,CAAC,CAAC,EAAE,IAAImY,EAAEpN,EAAE,CAAC,EAAEA,EAAE,EAAE,EAAE,gBAAgB,UAAU,CAAC,OAAOoN,EAAE,CAAC,CAAC,EAAE,EAAE,QAAQnY,EAAE,CAAC,EAAE,SAASgE,EAAE,EAAE+G,EAAE,CAAc,SAAS/K,EAAEgE,EAAEqB,EAAE,CAAC,GAAG,EAAErB,aAAaqB,GAAG,MAAM,IAAI,UAAU,mCAAmC,CAAC,CAAC0F,EAAE,EAAE,EAAE,IAAI,UAAU,CAAC,OAAOoD,CAAC,CAAC,EAAE,IAAIgK,EAAEpN,EAAE,CAAC,EAAED,EAAEC,EAAE,CAAC,EAAE5M,EAAE,UAAU,CAAC,SAAS6F,EAAEA,EAAEqB,EAAE,CAAC,QAAQ0F,EAAE,EAAEA,EAAE1F,EAAE,OAAO0F,IAAI,CAAC,IAAI/K,EAAEqF,EAAE0F,GAAG/K,EAAE,WAAWA,EAAE,YAAY,GAAGA,EAAE,aAAa,GAAG,UAAUA,IAAIA,EAAE,SAAS,IAAI,OAAO,eAAegE,EAAEhE,EAAE,IAAIA,CAAC,CAAC,CAAC,CAAC,OAAO,SAASqF,EAAE0F,EAAE/K,EAAE,CAAC,OAAO+K,GAAG/G,EAAEqB,EAAE,UAAU0F,CAAC,EAAE/K,GAAGgE,EAAEqB,EAAErF,CAAC,EAAEqF,CAAC,CAAC,EAAG,EAAC8I,EAAE,UAAU,CAAC,SAASnK,GAAG,CAAChE,EAAE,KAAKgE,CAAC,CAAC,CAAC,OAAO7F,EAAE6F,EAAE,KAAK,CAAC,CAAC,IAAI,aAAa,MAAM,SAASA,EAAEqB,EAAE,CAAC,IAAI0F,EAAE1F,EAAE,WAAWrF,EAAEqF,EAAE,UAAUyF,EAAEzF,EAAE,iBAAiBlH,EAAEkH,EAAE,cAAc8I,EAAEnK,EAAE,WAAW2E,EAAE3E,EAAE,YAAYqU,EAAE,OAAOF,EAAE,CAAC,EAAEhK,EAAExF,EAAEoC,CAAC,EAAEwC,EAAE8K,EAAE,WAAW5J,EAAE4J,EAAE,YAAYD,EAAE,SAAS,cAAc,QAAQ,EAAEA,EAAE,MAAM7K,EAAE6K,EAAE,OAAO3J,EAAE,IAAI6J,EAAEF,EAAE,WAAW,IAAI,EAAE,OAAOja,GAAGma,EAAE,aAAa,GAAG,EAAE,EAAE,EAAEF,EAAE,MAAM,CAAC,EAAEE,EAAE,UAAUtU,EAAE,EAAE,EAAEuJ,EAAEkB,CAAC,EAAE,OAAO0J,EAAE,CAAC,EAAEC,EAAEpY,EAAE8K,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,eAAe,MAAM,UAAU,CAAC,OAAO,OAAO,KAAK,OAAO,WAAW,OAAO,QAAQ,OAAO,KAAK,CAAC,EAAE,CAAC,IAAI,2BAA2B,MAAM,UAAU,CAAC,IAAI9G,EAAE,KAAKqB,EAAE,EAAE,CAAC,UAAU,cAAc,CAAC,UAAU,aAAa,cAAc0F,EAAE,EAAE,CAAC,UAAU,iBAAiB,CAAC,UAAU,oBAAoB,GAAG1F,EAAErB,EAAE,UAAU,qBAAqB+G,EAAE,CAAC,IAAI/K,EAAE,UAAU,iBAAiB,UAAU,mBAAmBmY,EAAE,CAAC,aAAa,SAASnU,EAAE,CAAC,OAAO,IAAI,QAAQ,SAASqB,EAAE0F,EAAE,CAAC/K,EAAE,KAAK,UAAUgE,EAAEqB,EAAE0F,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE/G,EAAE,OAAO,OAAOhE,EAAEmY,CAAC,CAAC,CAAC,OAAOnU,CAAC,CAAC,EAAE,CAAC,IAAI,wBAAwB,MAAM,UAAU,CAAC,OAAOA,EAAE,yBAAwB,EAAG,wBAAyB,EAAC,UAAU,CAAC,EAAE,CAAC,IAAI,sBAAsB,MAAM,SAASqB,EAAE0F,EAAE,CAAC,GAAG,CAAC,OAAOoN,EAAE,CAAC,EAAE9S,EAAE0F,CAAC,EAAE,OAAOD,EAAE,EAAE,IAAI9K,EAAEgE,EAAE,yBAA0B,EAAC,wBAAuB,EAAG,GAAG,CAAChE,EAAE,OAAO,CAACA,EAAE,OAAO,OAAO,QAAQ,MAAM,0EAA0E,EAAE8K,EAAE,EAAE,IAAI3M,EAAE,OAAOgQ,EAAE,OAAO,OAAG9I,IAAGyF,EAAE,EAAE,SAASzF,CAAC,EAAElH,EAAEkH,EAAE8I,EAAE,CAAC,MAAM9I,CAAC,GAAQ,CAAC,MAAM,GAAG,MAAM,CAAC,WAAWlH,EAAE,SAASgQ,EAAE,MAAMpD,GAAGA,EAAE,MAAM,OAAOA,GAAGA,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,8BAA8B,MAAM,UAAU,CAAC,IAAI1F,EAAE,UAAU,OAAO,GAAY,UAAU,KAAnB,OAAsB,UAAU,GAAG,GAAG0F,EAAE,UAAU,GAAG,QAAQ,KAAK,0DAA0DA,CAAC,EAAE,IAAI/K,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,CAAC,EAAE8K,EAAE9G,EAAE,oBAAoBqB,EAAE,CAAE,CAAA,EAAE,GAAO0F,IAAJ,EAAO,OAAG,OAAOoN,EAAE,CAAC,EAAG,GAAE,QAAQ,KAAK,6BAA6B,EAASnU,EAAE,oBAAoBqB,EAAE,CAAC,MAAM,CAAC,IAAI,IAAI,MAAM,IAAI,EAAE,OAAO,CAAC,IAAI,IAAI,MAAM,IAAI,CAAC,CAAC,IAASyF,EAAE,MAAM,SAAS9K,EAAE8K,GAAE,GAAGC,EAAE/K,EAAE,OAAO,CAAC,IAAI7B,EAAE6B,EAAE,MAAM,EAAE,CAAC+K,CAAC,EAAE,OAAOD,EAAE,MAAM,SAAS3M,EAAE2M,CAAC,CAAC,OAAO,IAAI,CAAC,EAAE,CAAC,IAAI,eAAe,IAAI,UAAU,CAAC,OAAOA,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,cAAc,IAAI,UAAU,CAAC,OAAOA,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE9G,CAAC,EAAG,CAAA,EAAE,SAASA,EAAE,EAAE+G,EAAE,CAAc,SAAS/K,EAAEgE,EAAEqB,EAAE,CAAC,GAAG,EAAErB,aAAaqB,GAAG,MAAM,IAAI,UAAU,mCAAmC,CAAC,CAAC0F,EAAE,EAAE,EAAE,IAAI,UAAU,CAAC,OAAOpC,CAAC,CAAC,EAAE,IAAIwP,EAAEpN,EAAE,CAAC,EAAED,EAAEC,EAAE,CAAC,EAAE5M,EAAE,UAAU,CAAC,SAAS6F,EAAEA,EAAEqB,EAAE,CAAC,QAAQ0F,EAAE,EAAEA,EAAE1F,EAAE,OAAO0F,IAAI,CAAC,IAAI/K,EAAEqF,EAAE0F,GAAG/K,EAAE,WAAWA,EAAE,YAAY,GAAGA,EAAE,aAAa,GAAG,UAAUA,IAAIA,EAAE,SAAS,IAAI,OAAO,eAAegE,EAAEhE,EAAE,IAAIA,CAAC,CAAC,CAAC,CAAC,OAAO,SAASqF,EAAE0F,EAAE/K,EAAE,CAAC,OAAO+K,GAAG/G,EAAEqB,EAAE,UAAU0F,CAAC,EAAE/K,GAAGgE,EAAEqB,EAAErF,CAAC,EAAEqF,CAAC,CAAC,EAAG,EAAC8I,EAAEgK,EAAE,EAAE,YAAY,IAAIxP,EAAE,UAAU,CAAC,SAAS3E,EAAEqB,EAAE,CAACrF,EAAE,KAAKgE,CAAC,EAAE,KAAK,aAAaqB,EAAE,KAAK,OAAO,KAAK,KAAK,yBAAyB,EAAE,KAAK,SAAS,KAAK,KAAK,QAAQ,CAAE,EAAC,KAAK,UAAU8S,EAAE,EAAE,aAAY,EAAG,KAAK,aAAaA,EAAE,EAAE,yBAAwB,CAAE,CAAC,OAAOha,EAAE6F,EAAE,CAAC,CAAC,IAAI,mBAAmB,MAAM,SAASA,EAAEqB,EAAE,CAAC,IAAI0F,EAAE,KAAK,OAAO,IAAI,QAAQ,SAAS/K,EAAE8K,EAAE,CAAC,IAAI3M,EAAEga,EAAE,EAAE,oBAAoBnU,EAAEqB,CAAC,EAAE0F,EAAE,aAAa,aAAa5M,CAAC,EAAE,KAAK,SAAS6F,EAAE,CAAC+G,EAAE,WAAW/G,CAAC,EAAEhE,EAAEgE,CAAC,CAAC,CAAC,EAAE,MAAM,SAASA,EAAE,CAAC8G,EAAE9G,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,gCAAgC,MAAM,SAASA,EAAE,CAAC,IAAIqB,EAAE,KAAK0F,EAAEoN,EAAE,EAAE,4BAA4BnU,EAAE,KAAK,wBAAwB,EAAE,GAAS+G,GAAN,KAAQ,CAAC,IAAI/K,EAAE,CAAA,EAAG,OAAO,KAAK,iBAAiBgE,EAAEhE,CAAC,CAAC,CAAC,OAAO,IAAI,QAAQ,SAASA,EAAEmY,EAAE,CAAC9S,EAAE,aAAa,aAAa0F,CAAC,EAAE,KAAK,SAAS/G,EAAE,CAACqB,EAAE,WAAWrB,CAAC,EAAEhE,EAAEgE,CAAC,CAAC,CAAC,EAAE,MAAM,SAAS+G,EAAE,CAAC,WAAW,UAAU,CAAC1F,EAAE,0BAA0B,EAAEA,EAAE,8BAA8BrB,CAAC,EAAE,MAAM,UAAU,CAACmU,EAAEpN,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,eAAe,MAAM,SAAS/G,EAAE,CAAC,GAAG,cAAc,KAAK,aAAa,KAAK,aAAa,UAAUA,MAAM,CAAC,IAAIqB,EAAE,KAAK,UAAU,gBAAgBrB,CAAC,EAAE,KAAK,aAAa,IAAIqB,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,eAAe,MAAM,SAASrB,EAAE,CAAC,KAAK,SAAS,KAAK,IAAIqB,EAAErB,GAAGA,EAAE,UAAUA,EAAE,UAAW,EAAC,GAAGqB,EAAE,OAAO,GAAGA,EAAE,GAAG,cAAc,KAAK,SAASA,EAAE,GAAG,YAAW,EAAG,CAAC,EAAE,CAAC,IAAI,2BAA2B,MAAM,UAAU,CAAC,IAAIrB,EAAE,KAAK,OAAO,IAAI,QAAQ,SAASqB,EAAE0F,EAAE,CAAC,IAAI/K,EAAE,CAAE,EAACgE,EAAE,aAAa,iBAAkB,EAAC,KAAK,SAASA,EAAE,CAACA,EAAE,QAAQ,SAASA,EAAE,CAAgBA,EAAE,OAAjB,cAAuBA,EAAE,UAAUhE,EAAE,KAAKgE,CAAC,CAAC,CAAC,EAAEqB,EAAErF,CAAC,CAAC,CAAC,EAAE,MAAM,SAASgE,EAAE,CAAC+G,EAAE/G,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,aAAa,MAAM,SAASA,EAAE,CAAC,KAAK,OAAOA,EAAE,KAAK,aAAaA,CAAC,EAAE,KAAK,aAAaA,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,oBAAoB,MAAM,UAAU,CAAC,OAAO,KAAK,QAAQ,CAAC,EAAE,CAAC,IAAI,mBAAmB,MAAM,UAAU,CAAC,IAAIA,EAAE,KAAK,OAAO,KAAK,OAAO,KAAK,yBAA0B,EAAC,KAAK,WAAY,EAAC,KAAK,UAAU,CAAA,CAAE,EAAE,MAAM,UAAU,CAAA,CAAE,EAAE,KAAK,UAAU,CAAC,IAAIqB,EAAE,CAAC,MAAM,EAAE,EAAE,OAAOrB,EAAE,aAAa,aAAaqB,CAAC,EAAE,KAAK,SAASrB,EAAE,CAAC,WAAW,UAAU,CAACA,EAAE,UAAW,EAAC,QAAQ,SAASA,EAAE,CAACA,EAAE,KAAM,CAAA,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,KAAK,UAAU,CAAA,CAAE,EAAE,MAAM,UAAU,CAAA,CAAE,EAAE,KAAK,UAAU,CAAC,OAAOA,EAAE,yBAAwB,CAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,cAAc,MAAM,SAASA,EAAEqB,EAAE,CAAC,IAAI0F,EAAE,KAAK,OAAO,KAAK,WAAU,EAAG,KAAK,UAAU,CAAE,CAAA,EAAE,MAAM,UAAU,CAAE,CAAA,EAAE,KAAK,UAAU,CAAC,OAAOA,EAAE,iBAAiB/G,EAAEqB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,2BAA2B,MAAM,UAAU,CAAC,IAAIrB,EAAE,KAAKqB,EAAE,UAAU,OAAO,GAAY,UAAU,KAAnB,OAAsB,UAAU,GAAG,GAAG,OAAO,KAAK,yBAAyB,EAAE,KAAK,WAAU,EAAG,KAAK,UAAU,CAAE,CAAA,EAAE,MAAM,UAAU,EAAE,EAAE,KAAK,UAAU,CAAC,OAAOrB,EAAE,8BAA8BqB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,aAAa,MAAM,SAASrB,EAAE,CAAC,IAAIqB,EAAE,CAAC,WAAoBrB,EAAE,aAAX,OAAsB8G,EAAE,EAAE9G,EAAE,WAAW,UAAmBA,EAAE,YAAX,OAAqBmK,EAAEnK,EAAE,UAAU,iBAA0BA,EAAE,mBAAX,OAA4B8G,EAAE,EAAE9G,EAAE,iBAAiB,cAAuBA,EAAE,gBAAX,OAAyB8G,EAAE,EAAE9G,EAAE,aAAa,EAAE,OAAOmU,EAAE,EAAE,WAAW,KAAK,aAAa9S,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,aAAa,MAAM,UAAU,CAAC,IAAIrB,EAAE,KAAK,OAAO,IAAI,QAAQ,SAASqB,EAAE0F,EAAE,CAAC/G,EAAE,SAASA,EAAE,OAAO,UAAW,EAAC,QAAQ,SAASA,EAAE,CAACA,EAAE,KAAM,CAAA,CAAC,EAAEA,EAAE,aAAa,IAAI,GAAGA,EAAE,OAAO,KAAKA,EAAE,aAAa,IAAI,EAAEqB,EAAC,GAAI0F,EAAE,MAAM,oBAAoB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE/G,CAAC,EAAC,CAAE,EAAE,SAASA,EAAE,EAAE+G,EAAE,CAAcA,EAAE,EAAE,EAAE,IAAI,UAAU,CAAC,OAAO/K,CAAC,CAAC,EAAE+K,EAAE,EAAE,EAAE,IAAI,UAAU,CAAC,OAAOoN,CAAC,CAAC,EAAEpN,EAAE,EAAE,EAAE,IAAI,UAAU,CAAC,OAAOD,CAAC,CAAC,EAAE,IAAI9K,EAAE,EAAEmY,EAAE,KAAKrN,EAAE,EAAE,EAAE,SAAS9G,EAAE,EAAE+G,EAAE,CAAc,IAAI/K,EAAE+K,EAAE,EAAE,EAAEA,EAAE,EAAE,EAAE,IAAI,UAAU,CAAC,OAAO/K,EAAE,CAAC,CAAC,CAAC,EAAE,SAASgE,EAAE,EAAE+G,EAAE,CAAc,SAAS/K,EAAEgE,EAAE,CAAC,QAAQqB,EAAE,KAAKrB,EAAE,MAAM,GAAG,EAAE,EAAE,EAAE+G,EAAE/G,EAAE,MAAM,GAAG,EAAE,GAAG,MAAM,GAAG,EAAE,GAAG,MAAM,GAAG,EAAE,GAAGhE,EAAE,IAAI,YAAYqF,EAAE,MAAM,EAAE8S,EAAE,IAAI,WAAWnY,CAAC,EAAE8K,EAAE,EAAEA,EAAEzF,EAAE,OAAOyF,IAAIqN,EAAErN,GAAGzF,EAAE,WAAWyF,CAAC,EAAE,OAAO,IAAI,KAAK,CAAC9K,CAAC,EAAE,CAAC,KAAK+K,CAAC,CAAC,CAAC,CAAC,SAASoN,EAAEnU,EAAEqB,EAAE,CAAC,OAAOrB,GAAG,GAAGA,EAAE,QAAQqB,EAAErB,EAAE,IAAI,MAAMqB,EAAErB,EAAE,OAAO,CAAC,EAAE,KAAK,GAAG,EAAEA,CAAC,CAAC,SAAS8G,EAAE9G,EAAE,CAAC,IAAIqB,EAAEgT,EAAE,EAAE,IAAI,OAAqBrU,IAAf,eAAmBqB,EAAEgT,EAAE,EAAE,KAAKhT,CAAC,CAAC,SAASlH,EAAE6F,EAAEqB,EAAE0F,EAAE,CAAC,OAAO/G,EAAE,IAAImU,EAAE9S,EAAE,CAAC,EAAE,IAAIyF,EAAEC,CAAC,CAAC,CAAC,SAASoD,EAAEnK,EAAEqB,EAAE0F,EAAE,CAAC,OAAO,IAAI,OAAO,WAAW,OAAO,IAAI,IAAI/K,EAAE,SAAS,cAAc,GAAG,EAAEA,EAAE,SAAS7B,EAAEkH,EAAE0F,EAAE/G,EAAE,IAAI,EAAEhE,EAAE,KAAK,OAAO,IAAI,gBAAgBgE,CAAC,EAAE,IAAImU,EAAE,SAAS,YAAY,aAAa,EAAEA,EAAE,eAAe,QAAQ,GAAG,GAAG,OAAO,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,EAAEnY,EAAE,cAAcmY,CAAC,CAAC,CAAC,SAASxP,EAAE3E,EAAE,CAAC,IAAIqB,EAAE,UAAU,OAAO,GAAY,UAAU,KAAnB,OAAsB,UAAU,GAAG,QAAQ0F,EAAE,UAAU,OAAO,GAAY,UAAU,KAAnB,OAAsB,UAAU,GAAG,EAAEoD,EAAEnO,EAAEgE,CAAC,EAAEqB,EAAE0F,CAAC,CAAC,CAAC,EAAE,EAAEpC,EAAE,IAAI0P,EAAEtN,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,8BCahkU,MAAAwN,GAAYzJ,GAAiB,EAAE,EAG/B0J,GAAY1J,GAAsB,CAAA,CAAE,EAQpC2J,GAAuB3J,GAAwB,EAc/C4J,GAAiB5J,GAAiB,CAAC,EACnC6J,GAAgB7J,GAAiC,IAAI,EACrD8J,GAAe9J,GAAiB,EAE7C,IAAI+J,GAAe,OAEN,MAAAC,GAAWzJ,GAAQuJ,GAA+BG,GAAA,CAG7D,MAAMD,EAAsB,CAC1B,eAHYE,GAAM,UAAeX,GAAAA,EAAE,OAASU,CAAa,EAIzD,YAAaA,EACb,aAAAF,EAAA,EAGa,OAAAA,GAAAE,EAERD,CACT,CAAC,EAEYG,EAAgBnK,GAAiB,SAAS,ECvD3C,IAAAoK,IAAAA,IACVA,EAAA,SAAW,WACXA,EAAA,gBAAkB,kBAClBA,EAAA,iBAAmB,mBACnBA,EAAA,QAAU,UACVA,EAAA,SAAW,WACXA,EAAA,YAAc,cACdA,EAAA,KAAO,OACPA,EAAA,eAAiB,iBACjBA,EAAA,yBAA2B,2BAC3BA,EAAA,kBAAoB,oBACpBA,EAAA,sBAAwB,wBACxBA,EAAA,OAAS,SAZCA,IAAAA,IAAA,CAAA,CAAA,EAeAC,IAAAA,IACVA,EAAA,GAAK,KACLA,EAAA,QAAU,UAFAA,IAAAA,IAAA,CAAA,CAAA,EAgDAC,IAAAA,IACVA,EAAA,SAAW,WACXA,EAAA,uBAAyB,yBACzBA,EAAA,SAAW,WACXA,EAAA,QAAU,UACVA,EAAA,UAAY,YACZA,EAAA,OAAS,SANCA,IAAAA,IAAA,CAAA,CAAA,EChEL,MAAMC,GAAc,CACzBzV,EACA0V,EACAC,IACW,CACX,MAAM5U,EAAM2U,EAAK,KAAU7K,GAAAA,EAAE,OAAS7K,CAAI,EAC1C,GAAI,CAACe,EAAY,MAAA,GACX,MAAA6U,EAAO7U,EAAI,MAAM,KAAKS,GAAKA,EAAE,OAASmU,CAAQ,GAAK5U,EAAI,MAAM,GACnE,OAAK6U,EACEA,EAAK,OADM,EAEpB,ECPMC,GAA2B,CAC/B,KAAM9F,EAAS,WACf,MAAO,CACL,WAAY,CACV,IAAK,4DACL,IAAK,OACL,MAAO,OACP,OAAQ,MACV,EACA,MAAO,CACL,KAAM,OACN,WAAY,aACd,CACF,CACF,EAEM+F,GAA4B,CAChC,KAAM/F,EAAS,gBACf,MAAO,CACL,WAAY,CACV,IAAK,6DACL,IAAK,OACL,MAAO,OACP,OAAQ,MACV,EACA,MAAO,CACL,MAAO,OACP,WAAY,aACd,CACF,CACF,EAEMgG,GAAgC,CACpC,KAAMhG,EAAS,WACf,MAAO,CACL,WAAY,CACV,GAAG8F,GAAe,MAAM,WACxB,IAAK,iEACP,EACA,MAAOA,GAAe,MAAM,KAC9B,CACF,EAEMG,GAAqB,CACzB,CAAClG,EAAM,SAAU,CACf,KAAMA,EAAM,QACZ,GAAIA,EAAM,QACV,MAAO,CAAC,EACR,SAAU,CACR+F,GACAC,GACA,CACE,KAAM/F,EAAS,MACf,MAAO,CACL,MAAO,CACL,aAAc,SACd,QAAS,eACT,YAAa,MACf,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,aAAc,SACd,OAAQ,MACR,YAAa,MACf,EACA,QAAS,aACX,CACF,EACA,CACE,KAAMA,EAAS,MACf,MAAO,CACL,MAAO,CACL,OAAQ,WACR,YAAa,CACf,EACA,WAAY,CACV,IAAK,+DACL,IAAK,UACL,MAAO,QACP,OAAQ,OACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,OACf,MAAO,CAAC,CACV,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,OAAQ,iBACR,aAAc,SACd,YAAa,MACf,EACA,QAAS,KACX,CACF,CACF,CACF,EACA,CAACD,EAAM,eAAgB,CACrB,KAAMA,EAAM,cACZ,GAAIA,EAAM,cACV,SAAU,CACR+F,GACAC,GACA,CACE,KAAM/F,EAAS,MACf,MAAO,CACL,MAAO,CACL,aAAc,SACd,QAAS,eACT,YAAa,MACf,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,aAAc,SACd,OAAQ,MACR,YAAa,MACf,EACA,QAAS,aACX,CACF,EACA,CACE,KAAMA,EAAS,MACf,MAAO,CACL,MAAO,CACL,OAAQ,WACR,YAAa,CACf,EACA,WAAY,CACV,IAAK,+DACL,IAAK,UACL,MAAO,QACP,OAAQ,OACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,OACf,MAAO,CAAC,CACV,CACF,CACF,EACA,CAACD,EAAM,mBAAoB,CACzB,KAAMA,EAAM,kBACZ,GAAIA,EAAM,kBACV,SAAU,CACR+F,GACAC,GACA,CACE,KAAM/F,EAAS,MACf,MAAO,CACL,MAAO,CACL,QAAS,eACX,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,OAAQ,kBACV,EACA,QAAS,aACX,CACF,CACF,CACF,EACA,CAACD,EAAM,eAAgB,CACrB,KAAMA,EAAM,cACZ,GAAIA,EAAM,cACV,SAAU,CACRiG,GACA,CACE,KAAMhG,EAAS,MACf,MAAO,CACL,MAAO,CACL,MAAO,OACP,cAAe,IACf,aAAc,SACd,QAAS,mBACX,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,OAAQ,qBACR,MAAO,OACP,aAAc,QAChB,CACF,CACF,EACA,CACE,KAAMA,EAAS,eACf,MAAO,CACL,MAAO,CACL,OAAQ,KACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,OACf,MAAO,CAAC,CACV,EACA,CACE,KAAMA,EAAS,aACf,MAAO,CACL,MAAO,CACL,OAAQ,eACV,CACF,CACF,CACF,CACF,EACA,CAACD,EAAM,eAAgB,CACrB,KAAMA,EAAM,cACZ,GAAIA,EAAM,cACV,SAAU,CACR+F,GACAC,GACA,CACE,KAAM/F,EAAS,MACf,MAAO,CACL,MAAO,CACL,QAAS,eACX,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,OAAQ,cACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,MACf,MAAO,CACL,MAAO,CACL,OAAQ,KACV,CACF,CACF,CACF,CACF,EACA,CAACD,EAAM,wBAAyB,CAC9B,KAAMA,EAAM,uBACZ,GAAIA,EAAM,uBACV,MAAO,CAAC,EACR,SAAU,CACR+F,GACAC,GACA,CACE,KAAM/F,EAAS,MACf,GAAI,iBACJ,MAAO,CACL,MAAO,CACL,QAAS,eACX,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,OAAQ,GACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,MACf,MAAO,CACL,MAAO,CACL,OAAQ,WACR,YAAa,CACf,EACA,WAAY,CACV,IAAK,iFACL,IAAK,4BACL,MAAO,QACP,OAAQ,OACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,OACf,MAAO,CACL,MAAO,CACL,OAAQ,mBACV,CACF,CACF,CACF,CACF,EACA,CAACD,EAAM,mBAAoB,CACzB,KAAMA,EAAM,kBACZ,GAAIA,EAAM,kBACV,SAAU,CACRiG,GACA,CACE,KAAMhG,EAAS,MACf,MAAO,CACL,MAAO,CACL,MAAO,OACP,cAAe,IACf,aAAc,SACd,QAAS,mBACX,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,OAAQ,qBACR,MAAO,MACT,CACF,CACF,EACA,CACE,KAAMA,EAAS,OACf,MAAO,CAAC,CACV,EACA,CACE,KAAMA,EAAS,eACf,MAAO,CACL,MAAO,CACL,OAAQ,KACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,aACf,MAAO,CACL,MAAO,CACL,OAAQ,eACV,CACF,CACF,CACF,CACF,EACA,CAACD,EAAM,wBAAyB,CAC9B,KAAMA,EAAM,uBACZ,GAAIA,EAAM,uBACV,SAAU,CACR+F,GACAC,GACA,CACE,KAAM/F,EAAS,MACf,MAAO,CACL,MAAO,CACL,QAAS,eACX,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,OAAQ,cACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,MACf,MAAO,CACL,MAAO,CACL,OAAQ,KACV,CACF,CACF,CACF,CACF,EACA,CAACD,EAAM,aAAc,CACnB,KAAMA,EAAM,YACZ,GAAIA,EAAM,YACV,MAAO,CAAC,EACR,SAAU,CACR+F,GACAC,GACA,CACE,KAAM/F,EAAS,MACf,MAAO,CACL,MAAO,CACL,QAAS,eACX,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,OAAQ,GACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,MACf,MAAO,CACL,MAAO,CACL,OAAQ,WACR,YAAa,CACf,EACA,WAAY,CACV,IAAK,oEACL,IAAK,eACL,MAAO,OACP,OAAQ,OACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,OACf,MAAO,CAAC,CACV,CACF,CACF,EACA,CAACD,EAAM,QAAS,CACd,KAAMA,EAAM,OACZ,GAAIA,EAAM,OACV,SAAU,CACRiG,GACA,CACE,KAAMhG,EAAS,MACf,MAAO,CACL,MAAO,CACL,MAAO,OACP,cAAe,IACf,aAAc,SACd,QAAS,mBACX,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,OAAQ,qBACR,MAAO,MACT,CACF,CACF,EACA,CACE,KAAMA,EAAS,OACf,MAAO,CAAC,CACV,EACA,CACE,KAAMA,EAAS,eACf,MAAO,CACL,MAAO,CACL,OAAQ,KACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,aACf,MAAO,CACL,MAAO,CACL,OAAQ,eACV,CACF,CACF,CACF,CACF,EACA,CAACD,EAAM,aAAc,CACnB,KAAMA,EAAM,YACZ,GAAIA,EAAM,YACV,SAAU,CACR+F,GACAC,GACA,CACE,KAAM/F,EAAS,MACf,MAAO,CACL,MAAO,CACL,QAAS,eACX,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,OAAQ,cACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,MACf,MAAO,CACL,MAAO,CACL,OAAQ,KACV,CACF,CACF,CACF,CACF,EACA,CAACD,EAAM,SAAU,CACf,KAAMA,EAAM,QACZ,GAAIA,EAAM,QACV,SAAU,CAAC,CACb,EACA,CAACA,EAAM,cAAe,CACpB,KAAMA,EAAM,aACZ,GAAIA,EAAM,aACV,SAAU,CACRgG,GACA,CACE,KAAM/F,EAAS,MACf,MAAO,CACL,MAAO,CACL,OAAQ,iBACR,aAAc,QAChB,EACA,WAAY,CACV,IAAK,gEACL,IAAK,UACL,MAAO,OACP,OAAQ,MACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,MACf,MAAO,CACL,MAAO,CACL,QAAS,cACT,aAAc,QAChB,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,WAAY,cACZ,OAAQ,eACR,OAAQ,OACR,MAAO,SACT,CACF,CACF,EAEA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,WAAY,cACZ,OAAQ,eACR,OAAQ,OACR,MAAO,SACT,CACF,CACF,EACA,CACE,KAAMA,EAAS,OACf,MAAO,CAAC,CACV,CACF,CACF,EACA,CAACD,EAAM,SAAU,CACf,KAAMA,EAAM,QACZ,GAAIA,EAAM,QACV,SAAU,CACRgG,GACA,CACE,KAAM/F,EAAS,MACf,MAAO,CACL,MAAO,CACL,OAAQ,gBACV,EACA,WAAY,CACV,IAAK,+DACL,IAAK,UACL,MAAO,OACP,OAAQ,MACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,MACf,MAAO,CACL,MAAO,CACL,QAAS,cACT,aAAc,QAChB,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,WAAY,cACZ,OAAQ,eACR,OAAQ,OACR,MAAO,SACT,CACF,CACF,EAEA,CACE,KAAMA,EAAS,UACf,MAAO,CAAC,CACV,EACA,CACE,KAAMA,EAAS,OACf,MAAO,CAAC,CACV,CACF,CACF,EACA,CAACD,EAAM,OAAQ,CACb,KAAMA,EAAM,MACZ,GAAIA,EAAM,MACV,SAAU,CACRgG,GACA,CACE,KAAM/F,EAAS,MACf,MAAO,CACL,MAAO,CACL,OAAQ,gBACV,EACA,WAAY,CACV,IAAK,+DACL,IAAK,UACL,MAAO,OACP,OAAQ,MACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,MACf,MAAO,CACL,MAAO,CACL,QAAS,cACT,a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hG,EAAS,WACf,MAAO,CACL,WAAY,CACV,GAAG8F,GAAe,MAAM,WACxB,IAAK,iEACP,EACA,MAAOA,GAAe,MAAM,KAC9B,CACF,EAEMG,GAAqB,CACzB,CAAClG,EAAM,SAAU,CACf,KAAMA,EAAM,QACZ,GAAIA,EAAM,QACV,SAAU,CACRiG,GACAD,GACA,CACE,KAAM/F,EAAS,MACf,MAAO,CACL,MAAO,CACL,QAAS,eACX,CACF,CACF,EACA,CACE,KAAMA,EAAS,MACf,MAAO,CACL,MAAO,CACL,OAAQ,gBACR,YAAa,CACf,EACA,WAAY,CACV,IAAK,uDACL,IAAK,UACL,MAAO,QACP,OAAQ,OACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,aAAc,SACd,OAAQ,eACR,YAAa,MACf,CACF,CACF,EACA,CACE,KAAMA,EAAS,OACf,MAAO,CACL,MAAO,CACP,CACF,CACF,CACF,CACF,EACA,CAACD,EAAM,mBAAoB,CACzB,KAAMA,EAAM,kBACZ,GAAIA,EAAM,kBACV,SAAU,CACRiG,GACAD,GACA,CACE,KAAM/F,EAAS,MACf,MAAO,CACL,MAAO,CACL,QAAS,eACX,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,OAAQ,kBACV,EACA,QAAS,aACX,CACF,CACF,CACF,EACA,CAACD,EAAM,eAAgB,CACrB,KAAMA,EAAM,cACZ,GAAIA,EAAM,cACV,SAAU,CACRiG,GACA,CACE,KAAMhG,EAAS,MACf,MAAO,CACL,MAAO,CACL,MAAO,OACP,cAAe,IACf,YAAa,OACb,aAAc,SACd,QAAS,kBACX,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,OAAQ,qBACR,MAAO,UACP,aAAc,QAChB,CACF,CACF,EACA,CACE,KAAMA,EAAS,OACf,MAAO,CAAC,CACV,EACA,CACE,KAAMA,EAAS,eACf,MAAO,CACL,MAAO,CACL,OAAQ,KACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,aACf,MAAO,CACL,MAAO,CACL,OAAQ,eACV,CACF,CACF,CACF,CACF,EACA,CAACD,EAAM,eAAgB,CACrB,KAAMA,EAAM,cACZ,GAAIA,EAAM,cACV,SAAU,CACRiG,GACAD,GACA,CACE,KAAM/F,EAAS,MACf,MAAO,CACL,MAAO,CACL,QAAS,eACX,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,OAAQ,cACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,MACf,MAAO,CACL,MAAO,CACL,OAAQ,KACV,CACF,CACF,CACF,CACF,EACA,CAACD,EAAM,wBAAyB,CAC9B,KAAMA,EAAM,uBACZ,GAAIA,EAAM,uBACV,MAAO,CAAC,EACR,SAAU,CACRiG,GACAD,GACA,CACE,KAAM/F,EAAS,MACf,GAAI,iBACJ,MAAO,CACL,MAAO,CACL,QAAS,eACX,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,OAAQ,GACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,MACf,MAAO,CACL,MAAO,CACL,OAAQ,WACR,YAAa,CACf,EACA,WAAY,CACV,IAAK,yEACL,IAAK,4BACL,MAAO,QACP,OAAQ,OACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,OACf,MAAO,CACL,MAAO,CACL,OAAQ,mBACV,CACF,CACF,CACF,CACF,EACA,CAACD,EAAM,mBAAoB,CACzB,KAAMA,EAAM,kBACZ,GAAIA,EAAM,kBACV,SAAU,CACRiG,GACA,CACE,KAAMhG,EAAS,MACf,MAAO,CACL,MAAO,CACL,MAAO,OACP,cAAe,IACf,aAAc,SACd,QAAS,kBACX,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,OAAQ,qBACR,MAAO,SACT,CACF,CACF,EACA,CACE,KAAMA,EAAS,eACf,MAAO,CACL,MAAO,CACL,OAAQ,KACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,OACf,MAAO,CAAC,CACV,EACA,CACE,KAAMA,EAAS,aACf,MAAO,CACL,MAAO,CACL,OAAQ,eACV,CACF,CACF,CACF,CACF,EACA,CAACD,EAAM,wBAAyB,CAC9B,KAAMA,EAAM,uBACZ,GAAIA,EAAM,uBACV,SAAU,CACRiG,GACAD,GACA,CACE,KAAM/F,EAAS,MACf,MAAO,CACL,MAAO,CACL,QAAS,eACX,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,OAAQ,cACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,MACf,MAAO,CACL,MAAO,CACL,OAAQ,KACV,CACF,CACF,CACF,CACF,EACA,CAACD,EAAM,aAAc,CACnB,KAAMA,EAAM,YACZ,GAAIA,EAAM,YACV,MAAO,CAAC,EACR,SAAU,CACRiG,GACAD,GACA,CACE,KAAM/F,EAAS,MACf,MAAO,CACL,MAAO,CACL,QAAS,eACX,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,OAAQ,GACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,MACf,MAAO,CACL,MAAO,CACL,OAAQ,WACR,YAAa,CACf,EACA,WAAY,CACV,IAAK,4DACL,IAAK,eACL,MAAO,OACP,OAAQ,OACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,OACf,MAAO,CAAC,CACV,CACF,CACF,EACA,CAACD,EAAM,QAAS,CACd,KAAMA,EAAM,OACZ,GAAIA,EAAM,OACV,SAAU,CACRiG,GACA,CACE,KAAMhG,EAAS,MACf,MAAO,CACL,MAAO,CACL,MAAO,OACP,cAAe,IACf,aAAc,SACd,QAAS,mBACX,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,OAAQ,qBACR,MAAO,SACT,CACF,CACF,EACA,CACE,KAAMA,EAAS,eACf,MAAO,CACL,MAAO,CACL,OAAQ,KACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,OACf,MAAO,CAAC,CACV,EACA,CACE,KAAMA,EAAS,aACf,MAAO,CACL,MAAO,CACL,OAAQ,eACV,CACF,CACF,CACF,CACF,EACA,CAACD,EAAM,aAAc,CACnB,KAAMA,EAAM,YACZ,GAAIA,EAAM,YACV,SAAU,CACRiG,GACAD,GACA,CACE,KAAM/F,EAAS,MACf,MAAO,CACL,MAAO,CACL,QAAS,eACX,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,OAAQ,cACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,MACf,MAAO,CACL,MAAO,CACL,OAAQ,KACV,CACF,CACF,CACF,CACF,EACA,CAACD,EAAM,SAAU,CACf,KAAMA,EAAM,QACZ,GAAIA,EAAM,QACV,SAAU,CAAC,CACb,EACA,CAACA,EAAM,cAAe,CACpB,KAAMA,EAAM,aACZ,GAAIA,EAAM,aACV,SAAU,CACRgG,GACA,CACE,KAAM/F,EAAS,MACf,MAAO,CACL,MAAO,CACL,QAAS,cACT,aAAc,QAChB,CACF,CACF,EACA,CACE,KAAMA,EAAS,MACf,MAAO,CACL,MAAO,CACL,OAAQ,iBACR,aAAc,QAChB,EACA,WAAY,CACV,IAAK,wDACL,IAAK,UACL,MAAO,OACP,OAAQ,MACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,WAAY,cACZ,OAAQ,eACR,OAAQ,OACR,MAAO,SACT,CACF,CACF,EAEA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,WAAY,cACZ,OAAQ,eACR,OAAQ,OACR,MAAO,SACT,CACF,CACF,EACA,CACE,KAAMA,EAAS,OACf,MAAO,CAAC,CACV,CACF,CACF,EACA,CAACD,EAAM,SAAU,CACf,KAAMA,EAAM,QACZ,GAAIA,EAAM,QACV,SAAU,CACRgG,GACA,CACE,KAAM/F,EAAS,MACf,MAAO,CACL,MAAO,CACL,QAAS,cACT,aAAc,QAChB,CACF,CACF,EACA,CACE,KAAMA,EAAS,MACf,MAAO,CACL,MAAO,CACL,OAAQ,gBACV,EACA,WAAY,CACV,IAAK,uDACL,IAAK,UACL,MAAO,OACP,OAAQ,MACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,WAAY,cACZ,OAAQ,eACR,OAAQ,OACR,MAAO,SACT,CACF,CACF,EAEA,CACE,KAAMA,EAAS,UACf,MAAO,CAAC,CACV,EACA,CACE,KAAMA,EAAS,OACf,MAAO,CAAC,CACV,CACF,CACF,EACA,CAACD,EAAM,OAAQ,CACb,KAAMA,EAAM,MACZ,GAAIA,EAAM,MACV,SAAU,CACRgG,GACA,CACE,KAAM/F,EAAS,MACf,MAAO,CACL,MAAO,CACL,QAAS,cACT,aAAc,QAChB,CACF,CACF,EACA,CACE,KAAMA,EAAS,MACf,MAAO,CACL,MAAO,CACL,OAAQ,gBACV,EACA,WAAY,CACV,IAAK,uDACL,IAAK,UACL,MAAO,OACP,OAAQ,MACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,WAAY,cACZ,OAAQ,eACR,OAAQ,OACR,MAAO,SACT,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,OAAQ,UACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,OACf,MAAO,CAAC,CACV,CACF,CACF,EACA,CAACD,EAAM,OAAQ,CACb,KAAMA,EAAM,MACZ,GAAIA,EAAM,MACV,MAAO,CAAC,EACR,SAAU,CACRgG,GACA,CACE,KAAM/F,EAAS,MACf,MAAO,CACL,MAAO,CACL,QAAS,cACT,aAAc,MAChB,CACF,CACF,EACA,CACE,KAAMA,EAAS,MACf,MAAO,CACL,MAAO,CACL,OAAQ,kBACR,aAAc,QAChB,EACA,WAAY,CACV,IAAK,qDACL,IAAK,QACL,MAAO,OACP,OAAQ,MACV,CACF,CACF,EACA,CACE,KAAMA,EAAS,UACf,MAAO,CACL,MAAO,CACL,OAAQ,eACR,aAAc,QAChB,CACF,CACF,EAEA,CACE,KAAMA,EAAS,MACf,MAAO,CACL,WAAY,CACV,KAAM,aACN,KAAM,OACN,YAAa,eACb,SAAU,IAAM,GAChB,aAAc,MAChB,EACA,MAAO,CAAC,CACV,CACF,EACA,CACE,KAAMA,EAAS,MACf,MAAO,CACL,WAAY,CACV,KAAM,YACN,KAAM,OACN,YAAa,eACb,SAAU,IAAM,EAClB,EACA,MAAO,CAAC,CACV,CACF,EACA,CACE,KAAMA,EAAS,OACf,MAAO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"}